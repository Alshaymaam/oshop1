import{A as ze,B as sO,C as aO,D as en,E as Wr,F as Xl,G as Tu,H as uO,I as cO,J as U,K as Ft,L as Je,M as y_,N as lO,O as Ou,P as St,Q as mr,R as ed,S as b_,T as dO,U as ls,V as Mu,W as fO,X as hO,Y as zr,Z as It,a as N,b as De,c as QT,d as f,e as Yz,f as Kz,g as Qz,h as A,i as Kl,j as JT,k as Ql,l as ZT,m as XT,n as M,o as cs,p as Jl,q as eO,r as tO,s as rt,t as nO,u as __,v as rO,w as Bn,x as iO,y as oO,z as Zl}from"./chunk-ZO7DCTYM.js";var be=f(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.isFunction=void 0;function Ine(t){return typeof t=="function"}jp.isFunction=Ine});var jr=f(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.createErrorClass=void 0;function Cne(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}Lp.createErrorClass=Cne});var tS=f(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.UnsubscriptionError=void 0;var Dne=jr();qp.UnsubscriptionError=Dne.createErrorClass(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}})});var Lr=f(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.arrRemove=void 0;function Tne(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}Bp.arrRemove=Tne});var Et=f(Bt=>{"use strict";var Fj=Bt&&Bt.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jj=Bt&&Bt.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Lj=Bt&&Bt.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.isSubscription=Bt.EMPTY_SUBSCRIPTION=Bt.Subscription=void 0;var Tl=be(),nS=tS(),qj=Lr(),rS=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Fj(s),u=a.next();!u.done;u=a.next()){var c=u.value;c.remove(this)}}catch(_){e={error:_}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else s.remove(this);var l=this.initialTeardown;if(Tl.isFunction(l))try{l()}catch(_){o=_ instanceof nS.UnsubscriptionError?_.errors:[_]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=Fj(d),m=h.next();!m.done;m=h.next()){var g=m.value;try{Bj(g)}catch(_){o=o??[],_ instanceof nS.UnsubscriptionError?o=Lj(Lj([],jj(o)),jj(_.errors)):o.push(_)}}}catch(_){r={error:_}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(o)throw new nS.UnsubscriptionError(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)Bj(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&qj.arrRemove(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&qj.arrRemove(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();Bt.Subscription=rS;Bt.EMPTY_SUBSCRIPTION=rS.EMPTY;function One(t){return t instanceof rS||t&&"closed"in t&&Tl.isFunction(t.remove)&&Tl.isFunction(t.add)&&Tl.isFunction(t.unsubscribe)}Bt.isSubscription=One;function Bj(t){Tl.isFunction(t)?t():t.unsubscribe()}});var Ra=f(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.config=void 0;Up.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Vp=f(or=>{"use strict";var Uj=or&&or.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Vj=or&&or.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(or,"__esModule",{value:!0});or.timeoutProvider=void 0;or.timeoutProvider={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=or.timeoutProvider.delegate;return i?.setTimeout?i.setTimeout.apply(i,Vj([t,e],Uj(n))):setTimeout.apply(void 0,Vj([t,e],Uj(n)))},clearTimeout:function(t){var e=or.timeoutProvider.delegate;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0}});var iS=f(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.reportUnhandledError=void 0;var Mne=Ra(),Ane=Vp();function Pne(t){Ane.timeoutProvider.setTimeout(function(){var e=Mne.config.onUnhandledError;if(e)e(t);else throw t})}Hp.reportUnhandledError=Pne});var _t=f($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.noop=void 0;function xne(){}$p.noop=xne});var oS=f(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.createNotification=sr.nextNotification=sr.errorNotification=sr.COMPLETE_NOTIFICATION=void 0;sr.COMPLETE_NOTIFICATION=function(){return Wp("C",void 0,void 0)}();function Rne(t){return Wp("E",void 0,t)}sr.errorNotification=Rne;function Nne(t){return Wp("N",t,void 0)}sr.nextNotification=Nne;function Wp(t,e,n){return{kind:t,value:e,error:n}}sr.createNotification=Wp});var zp=f(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.captureError=Na.errorContext=void 0;var Hj=Ra(),Qo=null;function kne(t){if(Hj.config.useDeprecatedSynchronousErrorHandling){var e=!Qo;if(e&&(Qo={errorThrown:!1,error:null}),t(),e){var n=Qo,r=n.errorThrown,i=n.error;if(Qo=null,r)throw i}}else t()}Na.errorContext=kne;function Fne(t){Hj.config.useDeprecatedSynchronousErrorHandling&&Qo&&(Qo.errorThrown=!0,Qo.error=t)}Na.captureError=Fne});var Jo=f(kn=>{"use strict";var zj=kn&&kn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(kn,"__esModule",{value:!0});kn.EMPTY_OBSERVER=kn.SafeSubscriber=kn.Subscriber=void 0;var jne=be(),$j=Et(),cS=Ra(),Lne=iS(),Wj=_t(),sS=oS(),qne=Vp(),Bne=zp(),Gj=function(t){zj(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,$j.isSubscription(n)&&n.add(r)):r.destination=kn.EMPTY_OBSERVER,r}return e.create=function(n,r,i){return new Yj(n,r,i)},e.prototype.next=function(n){this.isStopped?uS(sS.nextNotification(n),this):this._next(n)},e.prototype.error=function(n){this.isStopped?uS(sS.errorNotification(n),this):(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped?uS(sS.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}($j.Subscription);kn.Subscriber=Gj;var Une=Function.prototype.bind;function aS(t,e){return Une.call(t,e)}var Vne=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Gp(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Gp(r)}else Gp(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Gp(n)}},t}(),Yj=function(t){zj(e,t);function e(n,r,i){var o=t.call(this)||this,s;if(jne.isFunction(n)||!n)s={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;o&&cS.config.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return o.unsubscribe()},s={next:n.next&&aS(n.next,a),error:n.error&&aS(n.error,a),complete:n.complete&&aS(n.complete,a)}):s=n}return o.destination=new Vne(s),o}return e}(Gj);kn.SafeSubscriber=Yj;function Gp(t){cS.config.useDeprecatedSynchronousErrorHandling?Bne.captureError(t):Lne.reportUnhandledError(t)}function Hne(t){throw t}function uS(t,e){var n=cS.config.onStoppedNotification;n&&qne.timeoutProvider.setTimeout(function(){return n(t,e)})}kn.EMPTY_OBSERVER={closed:!0,next:Wj.noop,error:Hne,complete:Wj.noop}});var Ol=f(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.observable=void 0;Yp.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var yt=f(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.identity=void 0;function $ne(t){return t}Kp.identity=$ne});var Ml=f(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.pipeFromArray=ka.pipe=void 0;var Wne=yt();function zne(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Kj(t)}ka.pipe=zne;function Kj(t){return t.length===0?Wne.identity:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}ka.pipeFromArray=Kj});var le=f(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.Observable=void 0;var dS=Jo(),Gne=Et(),Yne=Ol(),Kne=Ml(),Qne=Ra(),lS=be(),Jne=zp(),Zne=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,o=ere(e)?e:new dS.SafeSubscriber(e,n,r);return Jne.errorContext(function(){var s=i,a=s.operator,u=s.source;o.add(a?a.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Qj(n),new n(function(i,o){var s=new dS.SafeSubscriber({next:function(a){try{e(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[Yne.observable]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Kne.pipeFromArray(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Qj(e),new e(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},t.create=function(e){return new t(e)},t}();Qp.Observable=Zne;function Qj(t){var e;return(e=t??Qne.config.Promise)!==null&&e!==void 0?e:Promise}function Xne(t){return t&&lS.isFunction(t.next)&&lS.isFunction(t.error)&&lS.isFunction(t.complete)}function ere(t){return t&&t instanceof dS.Subscriber||Xne(t)&&Gne.isSubscription(t)}});var x=f(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.operate=Fa.hasLift=void 0;var tre=be();function Jj(t){return tre.isFunction(t?.lift)}Fa.hasLift=Jj;function nre(t){return function(e){if(Jj(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}Fa.operate=nre});var F=f(Ti=>{"use strict";var rre=Ti&&Ti.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ti,"__esModule",{value:!0});Ti.OperatorSubscriber=Ti.createOperatorSubscriber=void 0;var ire=Jo();function ore(t,e,n,r,i){return new Zj(t,e,n,r,i)}Ti.createOperatorSubscriber=ore;var Zj=function(t){rre(e,t);function e(n,r,i,o,s,a){var u=t.call(this,n)||this;return u.onFinalize=s,u.shouldUnsubscribe=a,u._next=r?function(c){try{r(c)}catch(l){n.error(l)}}:t.prototype._next,u._error=o?function(c){try{o(c)}catch(l){n.error(l)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(ire.Subscriber);Ti.OperatorSubscriber=Zj});var Zp=f(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.refCount=void 0;var sre=x(),are=F();function ure(){return sre.operate(function(t,e){var n=null;t._refCount++;var r=are.createOperatorSubscriber(e,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount){n=null;return}var i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}Jp.refCount=ure});var Al=f(ja=>{"use strict";var cre=ja&&ja.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ja,"__esModule",{value:!0});ja.ConnectableObservable=void 0;var lre=le(),Xj=Et(),dre=Zp(),fre=F(),hre=x(),pre=function(t){cre(e,t);function e(n,r){var i=t.call(this)||this;return i.source=n,i.subjectFactory=r,i._subject=null,i._refCount=0,i._connection=null,hre.hasLift(n)&&(i.lift=n.lift),i}return e.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},e.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n?.unsubscribe()},e.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new Xj.Subscription;var i=this.getSubject();r.add(this.source.subscribe(fre.createOperatorSubscriber(i,void 0,function(){n._teardown(),i.complete()},function(o){n._teardown(),i.error(o)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=Xj.Subscription.EMPTY)}return r},e.prototype.refCount=function(){return dre.refCount()(this)},e}(lre.Observable);ja.ConnectableObservable=pre});var fS=f(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.performanceTimestampProvider=void 0;Pl.performanceTimestampProvider={now:function(){return(Pl.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}});var Xp=f(Fn=>{"use strict";var eL=Fn&&Fn.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},tL=Fn&&Fn.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.animationFrameProvider=void 0;var mre=Et();Fn.animationFrameProvider={schedule:function(t){var e=requestAnimationFrame,n=cancelAnimationFrame,r=Fn.animationFrameProvider.delegate;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);var i=e(function(o){n=void 0,t(o)});return new mre.Subscription(function(){return n?.(i)})},requestAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Fn.animationFrameProvider.delegate;return(n?.requestAnimationFrame||requestAnimationFrame).apply(void 0,tL([],eL(t)))},cancelAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Fn.animationFrameProvider.delegate;return(n?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,tL([],eL(t)))},delegate:void 0}});var iL=f(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.animationFrames=void 0;var gre=le(),vre=fS(),nL=Xp();function _re(t){return t?rL(t):yre}em.animationFrames=_re;function rL(t){return new gre.Observable(function(e){var n=t||vre.performanceTimestampProvider,r=n.now(),i=0,o=function(){e.closed||(i=nL.animationFrameProvider.requestAnimationFrame(function(s){i=0;var a=n.now();e.next({timestamp:t?a:s,elapsed:a-r}),o()}))};return o(),function(){i&&nL.animationFrameProvider.cancelAnimationFrame(i)}})}var yre=rL()});var hS=f(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.ObjectUnsubscribedError=void 0;var bre=jr();tm.ObjectUnsubscribedError=bre.createErrorClass(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})});var nt=f(ar=>{"use strict";var sL=ar&&ar.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wre=ar&&ar.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ar,"__esModule",{value:!0});ar.AnonymousSubject=ar.Subject=void 0;var oL=le(),mS=Et(),Ere=hS(),Sre=Lr(),pS=zp(),aL=function(t){sL(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new gS(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new Ere.ObjectUnsubscribedError},e.prototype.next=function(n){var r=this;pS.errorContext(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=wre(r.currentObservers),a=s.next();!a.done;a=s.next()){var u=a.value;u.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;pS.errorContext(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;pS.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?mS.EMPTY_SUBSCRIPTION:(this.currentObservers=null,a.push(n),new mS.Subscription(function(){r.currentObservers=null,Sre.arrRemove(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,s=r.isStopped;i?n.error(o):s&&n.complete()},e.prototype.asObservable=function(){var n=new oL.Observable;return n.source=this,n},e.create=function(n,r){return new gS(n,r)},e}(oL.Observable);ar.Subject=aL;var gS=function(t){sL(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:mS.EMPTY_SUBSCRIPTION},e}(aL);ar.AnonymousSubject=gS});var vS=f(La=>{"use strict";var Ire=La&&La.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(La,"__esModule",{value:!0});La.BehaviorSubject=void 0;var Cre=nt(),Dre=function(t){Ire(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(Cre.Subject);La.BehaviorSubject=Dre});var Rl=f(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.dateTimestampProvider=void 0;xl.dateTimestampProvider={now:function(){return(xl.dateTimestampProvider.delegate||Date).now()},delegate:void 0}});var Nl=f(qa=>{"use strict";var Tre=qa&&qa.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(qa,"__esModule",{value:!0});qa.ReplaySubject=void 0;var Ore=nt(),Mre=Rl(),Are=function(t){Tre(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=Mre.dateTimestampProvider);var o=t.call(this)||this;return o._bufferSize=n,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,n),o._windowTime=Math.max(1,r),o}return e.prototype.next=function(n){var r=this,i=r.isStopped,o=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,u=r._windowTime;i||(o.push(n),!s&&o.push(a.now()+u)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,o=i._infiniteTimeWindow,s=i._buffer,a=s.slice(),u=0;u<a.length&&!n.closed;u+=o?1:2)n.next(a[u]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,o=n._buffer,s=n._infiniteTimeWindow,a=(s?1:2)*r;if(r<1/0&&a<o.length&&o.splice(0,o.length-a),!s){for(var u=i.now(),c=0,l=1;l<o.length&&o[l]<=u;l+=2)c=l;c&&o.splice(0,c+1)}},e}(Ore.Subject);qa.ReplaySubject=Are});var nm=f(Ba=>{"use strict";var Pre=Ba&&Ba.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ba,"__esModule",{value:!0});Ba.AsyncSubject=void 0;var xre=nt(),Rre=function(t){Pre(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._value=null,n._hasValue=!1,n._isComplete=!1,n}return e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r._hasValue,s=r._value,a=r.thrownError,u=r.isStopped,c=r._isComplete;i?n.error(a):(u||c)&&(o&&n.next(s),n.complete())},e.prototype.next=function(n){this.isStopped||(this._value=n,this._hasValue=!0)},e.prototype.complete=function(){var n=this,r=n._hasValue,i=n._value,o=n._isComplete;o||(this._isComplete=!0,r&&t.prototype.next.call(this,i),t.prototype.complete.call(this))},e}(xre.Subject);Ba.AsyncSubject=Rre});var uL=f(Ua=>{"use strict";var Nre=Ua&&Ua.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ua,"__esModule",{value:!0});Ua.Action=void 0;var kre=Et(),Fre=function(t){Nre(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return r===void 0&&(r=0),this},e}(kre.Subscription);Ua.Action=Fre});var _S=f(ur=>{"use strict";var cL=ur&&ur.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},lL=ur&&ur.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(ur,"__esModule",{value:!0});ur.intervalProvider=void 0;ur.intervalProvider={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=ur.intervalProvider.delegate;return i?.setInterval?i.setInterval.apply(i,lL([t,e],cL(n))):setInterval.apply(void 0,lL([t,e],cL(n)))},clearInterval:function(t){var e=ur.intervalProvider.delegate;return(e?.clearInterval||clearInterval)(t)},delegate:void 0}});var Ha=f(Va=>{"use strict";var jre=Va&&Va.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Va,"__esModule",{value:!0});Va.AsyncAction=void 0;var Lre=uL(),dL=_S(),qre=Lr(),Bre=function(t){jre(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,s=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(s,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),dL.intervalProvider.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&dL.intervalProvider.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,qre.arrRemove(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Lre.Action);Va.AsyncAction=Bre});var hL=f($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.TestTools=$a.Immediate=void 0;var Ure=1,yS,rm={};function fL(t){return t in rm?(delete rm[t],!0):!1}$a.Immediate={setImmediate:function(t){var e=Ure++;return rm[e]=!0,yS||(yS=Promise.resolve()),yS.then(function(){return fL(e)&&t()}),e},clearImmediate:function(t){fL(t)}};$a.TestTools={pending:function(){return Object.keys(rm).length}}});var bS=f(cr=>{"use strict";var Vre=cr&&cr.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Hre=cr&&cr.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(cr,"__esModule",{value:!0});cr.immediateProvider=void 0;var pL=hL(),$re=pL.Immediate.setImmediate,Wre=pL.Immediate.clearImmediate;cr.immediateProvider={setImmediate:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=cr.immediateProvider.delegate;return(n?.setImmediate||$re).apply(void 0,Hre([],Vre(t)))},clearImmediate:function(t){var e=cr.immediateProvider.delegate;return(e?.clearImmediate||Wre)(t)},delegate:void 0}});var gL=f(Wa=>{"use strict";var zre=Wa&&Wa.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Wa,"__esModule",{value:!0});Wa.AsapAction=void 0;var Gre=Ha(),mL=bS(),Yre=function(t){zre(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n._scheduled||(n._scheduled=mL.immediateProvider.setImmediate(n.flush.bind(n,void 0))))},e.prototype.recycleAsyncId=function(n,r,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,n,r,i);var s=n.actions;r!=null&&((o=s[s.length-1])===null||o===void 0?void 0:o.id)!==r&&(mL.immediateProvider.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},e}(Gre.AsyncAction);Wa.AsapAction=Yre});var wS=f(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.Scheduler=void 0;var Kre=Rl(),Qre=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=Kre.dateTimestampProvider.now,t}();im.Scheduler=Qre});var Ga=f(za=>{"use strict";var Jre=za&&za.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(za,"__esModule",{value:!0});za.AsyncScheduler=void 0;var vL=wS(),Zre=function(t){Jre(e,t);function e(n,r){r===void 0&&(r=vL.Scheduler.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(vL.Scheduler);za.AsyncScheduler=Zre});var _L=f(Ya=>{"use strict";var Xre=Ya&&Ya.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ya,"__esModule",{value:!0});Ya.AsapScheduler=void 0;var eie=Ga(),tie=function(t){Xre(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,o;n=n||i.shift();do if(o=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===r&&i.shift());if(this._active=!1,o){for(;(n=i[0])&&n.id===r&&i.shift();)n.unsubscribe();throw o}},e}(eie.AsyncScheduler);Ya.AsapScheduler=tie});var yL=f(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.asap=Zo.asapScheduler=void 0;var nie=gL(),rie=_L();Zo.asapScheduler=new rie.AsapScheduler(nie.AsapAction);Zo.asap=Zo.asapScheduler});var Ut=f(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.async=Xo.asyncScheduler=void 0;var iie=Ha(),oie=Ga();Xo.asyncScheduler=new oie.AsyncScheduler(iie.AsyncAction);Xo.async=Xo.asyncScheduler});var bL=f(Ka=>{"use strict";var sie=Ka&&Ka.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ka,"__esModule",{value:!0});Ka.QueueAction=void 0;var aie=Ha(),uie=function(t){sie(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.schedule=function(n,r){return r===void 0&&(r=0),r>0?t.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},e.prototype.execute=function(n,r){return r>0||this.closed?t.prototype.execute.call(this,n,r):this._execute(n,r)},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?t.prototype.requestAsyncId.call(this,n,r,i):(n.flush(this),0)},e}(aie.AsyncAction);Ka.QueueAction=uie});var wL=f(Qa=>{"use strict";var cie=Qa&&Qa.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Qa,"__esModule",{value:!0});Qa.QueueScheduler=void 0;var lie=Ga(),die=function(t){cie(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(lie.AsyncScheduler);Qa.QueueScheduler=die});var EL=f(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.queue=es.queueScheduler=void 0;var fie=bL(),hie=wL();es.queueScheduler=new hie.QueueScheduler(fie.QueueAction);es.queue=es.queueScheduler});var IL=f(Ja=>{"use strict";var pie=Ja&&Ja.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ja,"__esModule",{value:!0});Ja.AnimationFrameAction=void 0;var mie=Ha(),SL=Xp(),gie=function(t){pie(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n._scheduled||(n._scheduled=SL.animationFrameProvider.requestAnimationFrame(function(){return n.flush(void 0)})))},e.prototype.recycleAsyncId=function(n,r,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,n,r,i);var s=n.actions;r!=null&&((o=s[s.length-1])===null||o===void 0?void 0:o.id)!==r&&(SL.animationFrameProvider.cancelAnimationFrame(r),n._scheduled=void 0)},e}(mie.AsyncAction);Ja.AnimationFrameAction=gie});var CL=f(Za=>{"use strict";var vie=Za&&Za.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Za,"__esModule",{value:!0});Za.AnimationFrameScheduler=void 0;var _ie=Ga(),yie=function(t){vie(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,o;n=n||i.shift();do if(o=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===r&&i.shift());if(this._active=!1,o){for(;(n=i[0])&&n.id===r&&i.shift();)n.unsubscribe();throw o}},e}(_ie.AsyncScheduler);Za.AnimationFrameScheduler=yie});var DL=f(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.animationFrame=ts.animationFrameScheduler=void 0;var bie=IL(),wie=CL();ts.animationFrameScheduler=new wie.AnimationFrameScheduler(bie.AnimationFrameAction);ts.animationFrame=ts.animationFrameScheduler});var ES=f(Oi=>{"use strict";var TL=Oi&&Oi.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Oi,"__esModule",{value:!0});Oi.VirtualAction=Oi.VirtualTimeScheduler=void 0;var Eie=Ha(),Sie=Et(),Iie=Ga(),Cie=function(t){TL(e,t);function e(n,r){n===void 0&&(n=OL),r===void 0&&(r=1/0);var i=t.call(this,n,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var n=this,r=n.actions,i=n.maxFrames,o,s;(s=r[0])&&s.delay<=i&&(r.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=r.shift();)s.unsubscribe();throw o}},e.frameTimeFactor=10,e}(Iie.AsyncScheduler);Oi.VirtualTimeScheduler=Cie;var OL=function(t){TL(e,t);function e(n,r,i){i===void 0&&(i=n.index+=1);var o=t.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.index=i,o.active=!0,o.index=n.index=i,o}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),Number.isFinite(r)){if(!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)}else return Sie.Subscription.EMPTY},e.prototype.requestAsyncId=function(n,r,i){i===void 0&&(i=0),this.delay=n.frame+i;var o=n.actions;return o.push(this),o.sort(e.sortActions),1},e.prototype.recycleAsyncId=function(n,r,i){i===void 0&&(i=0)},e.prototype._execute=function(n,r){if(this.active===!0)return t.prototype._execute.call(this,n,r)},e.sortActions=function(n,r){return n.delay===r.delay?n.index===r.index?0:n.index>r.index?1:-1:n.delay>r.delay?1:-1},e}(Eie.AsyncAction);Oi.VirtualAction=OL});var jn=f(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.empty=ns.EMPTY=void 0;var ML=le();ns.EMPTY=new ML.Observable(function(t){return t.complete()});function Die(t){return t?Tie(t):ns.EMPTY}ns.empty=Die;function Tie(t){return new ML.Observable(function(e){return t.schedule(function(){return e.complete()})})}});var kl=f(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.isScheduler=void 0;var Oie=be();function Mie(t){return t&&Oie.isFunction(t.schedule)}om.isScheduler=Mie});var Vt=f(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.popNumber=Mi.popScheduler=Mi.popResultSelector=void 0;var Aie=be(),Pie=kl();function SS(t){return t[t.length-1]}function xie(t){return Aie.isFunction(SS(t))?t.pop():void 0}Mi.popResultSelector=xie;function Rie(t){return Pie.isScheduler(SS(t))?t.pop():void 0}Mi.popScheduler=Rie;function Nie(t,e){return typeof SS(t)=="number"?t.pop():e}Mi.popNumber=Nie});var am=f(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.isArrayLike=void 0;sm.isArrayLike=function(t){return t&&typeof t.length=="number"&&typeof t!="function"}});var IS=f(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.isPromise=void 0;var kie=be();function Fie(t){return kie.isFunction(t?.then)}um.isPromise=Fie});var CS=f(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.isInteropObservable=void 0;var jie=Ol(),Lie=be();function qie(t){return Lie.isFunction(t[jie.observable])}cm.isInteropObservable=qie});var DS=f(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.isAsyncIterable=void 0;var Bie=be();function Uie(t){return Symbol.asyncIterator&&Bie.isFunction(t?.[Symbol.asyncIterator])}lm.isAsyncIterable=Uie});var TS=f(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.createInvalidObservableTypeError=void 0;function Vie(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}dm.createInvalidObservableTypeError=Vie});var OS=f(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.iterator=Xa.getSymbolIterator=void 0;function AL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}Xa.getSymbolIterator=AL;Xa.iterator=AL()});var MS=f(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.isIterable=void 0;var Hie=OS(),$ie=be();function Wie(t){return $ie.isFunction(t?.[Hie.iterator])}fm.isIterable=Wie});var hm=f(gn=>{"use strict";var zie=gn&&gn.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},eu=gn&&gn.__await||function(t){return this instanceof eu?(this.v=t,this):new eu(t)},Gie=gn&&gn.__asyncGenerator||function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(m){return new Promise(function(g,_){o.push([h,m,g,_])>1||a(h,m)})})}function a(h,m){try{u(r[h](m))}catch(g){d(o[0][3],g)}}function u(h){h.value instanceof eu?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,m){h(m),o.shift(),o.length&&a(o[0][0],o[0][1])}};Object.defineProperty(gn,"__esModule",{value:!0});gn.isReadableStreamLike=gn.readableStreamLikeToAsyncGenerator=void 0;var Yie=be();function Kie(t){return Gie(this,arguments,function(){var n,r,i,o;return zie(this,function(s){switch(s.label){case 0:n=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,eu(n.read())];case 3:return r=s.sent(),i=r.value,o=r.done,o?[4,eu(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,eu(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}gn.readableStreamLikeToAsyncGenerator=Kie;function Qie(t){return Yie.isFunction(t?.getReader)}gn.isReadableStreamLike=Qie});var Q=f(ke=>{"use strict";var Jie=ke&&ke.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},Zie=ke&&ke.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Xie=ke&&ke.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof AS=="function"?AS(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}},AS=ke&&ke.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ke,"__esModule",{value:!0});ke.fromReadableStreamLike=ke.fromAsyncIterable=ke.fromIterable=ke.fromPromise=ke.fromArrayLike=ke.fromInteropObservable=ke.innerFrom=void 0;var eoe=am(),toe=IS(),tu=le(),noe=CS(),roe=DS(),ioe=TS(),ooe=MS(),PL=hm(),soe=be(),aoe=iS(),uoe=Ol();function coe(t){if(t instanceof tu.Observable)return t;if(t!=null){if(noe.isInteropObservable(t))return xL(t);if(eoe.isArrayLike(t))return RL(t);if(toe.isPromise(t))return NL(t);if(roe.isAsyncIterable(t))return PS(t);if(ooe.isIterable(t))return kL(t);if(PL.isReadableStreamLike(t))return FL(t)}throw ioe.createInvalidObservableTypeError(t)}ke.innerFrom=coe;function xL(t){return new tu.Observable(function(e){var n=t[uoe.observable]();if(soe.isFunction(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}ke.fromInteropObservable=xL;function RL(t){return new tu.Observable(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}ke.fromArrayLike=RL;function NL(t){return new tu.Observable(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,aoe.reportUnhandledError)})}ke.fromPromise=NL;function kL(t){return new tu.Observable(function(e){var n,r;try{for(var i=AS(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}ke.fromIterable=kL;function PS(t){return new tu.Observable(function(e){loe(t,e).catch(function(n){return e.error(n)})})}ke.fromAsyncIterable=PS;function FL(t){return PS(PL.readableStreamLikeToAsyncGenerator(t))}ke.fromReadableStreamLike=FL;function loe(t,e){var n,r,i,o;return Jie(this,void 0,void 0,function(){var s,a;return Zie(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=Xie(t),u.label=1;case 1:return[4,n.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(s=r.value,e.next(s),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}});var qr=f(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.executeSchedule=void 0;function doe(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}pm.executeSchedule=doe});var nu=f(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.observeOn=void 0;var xS=qr(),foe=x(),hoe=F();function poe(t,e){return e===void 0&&(e=0),foe.operate(function(n,r){n.subscribe(hoe.createOperatorSubscriber(r,function(i){return xS.executeSchedule(r,t,function(){return r.next(i)},e)},function(){return xS.executeSchedule(r,t,function(){return r.complete()},e)},function(i){return xS.executeSchedule(r,t,function(){return r.error(i)},e)}))})}mm.observeOn=poe});var ru=f(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});gm.subscribeOn=void 0;var moe=x();function goe(t,e){return e===void 0&&(e=0),moe.operate(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}gm.subscribeOn=goe});var jL=f(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});vm.scheduleObservable=void 0;var voe=Q(),_oe=nu(),yoe=ru();function boe(t,e){return voe.innerFrom(t).pipe(yoe.subscribeOn(e),_oe.observeOn(e))}vm.scheduleObservable=boe});var LL=f(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.schedulePromise=void 0;var woe=Q(),Eoe=nu(),Soe=ru();function Ioe(t,e){return woe.innerFrom(t).pipe(Soe.subscribeOn(e),Eoe.observeOn(e))}_m.schedulePromise=Ioe});var qL=f(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});ym.scheduleArray=void 0;var Coe=le();function Doe(t,e){return new Coe.Observable(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}ym.scheduleArray=Doe});var RS=f(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});bm.scheduleIterable=void 0;var Toe=le(),Ooe=OS(),Moe=be(),BL=qr();function Aoe(t,e){return new Toe.Observable(function(n){var r;return BL.executeSchedule(n,e,function(){r=t[Ooe.iterator](),BL.executeSchedule(n,e,function(){var i,o,s;try{i=r.next(),o=i.value,s=i.done}catch(a){n.error(a);return}s?n.complete():n.next(o)},0,!0)}),function(){return Moe.isFunction(r?.return)&&r.return()}})}bm.scheduleIterable=Aoe});var NS=f(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});wm.scheduleAsyncIterable=void 0;var Poe=le(),UL=qr();function xoe(t,e){if(!t)throw new Error("Iterable cannot be null");return new Poe.Observable(function(n){UL.executeSchedule(n,e,function(){var r=t[Symbol.asyncIterator]();UL.executeSchedule(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}wm.scheduleAsyncIterable=xoe});var VL=f(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});Em.scheduleReadableStreamLike=void 0;var Roe=NS(),Noe=hm();function koe(t,e){return Roe.scheduleAsyncIterable(Noe.readableStreamLikeToAsyncGenerator(t),e)}Em.scheduleReadableStreamLike=koe});var kS=f(Sm=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});Sm.scheduled=void 0;var Foe=jL(),joe=LL(),Loe=qL(),qoe=RS(),Boe=NS(),Uoe=CS(),Voe=IS(),Hoe=am(),$oe=MS(),Woe=DS(),zoe=TS(),Goe=hm(),Yoe=VL();function Koe(t,e){if(t!=null){if(Uoe.isInteropObservable(t))return Foe.scheduleObservable(t,e);if(Hoe.isArrayLike(t))return Loe.scheduleArray(t,e);if(Voe.isPromise(t))return joe.schedulePromise(t,e);if(Woe.isAsyncIterable(t))return Boe.scheduleAsyncIterable(t,e);if($oe.isIterable(t))return qoe.scheduleIterable(t,e);if(Goe.isReadableStreamLike(t))return Yoe.scheduleReadableStreamLike(t,e)}throw zoe.createInvalidObservableTypeError(t)}Sm.scheduled=Koe});var Br=f(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.from=void 0;var Qoe=kS(),Joe=Q();function Zoe(t,e){return e?Qoe.scheduled(t,e):Joe.innerFrom(t)}Im.from=Zoe});var Dm=f(Cm=>{"use strict";Object.defineProperty(Cm,"__esModule",{value:!0});Cm.of=void 0;var Xoe=Vt(),ese=Br();function tse(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Xoe.popScheduler(t);return ese.from(t,n)}Cm.of=tse});var FS=f(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});Tm.throwError=void 0;var nse=le(),rse=be();function ise(t,e){var n=rse.isFunction(t)?t:function(){return t},r=function(i){return i.error(n())};return new nse.Observable(e?function(i){return e.schedule(r,0,i)}:r)}Tm.throwError=ise});var iu=f(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.observeNotification=Ur.Notification=Ur.NotificationKind=void 0;var ose=jn(),sse=Dm(),ase=FS(),use=be(),cse;(function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"})(cse=Ur.NotificationKind||(Ur.NotificationKind={}));var lse=function(){function t(e,n,r){this.kind=e,this.value=n,this.error=r,this.hasValue=e==="N"}return t.prototype.observe=function(e){return HL(this,e)},t.prototype.do=function(e,n,r){var i=this,o=i.kind,s=i.value,a=i.error;return o==="N"?e?.(s):o==="E"?n?.(a):r?.()},t.prototype.accept=function(e,n,r){var i;return use.isFunction((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,n,r)},t.prototype.toObservable=function(){var e=this,n=e.kind,r=e.value,i=e.error,o=n==="N"?sse.of(r):n==="E"?ase.throwError(function(){return i}):n==="C"?ose.EMPTY:0;if(!o)throw new TypeError("Unexpected notification kind "+n);return o},t.createNext=function(e){return new t("N",e)},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t}();Ur.Notification=lse;function HL(t,e){var n,r,i,o=t,s=o.kind,a=o.value,u=o.error;if(typeof s!="string")throw new TypeError('Invalid notification, missing "kind"');s==="N"?(n=e.next)===null||n===void 0||n.call(e,a):s==="E"?(r=e.error)===null||r===void 0||r.call(e,u):(i=e.complete)===null||i===void 0||i.call(e)}Ur.observeNotification=HL});var WL=f(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.isObservable=void 0;var dse=le(),$L=be();function fse(t){return!!t&&(t instanceof dse.Observable||$L.isFunction(t.lift)&&$L.isFunction(t.subscribe))}Om.isObservable=fse});var Ai=f(Mm=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});Mm.EmptyError=void 0;var hse=jr();Mm.EmptyError=hse.createErrorClass(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}})});var zL=f(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});Am.lastValueFrom=void 0;var pse=Ai();function mse(t,e){var n=typeof e=="object";return new Promise(function(r,i){var o=!1,s;t.subscribe({next:function(a){s=a,o=!0},error:i,complete:function(){o?r(s):n?r(e.defaultValue):i(new pse.EmptyError)}})})}Am.lastValueFrom=mse});var GL=f(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});Pm.firstValueFrom=void 0;var gse=Ai(),vse=Jo();function _se(t,e){var n=typeof e=="object";return new Promise(function(r,i){var o=new vse.SafeSubscriber({next:function(s){r(s),o.unsubscribe()},error:i,complete:function(){n?r(e.defaultValue):i(new gse.EmptyError)}});t.subscribe(o)})}Pm.firstValueFrom=_se});var jS=f(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});xm.ArgumentOutOfRangeError=void 0;var yse=jr();xm.ArgumentOutOfRangeError=yse.createErrorClass(function(t){return function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})});var LS=f(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.NotFoundError=void 0;var bse=jr();Rm.NotFoundError=bse.createErrorClass(function(t){return function(n){t(this),this.name="NotFoundError",this.message=n}})});var qS=f(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});Nm.SequenceError=void 0;var wse=jr();Nm.SequenceError=wse.createErrorClass(function(t){return function(n){t(this),this.name="SequenceError",this.message=n}})});var Fm=f(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.isValidDate=void 0;function Ese(t){return t instanceof Date&&!isNaN(t)}km.isValidDate=Ese});var Fl=f(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.timeout=rs.TimeoutError=void 0;var Sse=Ut(),Ise=Fm(),Cse=x(),Dse=Q(),Tse=jr(),Ose=F(),Mse=qr();rs.TimeoutError=Tse.createErrorClass(function(t){return function(n){n===void 0&&(n=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}});function Ase(t,e){var n=Ise.isValidDate(t)?{first:t}:typeof t=="number"?{each:t}:t,r=n.first,i=n.each,o=n.with,s=o===void 0?Pse:o,a=n.scheduler,u=a===void 0?e??Sse.asyncScheduler:a,c=n.meta,l=c===void 0?null:c;if(r==null&&i==null)throw new TypeError("No timeout provided.");return Cse.operate(function(d,h){var m,g,_=null,y=0,b=function(I){g=Mse.executeSchedule(h,u,function(){try{m.unsubscribe(),Dse.innerFrom(s({meta:l,lastValue:_,seen:y})).subscribe(h)}catch(E){h.error(E)}},I)};m=d.subscribe(Ose.createOperatorSubscriber(h,function(I){g?.unsubscribe(),y++,h.next(_=I),i>0&&b(i)},void 0,void 0,function(){g?.closed||g?.unsubscribe(),_=null})),!y&&b(r!=null?typeof r=="number"?r:+r-u.now():i)})}rs.timeout=Ase;function Pse(t){throw new rs.TimeoutError(t)}});var lr=f(jm=>{"use strict";Object.defineProperty(jm,"__esModule",{value:!0});jm.map=void 0;var xse=x(),Rse=F();function Nse(t,e){return xse.operate(function(n,r){var i=0;n.subscribe(Rse.createOperatorSubscriber(r,function(o){r.next(t.call(e,o,i++))}))})}jm.map=Nse});var xi=f(Pi=>{"use strict";var kse=Pi&&Pi.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Fse=Pi&&Pi.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.mapOneOrManyArgs=void 0;var jse=lr(),Lse=Array.isArray;function qse(t,e){return Lse(e)?t.apply(void 0,Fse([],kse(e))):t(e)}function Bse(t){return jse.map(function(e){return qse(t,e)})}Pi.mapOneOrManyArgs=Bse});var US=f(Ri=>{"use strict";var Use=Ri&&Ri.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},YL=Ri&&Ri.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.bindCallbackInternals=void 0;var Vse=kl(),Hse=le(),$se=ru(),Wse=xi(),zse=nu(),Gse=nm();function BS(t,e,n,r){if(n)if(Vse.isScheduler(n))r=n;else return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return BS(t,e,r).apply(this,i).pipe(Wse.mapOneOrManyArgs(n))};return r?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return BS(t,e).apply(this,i).pipe($se.subscribeOn(r),zse.observeOn(r))}:function(){for(var i=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=new Gse.AsyncSubject,u=!0;return new Hse.Observable(function(c){var l=a.subscribe(c);if(u){u=!1;var d=!1,h=!1;e.apply(i,YL(YL([],Use(o)),[function(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];if(t){var _=m.shift();if(_!=null){a.error(_);return}}a.next(1<m.length?m:m[0]),h=!0,d&&a.complete()}])),h&&a.complete(),d=!0}return l})}}Ri.bindCallbackInternals=BS});var KL=f(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.bindCallback=void 0;var Yse=US();function Kse(t,e,n){return Yse.bindCallbackInternals(!1,t,e,n)}Lm.bindCallback=Kse});var QL=f(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});qm.bindNodeCallback=void 0;var Qse=US();function Jse(t,e,n){return Qse.bindCallbackInternals(!0,t,e,n)}qm.bindNodeCallback=Jse});var VS=f(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.argsArgArrayOrObject=void 0;var Zse=Array.isArray,Xse=Object.getPrototypeOf,eae=Object.prototype,tae=Object.keys;function nae(t){if(t.length===1){var e=t[0];if(Zse(e))return{args:e,keys:null};if(rae(e)){var n=tae(e);return{args:n.map(function(r){return e[r]}),keys:n}}}return{args:t,keys:null}}Bm.argsArgArrayOrObject=nae;function rae(t){return t&&typeof t=="object"&&Xse(t)===eae}});var HS=f(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0});Um.createObject=void 0;function iae(t,e){return t.reduce(function(n,r,i){return n[r]=e[i],n},{})}Um.createObject=iae});var Vm=f(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.combineLatestInit=ou.combineLatest=void 0;var oae=le(),sae=VS(),XL=Br(),eq=yt(),aae=xi(),JL=Vt(),uae=HS(),cae=F(),lae=qr();function dae(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=JL.popScheduler(t),r=JL.popResultSelector(t),i=sae.argsArgArrayOrObject(t),o=i.args,s=i.keys;if(o.length===0)return XL.from([],n);var a=new oae.Observable(tq(o,n,s?function(u){return uae.createObject(s,u)}:eq.identity));return r?a.pipe(aae.mapOneOrManyArgs(r)):a}ou.combineLatest=dae;function tq(t,e,n){return n===void 0&&(n=eq.identity),function(r){ZL(e,function(){for(var i=t.length,o=new Array(i),s=i,a=i,u=function(l){ZL(e,function(){var d=XL.from(t[l],e),h=!1;d.subscribe(cae.createOperatorSubscriber(r,function(m){o[l]=m,h||(h=!0,a--),a||r.next(n(o.slice()))},function(){--s||r.complete()}))},r)},c=0;c<i;c++)u(c)},r)}}ou.combineLatestInit=tq;function ZL(t,e,n){t?lae.executeSchedule(n,t,e):e()}});var $m=f(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});Hm.mergeInternals=void 0;var fae=Q(),hae=qr(),nq=F();function pae(t,e,n,r,i,o,s,a){var u=[],c=0,l=0,d=!1,h=function(){d&&!u.length&&!c&&e.complete()},m=function(_){return c<r?g(_):u.push(_)},g=function(_){o&&e.next(_),c++;var y=!1;fae.innerFrom(n(_,l++)).subscribe(nq.createOperatorSubscriber(e,function(b){i?.(b),o?m(b):e.next(b)},function(){y=!0},void 0,function(){if(y)try{c--;for(var b=function(){var I=u.shift();s?hae.executeSchedule(e,s,function(){return g(I)}):g(I)};u.length&&c<r;)b();h()}catch(I){e.error(I)}}))};return t.subscribe(nq.createOperatorSubscriber(e,m,function(){d=!0,h()})),function(){a?.()}}Hm.mergeInternals=pae});var dr=f(Wm=>{"use strict";Object.defineProperty(Wm,"__esModule",{value:!0});Wm.mergeMap=void 0;var mae=lr(),gae=Q(),vae=x(),_ae=$m(),yae=be();function rq(t,e,n){return n===void 0&&(n=1/0),yae.isFunction(e)?rq(function(r,i){return mae.map(function(o,s){return e(r,o,i,s)})(gae.innerFrom(t(r,i)))},n):(typeof e=="number"&&(n=e),vae.operate(function(r,i){return _ae.mergeInternals(r,i,t,n)}))}Wm.mergeMap=rq});var su=f(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});zm.mergeAll=void 0;var bae=dr(),wae=yt();function Eae(t){return t===void 0&&(t=1/0),bae.mergeMap(wae.identity,t)}zm.mergeAll=Eae});var jl=f(Gm=>{"use strict";Object.defineProperty(Gm,"__esModule",{value:!0});Gm.concatAll=void 0;var Sae=su();function Iae(){return Sae.mergeAll(1)}Gm.concatAll=Iae});var Ll=f(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.concat=void 0;var Cae=jl(),Dae=Vt(),Tae=Br();function Oae(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Cae.concatAll()(Tae.from(t,Dae.popScheduler(t)))}Ym.concat=Oae});var ql=f(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});Km.defer=void 0;var Mae=le(),Aae=Q();function Pae(t){return new Mae.Observable(function(e){Aae.innerFrom(t()).subscribe(e)})}Km.defer=Pae});var iq=f(Qm=>{"use strict";Object.defineProperty(Qm,"__esModule",{value:!0});Qm.connectable=void 0;var xae=nt(),Rae=le(),Nae=ql(),kae={connector:function(){return new xae.Subject},resetOnDisconnect:!0};function Fae(t,e){e===void 0&&(e=kae);var n=null,r=e.connector,i=e.resetOnDisconnect,o=i===void 0?!0:i,s=r(),a=new Rae.Observable(function(u){return s.subscribe(u)});return a.connect=function(){return(!n||n.closed)&&(n=Nae.defer(function(){return t}).subscribe(s),o&&n.add(function(){return s=r()})),n},a}Qm.connectable=Fae});var oq=f(Jm=>{"use strict";Object.defineProperty(Jm,"__esModule",{value:!0});Jm.forkJoin=void 0;var jae=le(),Lae=VS(),qae=Q(),Bae=Vt(),Uae=F(),Vae=xi(),Hae=HS();function $ae(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Bae.popResultSelector(t),r=Lae.argsArgArrayOrObject(t),i=r.args,o=r.keys,s=new jae.Observable(function(a){var u=i.length;if(!u){a.complete();return}for(var c=new Array(u),l=u,d=u,h=function(g){var _=!1;qae.innerFrom(i[g]).subscribe(Uae.createOperatorSubscriber(a,function(y){_||(_=!0,d--),c[g]=y},function(){return l--},void 0,function(){(!l||!_)&&(d||a.next(o?Hae.createObject(o,c):c),a.complete())}))},m=0;m<u;m++)h(m)});return n?s.pipe(Vae.mapOneOrManyArgs(n)):s}Jm.forkJoin=$ae});var aq=f(au=>{"use strict";var Wae=au&&au.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o};Object.defineProperty(au,"__esModule",{value:!0});au.fromEvent=void 0;var zae=Q(),Gae=le(),Yae=dr(),Kae=am(),is=be(),Qae=xi(),Jae=["addListener","removeListener"],Zae=["addEventListener","removeEventListener"],Xae=["on","off"];function $S(t,e,n,r){if(is.isFunction(n)&&(r=n,n=void 0),r)return $S(t,e,n).pipe(Qae.mapOneOrManyArgs(r));var i=Wae(nue(t)?Zae.map(function(a){return function(u){return t[a](e,u,n)}}):eue(t)?Jae.map(sq(t,e)):tue(t)?Xae.map(sq(t,e)):[],2),o=i[0],s=i[1];if(!o&&Kae.isArrayLike(t))return Yae.mergeMap(function(a){return $S(a,e,n)})(zae.innerFrom(t));if(!o)throw new TypeError("Invalid event target");return new Gae.Observable(function(a){var u=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return a.next(1<c.length?c:c[0])};return o(u),function(){return s(u)}})}au.fromEvent=$S;function sq(t,e){return function(n){return function(r){return t[n](e,r)}}}function eue(t){return is.isFunction(t.addListener)&&is.isFunction(t.removeListener)}function tue(t){return is.isFunction(t.on)&&is.isFunction(t.off)}function nue(t){return is.isFunction(t.addEventListener)&&is.isFunction(t.removeEventListener)}});var cq=f(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});Zm.fromEventPattern=void 0;var rue=le(),iue=be(),oue=xi();function uq(t,e,n){return n?uq(t,e).pipe(oue.mapOneOrManyArgs(n)):new rue.Observable(function(r){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return r.next(s.length===1?s[0]:s)},o=t(i);return iue.isFunction(e)?function(){return e(i,o)}:void 0})}Zm.fromEventPattern=uq});var dq=f(uu=>{"use strict";var sue=uu&&uu.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(uu,"__esModule",{value:!0});uu.generate=void 0;var lq=yt(),aue=kl(),uue=ql(),cue=RS();function lue(t,e,n,r,i){var o,s,a,u;arguments.length===1?(o=t,u=o.initialState,e=o.condition,n=o.iterate,s=o.resultSelector,a=s===void 0?lq.identity:s,i=o.scheduler):(u=t,!r||aue.isScheduler(r)?(a=lq.identity,i=r):a=r);function c(){var l;return sue(this,function(d){switch(d.label){case 0:l=u,d.label=1;case 1:return!e||e(l)?[4,a(l)]:[3,4];case 2:d.sent(),d.label=3;case 3:return l=n(l),[3,1];case 4:return[2]}})}return uue.defer(i?function(){return cue.scheduleIterable(c(),i)}:c)}uu.generate=lue});var fq=f(Xm=>{"use strict";Object.defineProperty(Xm,"__esModule",{value:!0});Xm.iif=void 0;var due=ql();function fue(t,e,n){return due.defer(function(){return t()?e:n})}Xm.iif=fue});var Ni=f(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});eg.timer=void 0;var hue=le(),pue=Ut(),mue=kl(),gue=Fm();function vue(t,e,n){t===void 0&&(t=0),n===void 0&&(n=pue.async);var r=-1;return e!=null&&(mue.isScheduler(e)?n=e:r=e),new hue.Observable(function(i){var o=gue.isValidDate(t)?+t-n.now():t;o<0&&(o=0);var s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}eg.timer=vue});var WS=f(tg=>{"use strict";Object.defineProperty(tg,"__esModule",{value:!0});tg.interval=void 0;var _ue=Ut(),yue=Ni();function bue(t,e){return t===void 0&&(t=0),e===void 0&&(e=_ue.asyncScheduler),t<0&&(t=0),yue.timer(t,t,e)}tg.interval=bue});var pq=f(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.merge=void 0;var wue=su(),Eue=Q(),Sue=jn(),hq=Vt(),Iue=Br();function Cue(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=hq.popScheduler(t),r=hq.popNumber(t,1/0),i=t;return i.length?i.length===1?Eue.innerFrom(i[0]):wue.mergeAll(r)(Iue.from(i,n)):Sue.EMPTY}ng.merge=Cue});var zS=f(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.never=os.NEVER=void 0;var Due=le(),Tue=_t();os.NEVER=new Due.Observable(Tue.noop);function Oue(){return os.NEVER}os.never=Oue});var ki=f(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.argsOrArgArray=void 0;var Mue=Array.isArray;function Aue(t){return t.length===1&&Mue(t[0])?t[0]:t}rg.argsOrArgArray=Aue});var GS=f(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.onErrorResumeNext=void 0;var Pue=le(),xue=ki(),Rue=F(),mq=_t(),Nue=Q();function kue(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=xue.argsOrArgArray(t);return new Pue.Observable(function(r){var i=0,o=function(){if(i<n.length){var s=void 0;try{s=Nue.innerFrom(n[i++])}catch{o();return}var a=new Rue.OperatorSubscriber(r,void 0,mq.noop,mq.noop);s.subscribe(a),a.add(o)}else r.complete()};o()})}ig.onErrorResumeNext=kue});var gq=f(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.pairs=void 0;var Fue=Br();function jue(t,e){return Fue.from(Object.entries(t),e)}og.pairs=jue});var YS=f(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.not=void 0;function Lue(t,e){return function(n,r){return!t.call(e,n,r)}}sg.not=Lue});var Vr=f(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.filter=void 0;var que=x(),Bue=F();function Uue(t,e){return que.operate(function(n,r){var i=0;n.subscribe(Bue.createOperatorSubscriber(r,function(o){return t.call(e,o,i++)&&r.next(o)}))})}ag.filter=Uue});var yq=f(ug=>{"use strict";Object.defineProperty(ug,"__esModule",{value:!0});ug.partition=void 0;var Vue=YS(),vq=Vr(),_q=Q();function Hue(t,e,n){return[vq.filter(e,n)(_q.innerFrom(t)),vq.filter(Vue.not(e,n))(_q.innerFrom(t))]}ug.partition=Hue});var KS=f(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.raceInit=cu.race=void 0;var $ue=le(),bq=Q(),Wue=ki(),zue=F();function Gue(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t=Wue.argsOrArgArray(t),t.length===1?bq.innerFrom(t[0]):new $ue.Observable(wq(t))}cu.race=Gue;function wq(t){return function(e){for(var n=[],r=function(o){n.push(bq.innerFrom(t[o]).subscribe(zue.createOperatorSubscriber(e,function(s){if(n){for(var a=0;a<n.length;a++)a!==o&&n[a].unsubscribe();n=null}e.next(s)})))},i=0;n&&!e.closed&&i<t.length;i++)r(i)}}cu.raceInit=wq});var Eq=f(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});cg.range=void 0;var Yue=le(),Kue=jn();function Que(t,e,n){if(e==null&&(e=t,t=0),e<=0)return Kue.EMPTY;var r=e+t;return new Yue.Observable(n?function(i){var o=t;return n.schedule(function(){o<r?(i.next(o++),this.schedule()):i.complete()})}:function(i){for(var o=t;o<r&&!i.closed;)i.next(o++);i.complete()})}cg.range=Que});var Sq=f(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});lg.using=void 0;var Jue=le(),Zue=Q(),Xue=jn();function ece(t,e){return new Jue.Observable(function(n){var r=t(),i=e(r),o=i?Zue.innerFrom(i):Xue.EMPTY;return o.subscribe(n),function(){r&&r.unsubscribe()}})}lg.using=ece});var dg=f(Fi=>{"use strict";var tce=Fi&&Fi.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},nce=Fi&&Fi.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.zip=void 0;var rce=le(),ice=Q(),oce=ki(),sce=jn(),ace=F(),uce=Vt();function cce(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=uce.popResultSelector(t),r=oce.argsOrArgArray(t);return r.length?new rce.Observable(function(i){var o=r.map(function(){return[]}),s=r.map(function(){return!1});i.add(function(){o=s=null});for(var a=function(c){ice.innerFrom(r[c]).subscribe(ace.createOperatorSubscriber(i,function(l){if(o[c].push(l),o.every(function(h){return h.length})){var d=o.map(function(h){return h.shift()});i.next(n?n.apply(void 0,nce([],tce(d))):d),o.some(function(h,m){return!h.length&&s[m]})&&i.complete()}},function(){s[c]=!0,!o[c].length&&i.complete()}))},u=0;!i.closed&&u<r.length;u++)a(u);return function(){o=s=null}}):sce.EMPTY}Fi.zip=cce});var Cq=f(Iq=>{"use strict";Object.defineProperty(Iq,"__esModule",{value:!0})});var hg=f(fg=>{"use strict";Object.defineProperty(fg,"__esModule",{value:!0});fg.audit=void 0;var lce=x(),dce=Q(),Dq=F();function fce(t){return lce.operate(function(e,n){var r=!1,i=null,o=null,s=!1,a=function(){if(o?.unsubscribe(),o=null,r){r=!1;var c=i;i=null,n.next(c)}s&&n.complete()},u=function(){o=null,s&&n.complete()};e.subscribe(Dq.createOperatorSubscriber(n,function(c){r=!0,i=c,o||dce.innerFrom(t(c)).subscribe(o=Dq.createOperatorSubscriber(n,a,u))},function(){s=!0,(!r||!o||o.closed)&&n.complete()}))})}fg.audit=fce});var QS=f(pg=>{"use strict";Object.defineProperty(pg,"__esModule",{value:!0});pg.auditTime=void 0;var hce=Ut(),pce=hg(),mce=Ni();function gce(t,e){return e===void 0&&(e=hce.asyncScheduler),pce.audit(function(){return mce.timer(t,e)})}pg.auditTime=gce});var JS=f(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});mg.buffer=void 0;var vce=x(),_ce=_t(),Tq=F(),yce=Q();function bce(t){return vce.operate(function(e,n){var r=[];return e.subscribe(Tq.createOperatorSubscriber(n,function(i){return r.push(i)},function(){n.next(r),n.complete()})),yce.innerFrom(t).subscribe(Tq.createOperatorSubscriber(n,function(){var i=r;r=[],n.next(i)},_ce.noop)),function(){r=null}})}mg.buffer=bce});var XS=f(lu=>{"use strict";var ZS=lu&&lu.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(lu,"__esModule",{value:!0});lu.bufferCount=void 0;var wce=x(),Ece=F(),Sce=Lr();function Ice(t,e){return e===void 0&&(e=null),e=e??t,wce.operate(function(n,r){var i=[],o=0;n.subscribe(Ece.createOperatorSubscriber(r,function(s){var a,u,c,l,d=null;o++%e===0&&i.push([]);try{for(var h=ZS(i),m=h.next();!m.done;m=h.next()){var g=m.value;g.push(s),t<=g.length&&(d=d??[],d.push(g))}}catch(b){a={error:b}}finally{try{m&&!m.done&&(u=h.return)&&u.call(h)}finally{if(a)throw a.error}}if(d)try{for(var _=ZS(d),y=_.next();!y.done;y=_.next()){var g=y.value;Sce.arrRemove(i,g),r.next(g)}}catch(b){c={error:b}}finally{try{y&&!y.done&&(l=_.return)&&l.call(_)}finally{if(c)throw c.error}}},function(){var s,a;try{for(var u=ZS(i),c=u.next();!c.done;c=u.next()){var l=c.value;r.next(l)}}catch(d){s={error:d}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}r.complete()},void 0,function(){i=null}))})}lu.bufferCount=Ice});var eI=f(du=>{"use strict";var Cce=du&&du.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(du,"__esModule",{value:!0});du.bufferTime=void 0;var Dce=Et(),Tce=x(),Oce=F(),Mce=Lr(),Ace=Ut(),Pce=Vt(),Oq=qr();function xce(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=(e=Pce.popScheduler(r))!==null&&e!==void 0?e:Ace.asyncScheduler,s=(n=r[0])!==null&&n!==void 0?n:null,a=r[1]||1/0;return Tce.operate(function(u,c){var l=[],d=!1,h=function(_){var y=_.buffer,b=_.subs;b.unsubscribe(),Mce.arrRemove(l,_),c.next(y),d&&m()},m=function(){if(l){var _=new Dce.Subscription;c.add(_);var y=[],b={buffer:y,subs:_};l.push(b),Oq.executeSchedule(_,o,function(){return h(b)},t)}};s!==null&&s>=0?Oq.executeSchedule(c,o,m,s,!0):d=!0,m();var g=Oce.createOperatorSubscriber(c,function(_){var y,b,I=l.slice();try{for(var E=Cce(I),S=E.next();!S.done;S=E.next()){var C=S.value,R=C.buffer;R.push(_),a<=R.length&&h(C)}}catch(Y){y={error:Y}}finally{try{S&&!S.done&&(b=E.return)&&b.call(E)}finally{if(y)throw y.error}}},function(){for(;l?.length;)c.next(l.shift().buffer);g?.unsubscribe(),c.complete(),c.unsubscribe()},void 0,function(){return l=null});u.subscribe(g)})}du.bufferTime=xce});var nI=f(fu=>{"use strict";var Rce=fu&&fu.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(fu,"__esModule",{value:!0});fu.bufferToggle=void 0;var Nce=Et(),kce=x(),Mq=Q(),tI=F(),Aq=_t(),Fce=Lr();function jce(t,e){return kce.operate(function(n,r){var i=[];Mq.innerFrom(t).subscribe(tI.createOperatorSubscriber(r,function(o){var s=[];i.push(s);var a=new Nce.Subscription,u=function(){Fce.arrRemove(i,s),r.next(s),a.unsubscribe()};a.add(Mq.innerFrom(e(o)).subscribe(tI.createOperatorSubscriber(r,u,Aq.noop)))},Aq.noop)),n.subscribe(tI.createOperatorSubscriber(r,function(o){var s,a;try{for(var u=Rce(i),c=u.next();!c.done;c=u.next()){var l=c.value;l.push(o)}}catch(d){s={error:d}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}},function(){for(;i.length>0;)r.next(i.shift());r.complete()}))})}fu.bufferToggle=jce});var rI=f(gg=>{"use strict";Object.defineProperty(gg,"__esModule",{value:!0});gg.bufferWhen=void 0;var Lce=x(),qce=_t(),Pq=F(),Bce=Q();function Uce(t){return Lce.operate(function(e,n){var r=null,i=null,o=function(){i?.unsubscribe();var s=r;r=[],s&&n.next(s),Bce.innerFrom(t()).subscribe(i=Pq.createOperatorSubscriber(n,o,qce.noop))};o(),e.subscribe(Pq.createOperatorSubscriber(n,function(s){return r?.push(s)},function(){r&&n.next(r),n.complete()},void 0,function(){return r=i=null}))})}gg.bufferWhen=Uce});var iI=f(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});vg.catchError=void 0;var Vce=Q(),Hce=F(),$ce=x();function xq(t){return $ce.operate(function(e,n){var r=null,i=!1,o;r=e.subscribe(Hce.createOperatorSubscriber(n,void 0,void 0,function(s){o=Vce.innerFrom(t(s,xq(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}vg.catchError=xq});var oI=f(_g=>{"use strict";Object.defineProperty(_g,"__esModule",{value:!0});_g.scanInternals=void 0;var Wce=F();function zce(t,e,n,r,i){return function(o,s){var a=n,u=e,c=0;o.subscribe(Wce.createOperatorSubscriber(s,function(l){var d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&function(){a&&s.next(u),s.complete()}))}}_g.scanInternals=zce});var ss=f(yg=>{"use strict";Object.defineProperty(yg,"__esModule",{value:!0});yg.reduce=void 0;var Gce=oI(),Yce=x();function Kce(t,e){return Yce.operate(Gce.scanInternals(t,e,arguments.length>=2,!1,!0))}yg.reduce=Kce});var wg=f(bg=>{"use strict";Object.defineProperty(bg,"__esModule",{value:!0});bg.toArray=void 0;var Qce=ss(),Jce=x(),Zce=function(t,e){return t.push(e),t};function Xce(){return Jce.operate(function(t,e){Qce.reduce(Zce,[])(t).subscribe(e)})}bg.toArray=Xce});var sI=f(Eg=>{"use strict";Object.defineProperty(Eg,"__esModule",{value:!0});Eg.joinAllInternals=void 0;var ele=yt(),tle=xi(),nle=Ml(),rle=dr(),ile=wg();function ole(t,e){return nle.pipe(ile.toArray(),rle.mergeMap(function(n){return t(n)}),e?tle.mapOneOrManyArgs(e):ele.identity)}Eg.joinAllInternals=ole});var Ig=f(Sg=>{"use strict";Object.defineProperty(Sg,"__esModule",{value:!0});Sg.combineLatestAll=void 0;var sle=Vm(),ale=sI();function ule(t){return ale.joinAllInternals(sle.combineLatest,t)}Sg.combineLatestAll=ule});var aI=f(Cg=>{"use strict";Object.defineProperty(Cg,"__esModule",{value:!0});Cg.combineAll=void 0;var cle=Ig();Cg.combineAll=cle.combineLatestAll});var uI=f(ji=>{"use strict";var Rq=ji&&ji.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Nq=ji&&ji.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(ji,"__esModule",{value:!0});ji.combineLatest=void 0;var lle=Vm(),dle=x(),fle=ki(),hle=xi(),ple=Ml(),mle=Vt();function kq(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=mle.popResultSelector(t);return n?ple.pipe(kq.apply(void 0,Nq([],Rq(t))),hle.mapOneOrManyArgs(n)):dle.operate(function(r,i){lle.combineLatestInit(Nq([r],Rq(fle.argsOrArgArray(t))))(i)})}ji.combineLatest=kq});var cI=f(Li=>{"use strict";var gle=Li&&Li.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},vle=Li&&Li.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(Li,"__esModule",{value:!0});Li.combineLatestWith=void 0;var _le=uI();function yle(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _le.combineLatest.apply(void 0,vle([],gle(t)))}Li.combineLatestWith=yle});var Tg=f(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});Dg.concatMap=void 0;var Fq=dr(),ble=be();function wle(t,e){return ble.isFunction(e)?Fq.mergeMap(t,e,1):Fq.mergeMap(t,1)}Dg.concatMap=wle});var lI=f(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});Og.concatMapTo=void 0;var jq=Tg(),Ele=be();function Sle(t,e){return Ele.isFunction(e)?jq.concatMap(function(){return t},e):jq.concatMap(function(){return t})}Og.concatMapTo=Sle});var dI=f(qi=>{"use strict";var Ile=qi&&qi.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Cle=qi&&qi.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(qi,"__esModule",{value:!0});qi.concat=void 0;var Dle=x(),Tle=jl(),Ole=Vt(),Mle=Br();function Ale(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ole.popScheduler(t);return Dle.operate(function(r,i){Tle.concatAll()(Mle.from(Cle([r],Ile(t)),n)).subscribe(i)})}qi.concat=Ale});var fI=f(Bi=>{"use strict";var Ple=Bi&&Bi.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},xle=Bi&&Bi.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.concatWith=void 0;var Rle=dI();function Nle(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Rle.concat.apply(void 0,xle([],Ple(t)))}Bi.concatWith=Nle});var Lq=f(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.fromSubscribable=void 0;var kle=le();function Fle(t){return new kle.Observable(function(e){return t.subscribe(e)})}Mg.fromSubscribable=Fle});var Bl=f(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.connect=void 0;var jle=nt(),Lle=Q(),qle=x(),Ble=Lq(),Ule={connector:function(){return new jle.Subject}};function Vle(t,e){e===void 0&&(e=Ule);var n=e.connector;return qle.operate(function(r,i){var o=n();Lle.innerFrom(t(Ble.fromSubscribable(o))).subscribe(i),i.add(r.subscribe(o))})}Ag.connect=Vle});var hI=f(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});Pg.count=void 0;var Hle=ss();function $le(t){return Hle.reduce(function(e,n,r){return!t||t(n,r)?e+1:e},0)}Pg.count=$le});var pI=f(xg=>{"use strict";Object.defineProperty(xg,"__esModule",{value:!0});xg.debounce=void 0;var Wle=x(),zle=_t(),qq=F(),Gle=Q();function Yle(t){return Wle.operate(function(e,n){var r=!1,i=null,o=null,s=function(){if(o?.unsubscribe(),o=null,r){r=!1;var a=i;i=null,n.next(a)}};e.subscribe(qq.createOperatorSubscriber(n,function(a){o?.unsubscribe(),r=!0,i=a,o=qq.createOperatorSubscriber(n,s,zle.noop),Gle.innerFrom(t(a)).subscribe(o)},function(){s(),n.complete()},void 0,function(){i=o=null}))})}xg.debounce=Yle});var mI=f(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.debounceTime=void 0;var Kle=Ut(),Qle=x(),Jle=F();function Zle(t,e){return e===void 0&&(e=Kle.asyncScheduler),Qle.operate(function(n,r){var i=null,o=null,s=null,a=function(){if(i){i.unsubscribe(),i=null;var c=o;o=null,r.next(c)}};function u(){var c=s+t,l=e.now();if(l<c){i=this.schedule(void 0,c-l),r.add(i);return}a()}n.subscribe(Jle.createOperatorSubscriber(r,function(c){o=c,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},function(){a(),r.complete()},void 0,function(){o=i=null}))})}Rg.debounceTime=Zle});var hu=f(Ng=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});Ng.defaultIfEmpty=void 0;var Xle=x(),ede=F();function tde(t){return Xle.operate(function(e,n){var r=!1;e.subscribe(ede.createOperatorSubscriber(n,function(i){r=!0,n.next(i)},function(){r||n.next(t),n.complete()}))})}Ng.defaultIfEmpty=tde});var pu=f(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});kg.take=void 0;var nde=jn(),rde=x(),ide=F();function ode(t){return t<=0?function(){return nde.EMPTY}:rde.operate(function(e,n){var r=0;e.subscribe(ide.createOperatorSubscriber(n,function(i){++r<=t&&(n.next(i),t<=r&&n.complete())}))})}kg.take=ode});var jg=f(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});Fg.ignoreElements=void 0;var sde=x(),ade=F(),ude=_t();function cde(){return sde.operate(function(t,e){t.subscribe(ade.createOperatorSubscriber(e,ude.noop))})}Fg.ignoreElements=cde});var qg=f(Lg=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});Lg.mapTo=void 0;var lde=lr();function dde(t){return lde.map(function(){return t})}Lg.mapTo=dde});var Ug=f(Bg=>{"use strict";Object.defineProperty(Bg,"__esModule",{value:!0});Bg.delayWhen=void 0;var fde=Ll(),Bq=pu(),hde=jg(),pde=qg(),mde=dr(),gde=Q();function Uq(t,e){return e?function(n){return fde.concat(e.pipe(Bq.take(1),hde.ignoreElements()),n.pipe(Uq(t)))}:mde.mergeMap(function(n,r){return gde.innerFrom(t(n,r)).pipe(Bq.take(1),pde.mapTo(n))})}Bg.delayWhen=Uq});var gI=f(Vg=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});Vg.delay=void 0;var vde=Ut(),_de=Ug(),yde=Ni();function bde(t,e){e===void 0&&(e=vde.asyncScheduler);var n=yde.timer(t,e);return _de.delayWhen(function(){return n})}Vg.delay=bde});var vI=f(Hg=>{"use strict";Object.defineProperty(Hg,"__esModule",{value:!0});Hg.dematerialize=void 0;var wde=iu(),Ede=x(),Sde=F();function Ide(){return Ede.operate(function(t,e){t.subscribe(Sde.createOperatorSubscriber(e,function(n){return wde.observeNotification(n,e)}))})}Hg.dematerialize=Ide});var _I=f($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.distinct=void 0;var Cde=x(),Vq=F(),Dde=_t(),Tde=Q();function Ode(t,e){return Cde.operate(function(n,r){var i=new Set;n.subscribe(Vq.createOperatorSubscriber(r,function(o){var s=t?t(o):o;i.has(s)||(i.add(s),r.next(o))})),e&&Tde.innerFrom(e).subscribe(Vq.createOperatorSubscriber(r,function(){return i.clear()},Dde.noop))})}$g.distinct=Ode});var zg=f(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.distinctUntilChanged=void 0;var Mde=yt(),Ade=x(),Pde=F();function xde(t,e){return e===void 0&&(e=Mde.identity),t=t??Rde,Ade.operate(function(n,r){var i,o=!0;n.subscribe(Pde.createOperatorSubscriber(r,function(s){var a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}Wg.distinctUntilChanged=xde;function Rde(t,e){return t===e}});var yI=f(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.distinctUntilKeyChanged=void 0;var Nde=zg();function kde(t,e){return Nde.distinctUntilChanged(function(n,r){return e?e(n[t],r[t]):n[t]===r[t]})}Gg.distinctUntilKeyChanged=kde});var mu=f(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});Yg.throwIfEmpty=void 0;var Fde=Ai(),jde=x(),Lde=F();function qde(t){return t===void 0&&(t=Bde),jde.operate(function(e,n){var r=!1;e.subscribe(Lde.createOperatorSubscriber(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(t())}))})}Yg.throwIfEmpty=qde;function Bde(){return new Fde.EmptyError}});var bI=f(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});Kg.elementAt=void 0;var Hq=jS(),Ude=Vr(),Vde=mu(),Hde=hu(),$de=pu();function Wde(t,e){if(t<0)throw new Hq.ArgumentOutOfRangeError;var n=arguments.length>=2;return function(r){return r.pipe(Ude.filter(function(i,o){return o===t}),$de.take(1),n?Hde.defaultIfEmpty(e):Vde.throwIfEmpty(function(){return new Hq.ArgumentOutOfRangeError}))}}Kg.elementAt=Wde});var wI=f(Ui=>{"use strict";var zde=Ui&&Ui.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Gde=Ui&&Ui.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.endWith=void 0;var Yde=Ll(),Kde=Dm();function Qde(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return Yde.concat(n,Kde.of.apply(void 0,Gde([],zde(t))))}}Ui.endWith=Qde});var EI=f(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});Qg.every=void 0;var Jde=x(),Zde=F();function Xde(t,e){return Jde.operate(function(n,r){var i=0;n.subscribe(Zde.createOperatorSubscriber(r,function(o){t.call(e,o,i++,n)||(r.next(!1),r.complete())},function(){r.next(!0),r.complete()}))})}Qg.every=Xde});var Zg=f(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});Jg.exhaustMap=void 0;var efe=lr(),$q=Q(),tfe=x(),Wq=F();function zq(t,e){return e?function(n){return n.pipe(zq(function(r,i){return $q.innerFrom(t(r,i)).pipe(efe.map(function(o,s){return e(r,o,i,s)}))}))}:tfe.operate(function(n,r){var i=0,o=null,s=!1;n.subscribe(Wq.createOperatorSubscriber(r,function(a){o||(o=Wq.createOperatorSubscriber(r,void 0,function(){o=null,s&&r.complete()}),$q.innerFrom(t(a,i++)).subscribe(o))},function(){s=!0,!o&&r.complete()}))})}Jg.exhaustMap=zq});var ev=f(Xg=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});Xg.exhaustAll=void 0;var nfe=Zg(),rfe=yt();function ife(){return nfe.exhaustMap(rfe.identity)}Xg.exhaustAll=ife});var SI=f(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});tv.exhaust=void 0;var ofe=ev();tv.exhaust=ofe.exhaustAll});var II=f(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0});nv.expand=void 0;var sfe=x(),afe=$m();function ufe(t,e,n){return e===void 0&&(e=1/0),e=(e||0)<1?1/0:e,sfe.operate(function(r,i){return afe.mergeInternals(r,i,t,e,void 0,!0,n)})}nv.expand=ufe});var CI=f(rv=>{"use strict";Object.defineProperty(rv,"__esModule",{value:!0});rv.finalize=void 0;var cfe=x();function lfe(t){return cfe.operate(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}rv.finalize=lfe});var iv=f(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.createFind=gu.find=void 0;var dfe=x(),ffe=F();function hfe(t,e){return dfe.operate(Gq(t,e,"value"))}gu.find=hfe;function Gq(t,e,n){var r=n==="index";return function(i,o){var s=0;i.subscribe(ffe.createOperatorSubscriber(o,function(a){var u=s++;t.call(e,a,u,i)&&(o.next(r?u:a),o.complete())},function(){o.next(r?-1:void 0),o.complete()}))}}gu.createFind=Gq});var DI=f(ov=>{"use strict";Object.defineProperty(ov,"__esModule",{value:!0});ov.findIndex=void 0;var pfe=x(),mfe=iv();function gfe(t,e){return pfe.operate(mfe.createFind(t,e,"index"))}ov.findIndex=gfe});var TI=f(sv=>{"use strict";Object.defineProperty(sv,"__esModule",{value:!0});sv.first=void 0;var vfe=Ai(),_fe=Vr(),yfe=pu(),bfe=hu(),wfe=mu(),Efe=yt();function Sfe(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?_fe.filter(function(i,o){return t(i,o,r)}):Efe.identity,yfe.take(1),n?bfe.defaultIfEmpty(e):wfe.throwIfEmpty(function(){return new vfe.EmptyError}))}}sv.first=Sfe});var OI=f(av=>{"use strict";Object.defineProperty(av,"__esModule",{value:!0});av.groupBy=void 0;var Ife=le(),Cfe=Q(),Dfe=nt(),Tfe=x(),Yq=F();function Ofe(t,e,n,r){return Tfe.operate(function(i,o){var s;!e||typeof e=="function"?s=e:(n=e.duration,s=e.element,r=e.connector);var a=new Map,u=function(g){a.forEach(g),g(o)},c=function(g){return u(function(_){return _.error(g)})},l=0,d=!1,h=new Yq.OperatorSubscriber(o,function(g){try{var _=t(g),y=a.get(_);if(!y){a.set(_,y=r?r():new Dfe.Subject);var b=m(_,y);if(o.next(b),n){var I=Yq.createOperatorSubscriber(y,function(){y.complete(),I?.unsubscribe()},void 0,void 0,function(){return a.delete(_)});h.add(Cfe.innerFrom(n(b)).subscribe(I))}}y.next(s?s(g):g)}catch(E){c(E)}},function(){return u(function(g){return g.complete()})},c,function(){return a.clear()},function(){return d=!0,l===0});i.subscribe(h);function m(g,_){var y=new Ife.Observable(function(b){l++;var I=_.subscribe(b);return function(){I.unsubscribe(),--l===0&&d&&h.unsubscribe()}});return y.key=g,y}})}av.groupBy=Ofe});var MI=f(uv=>{"use strict";Object.defineProperty(uv,"__esModule",{value:!0});uv.isEmpty=void 0;var Mfe=x(),Afe=F();function Pfe(){return Mfe.operate(function(t,e){t.subscribe(Afe.createOperatorSubscriber(e,function(){e.next(!1),e.complete()},function(){e.next(!0),e.complete()}))})}uv.isEmpty=Pfe});var cv=f(vu=>{"use strict";var xfe=vu&&vu.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(vu,"__esModule",{value:!0});vu.takeLast=void 0;var Rfe=jn(),Nfe=x(),kfe=F();function Ffe(t){return t<=0?function(){return Rfe.EMPTY}:Nfe.operate(function(e,n){var r=[];e.subscribe(kfe.createOperatorSubscriber(n,function(i){r.push(i),t<r.length&&r.shift()},function(){var i,o;try{for(var s=xfe(r),a=s.next();!a.done;a=s.next()){var u=a.value;n.next(u)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}n.complete()},void 0,function(){r=null}))})}vu.takeLast=Ffe});var AI=f(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});lv.last=void 0;var jfe=Ai(),Lfe=Vr(),qfe=cv(),Bfe=mu(),Ufe=hu(),Vfe=yt();function Hfe(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Lfe.filter(function(i,o){return t(i,o,r)}):Vfe.identity,qfe.takeLast(1),n?Ufe.defaultIfEmpty(e):Bfe.throwIfEmpty(function(){return new jfe.EmptyError}))}}lv.last=Hfe});var xI=f(dv=>{"use strict";Object.defineProperty(dv,"__esModule",{value:!0});dv.materialize=void 0;var PI=iu(),$fe=x(),Wfe=F();function zfe(){return $fe.operate(function(t,e){t.subscribe(Wfe.createOperatorSubscriber(e,function(n){e.next(PI.Notification.createNext(n))},function(){e.next(PI.Notification.createComplete()),e.complete()},function(n){e.next(PI.Notification.createError(n)),e.complete()}))})}dv.materialize=zfe});var RI=f(fv=>{"use strict";Object.defineProperty(fv,"__esModule",{value:!0});fv.max=void 0;var Gfe=ss(),Yfe=be();function Kfe(t){return Gfe.reduce(Yfe.isFunction(t)?function(e,n){return t(e,n)>0?e:n}:function(e,n){return e>n?e:n})}fv.max=Kfe});var NI=f(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0});hv.flatMap=void 0;var Qfe=dr();hv.flatMap=Qfe.mergeMap});var kI=f(pv=>{"use strict";Object.defineProperty(pv,"__esModule",{value:!0});pv.mergeMapTo=void 0;var Kq=dr(),Jfe=be();function Zfe(t,e,n){return n===void 0&&(n=1/0),Jfe.isFunction(e)?Kq.mergeMap(function(){return t},e,n):(typeof e=="number"&&(n=e),Kq.mergeMap(function(){return t},n))}pv.mergeMapTo=Zfe});var FI=f(mv=>{"use strict";Object.defineProperty(mv,"__esModule",{value:!0});mv.mergeScan=void 0;var Xfe=x(),ehe=$m();function the(t,e,n){return n===void 0&&(n=1/0),Xfe.operate(function(r,i){var o=e;return ehe.mergeInternals(r,i,function(s,a){return t(o,s,a)},n,function(s){o=s},!1,void 0,function(){return o=null})})}mv.mergeScan=the});var jI=f(Vi=>{"use strict";var nhe=Vi&&Vi.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},rhe=Vi&&Vi.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.merge=void 0;var ihe=x(),ohe=ki(),she=su(),Qq=Vt(),ahe=Br();function uhe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Qq.popScheduler(t),r=Qq.popNumber(t,1/0);return t=ohe.argsOrArgArray(t),ihe.operate(function(i,o){she.mergeAll(r)(ahe.from(rhe([i],nhe(t)),n)).subscribe(o)})}Vi.merge=uhe});var LI=f(Hi=>{"use strict";var che=Hi&&Hi.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},lhe=Hi&&Hi.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.mergeWith=void 0;var dhe=jI();function fhe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return dhe.merge.apply(void 0,lhe([],che(t)))}Hi.mergeWith=fhe});var qI=f(gv=>{"use strict";Object.defineProperty(gv,"__esModule",{value:!0});gv.min=void 0;var hhe=ss(),phe=be();function mhe(t){return hhe.reduce(phe.isFunction(t)?function(e,n){return t(e,n)<0?e:n}:function(e,n){return e<n?e:n})}gv.min=mhe});var Ul=f(vv=>{"use strict";Object.defineProperty(vv,"__esModule",{value:!0});vv.multicast=void 0;var ghe=Al(),Jq=be(),vhe=Bl();function _he(t,e){var n=Jq.isFunction(t)?t:function(){return t};return Jq.isFunction(e)?vhe.connect(e,{connector:n}):function(r){return new ghe.ConnectableObservable(r,n)}}vv.multicast=_he});var BI=f(fr=>{"use strict";var yhe=fr&&fr.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},bhe=fr&&fr.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(fr,"__esModule",{value:!0});fr.onErrorResumeNext=fr.onErrorResumeNextWith=void 0;var whe=ki(),Ehe=GS();function Zq(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=whe.argsOrArgArray(t);return function(r){return Ehe.onErrorResumeNext.apply(void 0,bhe([r],yhe(n)))}}fr.onErrorResumeNextWith=Zq;fr.onErrorResumeNext=Zq});var UI=f(_v=>{"use strict";Object.defineProperty(_v,"__esModule",{value:!0});_v.pairwise=void 0;var She=x(),Ihe=F();function Che(){return She.operate(function(t,e){var n,r=!1;t.subscribe(Ihe.createOperatorSubscriber(e,function(i){var o=n;n=i,r&&e.next([o,i]),r=!0}))})}_v.pairwise=Che});var VI=f(yv=>{"use strict";Object.defineProperty(yv,"__esModule",{value:!0});yv.pluck=void 0;var Dhe=lr();function The(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(n===0)throw new Error("list of properties cannot be empty.");return Dhe.map(function(r){for(var i=r,o=0;o<n;o++){var s=i?.[t[o]];if(typeof s<"u")i=s;else return}return i})}yv.pluck=The});var HI=f(bv=>{"use strict";Object.defineProperty(bv,"__esModule",{value:!0});bv.publish=void 0;var Ohe=nt(),Mhe=Ul(),Ahe=Bl();function Phe(t){return t?function(e){return Ahe.connect(t)(e)}:function(e){return Mhe.multicast(new Ohe.Subject)(e)}}bv.publish=Phe});var $I=f(wv=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0});wv.publishBehavior=void 0;var xhe=vS(),Rhe=Al();function Nhe(t){return function(e){var n=new xhe.BehaviorSubject(t);return new Rhe.ConnectableObservable(e,function(){return n})}}wv.publishBehavior=Nhe});var WI=f(Ev=>{"use strict";Object.defineProperty(Ev,"__esModule",{value:!0});Ev.publishLast=void 0;var khe=nm(),Fhe=Al();function jhe(){return function(t){var e=new khe.AsyncSubject;return new Fhe.ConnectableObservable(t,function(){return e})}}Ev.publishLast=jhe});var zI=f(Sv=>{"use strict";Object.defineProperty(Sv,"__esModule",{value:!0});Sv.publishReplay=void 0;var Lhe=Nl(),qhe=Ul(),Xq=be();function Bhe(t,e,n,r){n&&!Xq.isFunction(n)&&(r=n);var i=Xq.isFunction(n)?n:void 0;return function(o){return qhe.multicast(new Lhe.ReplaySubject(t,e,r),i)(o)}}Sv.publishReplay=Bhe});var Iv=f($i=>{"use strict";var Uhe=$i&&$i.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Vhe=$i&&$i.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty($i,"__esModule",{value:!0});$i.raceWith=void 0;var Hhe=KS(),$he=x(),Whe=yt();function zhe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?$he.operate(function(n,r){Hhe.raceInit(Vhe([n],Uhe(t)))(r)}):Whe.identity}$i.raceWith=zhe});var GI=f(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});Cv.repeat=void 0;var Ghe=jn(),Yhe=x(),e2=F(),Khe=Q(),Qhe=Ni();function Jhe(t){var e,n=1/0,r;return t!=null&&(typeof t=="object"?(e=t.count,n=e===void 0?1/0:e,r=t.delay):n=t),n<=0?function(){return Ghe.EMPTY}:Yhe.operate(function(i,o){var s=0,a,u=function(){if(a?.unsubscribe(),a=null,r!=null){var l=typeof r=="number"?Qhe.timer(r):Khe.innerFrom(r(s)),d=e2.createOperatorSubscriber(o,function(){d.unsubscribe(),c()});l.subscribe(d)}else c()},c=function(){var l=!1;a=i.subscribe(e2.createOperatorSubscriber(o,void 0,function(){++s<n?a?u():l=!0:o.complete()})),l&&u()};c()})}Cv.repeat=Jhe});var YI=f(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});Dv.repeatWhen=void 0;var Zhe=Q(),Xhe=nt(),epe=x(),t2=F();function tpe(t){return epe.operate(function(e,n){var r,i=!1,o,s=!1,a=!1,u=function(){return a&&s&&(n.complete(),!0)},c=function(){return o||(o=new Xhe.Subject,Zhe.innerFrom(t(o)).subscribe(t2.createOperatorSubscriber(n,function(){r?l():i=!0},function(){s=!0,u()}))),o},l=function(){a=!1,r=e.subscribe(t2.createOperatorSubscriber(n,void 0,function(){a=!0,!u()&&c().next()})),i&&(r.unsubscribe(),r=null,i=!1,l())};l()})}Dv.repeatWhen=tpe});var KI=f(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});Tv.retry=void 0;var npe=x(),n2=F(),rpe=yt(),ipe=Ni(),ope=Q();function spe(t){t===void 0&&(t=1/0);var e;t&&typeof t=="object"?e=t:e={count:t};var n=e.count,r=n===void 0?1/0:n,i=e.delay,o=e.resetOnSuccess,s=o===void 0?!1:o;return r<=0?rpe.identity:npe.operate(function(a,u){var c=0,l,d=function(){var h=!1;l=a.subscribe(n2.createOperatorSubscriber(u,function(m){s&&(c=0),u.next(m)},void 0,function(m){if(c++<r){var g=function(){l?(l.unsubscribe(),l=null,d()):h=!0};if(i!=null){var _=typeof i=="number"?ipe.timer(i):ope.innerFrom(i(m,c)),y=n2.createOperatorSubscriber(u,function(){y.unsubscribe(),g()},function(){u.complete()});_.subscribe(y)}else g()}else u.error(m)})),h&&(l.unsubscribe(),l=null,d())};d()})}Tv.retry=spe});var QI=f(Ov=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0});Ov.retryWhen=void 0;var ape=Q(),upe=nt(),cpe=x(),r2=F();function lpe(t){return cpe.operate(function(e,n){var r,i=!1,o,s=function(){r=e.subscribe(r2.createOperatorSubscriber(n,void 0,void 0,function(a){o||(o=new upe.Subject,ape.innerFrom(t(o)).subscribe(r2.createOperatorSubscriber(n,function(){return r?s():i=!0}))),o&&o.next(a)})),i&&(r.unsubscribe(),r=null,i=!1,s())};s()})}Ov.retryWhen=lpe});var Av=f(Mv=>{"use strict";Object.defineProperty(Mv,"__esModule",{value:!0});Mv.sample=void 0;var dpe=Q(),fpe=x(),hpe=_t(),i2=F();function ppe(t){return fpe.operate(function(e,n){var r=!1,i=null;e.subscribe(i2.createOperatorSubscriber(n,function(o){r=!0,i=o})),dpe.innerFrom(t).subscribe(i2.createOperatorSubscriber(n,function(){if(r){r=!1;var o=i;i=null,n.next(o)}},hpe.noop))})}Mv.sample=ppe});var JI=f(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.sampleTime=void 0;var mpe=Ut(),gpe=Av(),vpe=WS();function _pe(t,e){return e===void 0&&(e=mpe.asyncScheduler),gpe.sample(vpe.interval(t,e))}Pv.sampleTime=_pe});var ZI=f(xv=>{"use strict";Object.defineProperty(xv,"__esModule",{value:!0});xv.scan=void 0;var ype=x(),bpe=oI();function wpe(t,e){return ype.operate(bpe.scanInternals(t,e,arguments.length>=2,!0))}xv.scan=wpe});var XI=f(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0});Rv.sequenceEqual=void 0;var Epe=x(),Spe=F(),Ipe=Q();function Cpe(t,e){return e===void 0&&(e=function(n,r){return n===r}),Epe.operate(function(n,r){var i=o2(),o=o2(),s=function(u){r.next(u),r.complete()},a=function(u,c){var l=Spe.createOperatorSubscriber(r,function(d){var h=c.buffer,m=c.complete;h.length===0?m?s(!1):u.buffer.push(d):!e(d,h.shift())&&s(!1)},function(){u.complete=!0;var d=c.complete,h=c.buffer;d&&s(h.length===0),l?.unsubscribe()});return l};n.subscribe(a(i,o)),Ipe.innerFrom(t).subscribe(a(o,i))})}Rv.sequenceEqual=Cpe;function o2(){return{buffer:[],complete:!1}}});var Nv=f(Wi=>{"use strict";var Dpe=Wi&&Wi.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Tpe=Wi&&Wi.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.share=void 0;var s2=Q(),Ope=nt(),a2=Jo(),Mpe=x();function Ape(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new Ope.Subject}:e,r=t.resetOnError,i=r===void 0?!0:r,o=t.resetOnComplete,s=o===void 0?!0:o,a=t.resetOnRefCountZero,u=a===void 0?!0:a;return function(c){var l,d,h,m=0,g=!1,_=!1,y=function(){d?.unsubscribe(),d=void 0},b=function(){y(),l=h=void 0,g=_=!1},I=function(){var E=l;b(),E?.unsubscribe()};return Mpe.operate(function(E,S){m++,!_&&!g&&y();var C=h=h??n();S.add(function(){m--,m===0&&!_&&!g&&(d=eC(I,u))}),C.subscribe(S),!l&&m>0&&(l=new a2.SafeSubscriber({next:function(R){return C.next(R)},error:function(R){_=!0,y(),d=eC(b,i,R),C.error(R)},complete:function(){g=!0,y(),d=eC(b,s),C.complete()}}),s2.innerFrom(E).subscribe(l))})(c)}}Wi.share=Ape;function eC(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new a2.SafeSubscriber({next:function(){i.unsubscribe(),t()}});return s2.innerFrom(e.apply(void 0,Tpe([],Dpe(n)))).subscribe(i)}}});var tC=f(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});kv.shareReplay=void 0;var Ppe=Nl(),xpe=Nv();function Rpe(t,e,n){var r,i,o,s,a=!1;return t&&typeof t=="object"?(r=t.bufferSize,s=r===void 0?1/0:r,i=t.windowTime,e=i===void 0?1/0:i,o=t.refCount,a=o===void 0?!1:o,n=t.scheduler):s=t??1/0,xpe.share({connector:function(){return new Ppe.ReplaySubject(s,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}kv.shareReplay=Rpe});var nC=f(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0});Fv.single=void 0;var Npe=Ai(),kpe=qS(),Fpe=LS(),jpe=x(),Lpe=F();function qpe(t){return jpe.operate(function(e,n){var r=!1,i,o=!1,s=0;e.subscribe(Lpe.createOperatorSubscriber(n,function(a){o=!0,(!t||t(a,s++,e))&&(r&&n.error(new kpe.SequenceError("Too many matching values")),r=!0,i=a)},function(){r?(n.next(i),n.complete()):n.error(o?new Fpe.NotFoundError("No matching values"):new Npe.EmptyError)}))})}Fv.single=qpe});var rC=f(jv=>{"use strict";Object.defineProperty(jv,"__esModule",{value:!0});jv.skip=void 0;var Bpe=Vr();function Upe(t){return Bpe.filter(function(e,n){return t<=n})}jv.skip=Upe});var iC=f(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0});Lv.skipLast=void 0;var Vpe=yt(),Hpe=x(),$pe=F();function Wpe(t){return t<=0?Vpe.identity:Hpe.operate(function(e,n){var r=new Array(t),i=0;return e.subscribe($pe.createOperatorSubscriber(n,function(o){var s=i++;if(s<t)r[s]=o;else{var a=s%t,u=r[a];r[a]=o,n.next(u)}})),function(){r=null}})}Lv.skipLast=Wpe});var oC=f(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0});qv.skipUntil=void 0;var zpe=x(),u2=F(),Gpe=Q(),Ype=_t();function Kpe(t){return zpe.operate(function(e,n){var r=!1,i=u2.createOperatorSubscriber(n,function(){i?.unsubscribe(),r=!0},Ype.noop);Gpe.innerFrom(t).subscribe(i),e.subscribe(u2.createOperatorSubscriber(n,function(o){return r&&n.next(o)}))})}qv.skipUntil=Kpe});var sC=f(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0});Bv.skipWhile=void 0;var Qpe=x(),Jpe=F();function Zpe(t){return Qpe.operate(function(e,n){var r=!1,i=0;e.subscribe(Jpe.createOperatorSubscriber(n,function(o){return(r||(r=!t(o,i++)))&&n.next(o)}))})}Bv.skipWhile=Zpe});var aC=f(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});Uv.startWith=void 0;var c2=Ll(),Xpe=Vt(),eme=x();function tme(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Xpe.popScheduler(t);return eme.operate(function(r,i){(n?c2.concat(t,r,n):c2.concat(t,r)).subscribe(i)})}Uv.startWith=tme});var _u=f(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});Vv.switchMap=void 0;var nme=Q(),rme=x(),l2=F();function ime(t,e){return rme.operate(function(n,r){var i=null,o=0,s=!1,a=function(){return s&&!i&&r.complete()};n.subscribe(l2.createOperatorSubscriber(r,function(u){i?.unsubscribe();var c=0,l=o++;nme.innerFrom(t(u,l)).subscribe(i=l2.createOperatorSubscriber(r,function(d){return r.next(e?e(u,d,l,c++):d)},function(){i=null,a()}))},function(){s=!0,a()}))})}Vv.switchMap=ime});var uC=f(Hv=>{"use strict";Object.defineProperty(Hv,"__esModule",{value:!0});Hv.switchAll=void 0;var ome=_u(),sme=yt();function ame(){return ome.switchMap(sme.identity)}Hv.switchAll=ame});var cC=f($v=>{"use strict";Object.defineProperty($v,"__esModule",{value:!0});$v.switchMapTo=void 0;var d2=_u(),ume=be();function cme(t,e){return ume.isFunction(e)?d2.switchMap(function(){return t},e):d2.switchMap(function(){return t})}$v.switchMapTo=cme});var lC=f(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.switchScan=void 0;var lme=_u(),dme=x();function fme(t,e){return dme.operate(function(n,r){var i=e;return lme.switchMap(function(o,s){return t(i,o,s)},function(o,s){return i=s,s})(n).subscribe(r),function(){i=null}})}Wv.switchScan=fme});var dC=f(zv=>{"use strict";Object.defineProperty(zv,"__esModule",{value:!0});zv.takeUntil=void 0;var hme=x(),pme=F(),mme=Q(),gme=_t();function vme(t){return hme.operate(function(e,n){mme.innerFrom(t).subscribe(pme.createOperatorSubscriber(n,function(){return n.complete()},gme.noop)),!n.closed&&e.subscribe(n)})}zv.takeUntil=vme});var fC=f(Gv=>{"use strict";Object.defineProperty(Gv,"__esModule",{value:!0});Gv.takeWhile=void 0;var _me=x(),yme=F();function bme(t,e){return e===void 0&&(e=!1),_me.operate(function(n,r){var i=0;n.subscribe(yme.createOperatorSubscriber(r,function(o){var s=t(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}Gv.takeWhile=bme});var hC=f(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0});Yv.tap=void 0;var wme=be(),Eme=x(),Sme=F(),Ime=yt();function Cme(t,e,n){var r=wme.isFunction(t)||e||n?{next:t,error:e,complete:n}:t;return r?Eme.operate(function(i,o){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var a=!0;i.subscribe(Sme.createOperatorSubscriber(o,function(u){var c;(c=r.next)===null||c===void 0||c.call(r,u),o.next(u)},function(){var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},function(u){var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,u),o.error(u)},function(){var u,c;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Ime.identity}Yv.tap=Cme});var Qv=f(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});Kv.throttle=void 0;var Dme=x(),f2=F(),Tme=Q();function Ome(t,e){return Dme.operate(function(n,r){var i=e??{},o=i.leading,s=o===void 0?!0:o,a=i.trailing,u=a===void 0?!1:a,c=!1,l=null,d=null,h=!1,m=function(){d?.unsubscribe(),d=null,u&&(y(),h&&r.complete())},g=function(){d=null,h&&r.complete()},_=function(b){return d=Tme.innerFrom(t(b)).subscribe(f2.createOperatorSubscriber(r,m,g))},y=function(){if(c){c=!1;var b=l;l=null,r.next(b),!h&&_(b)}};n.subscribe(f2.createOperatorSubscriber(r,function(b){c=!0,l=b,!(d&&!d.closed)&&(s?y():_(b))},function(){h=!0,!(u&&c&&d&&!d.closed)&&r.complete()}))})}Kv.throttle=Ome});var pC=f(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0});Jv.throttleTime=void 0;var Mme=Ut(),Ame=Qv(),Pme=Ni();function xme(t,e,n){e===void 0&&(e=Mme.asyncScheduler);var r=Pme.timer(t,e);return Ame.throttle(function(){return r},n)}Jv.throttleTime=xme});var mC=f(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.TimeInterval=yu.timeInterval=void 0;var Rme=Ut(),Nme=x(),kme=F();function Fme(t){return t===void 0&&(t=Rme.asyncScheduler),Nme.operate(function(e,n){var r=t.now();e.subscribe(kme.createOperatorSubscriber(n,function(i){var o=t.now(),s=o-r;r=o,n.next(new h2(i,s))}))})}yu.timeInterval=Fme;var h2=function(){function t(e,n){this.value=e,this.interval=n}return t}();yu.TimeInterval=h2});var gC=f(Zv=>{"use strict";Object.defineProperty(Zv,"__esModule",{value:!0});Zv.timeoutWith=void 0;var jme=Ut(),Lme=Fm(),qme=Fl();function Bme(t,e,n){var r,i,o;if(n=n??jme.async,Lme.isValidDate(t)?r=t:typeof t=="number"&&(i=t),e)o=function(){return e};else throw new TypeError("No observable provided to switch to");if(r==null&&i==null)throw new TypeError("No timeout provided.");return qme.timeout({first:r,each:i,scheduler:n,with:o})}Zv.timeoutWith=Bme});var vC=f(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});Xv.timestamp=void 0;var Ume=Rl(),Vme=lr();function Hme(t){return t===void 0&&(t=Ume.dateTimestampProvider),Vme.map(function(e){return{value:e,timestamp:t.now()}})}Xv.timestamp=Hme});var _C=f(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.window=void 0;var p2=nt(),$me=x(),m2=F(),Wme=_t(),zme=Q();function Gme(t){return $me.operate(function(e,n){var r=new p2.Subject;n.next(r.asObservable());var i=function(o){r.error(o),n.error(o)};return e.subscribe(m2.createOperatorSubscriber(n,function(o){return r?.next(o)},function(){r.complete(),n.complete()},i)),zme.innerFrom(t).subscribe(m2.createOperatorSubscriber(n,function(){r.complete(),n.next(r=new p2.Subject)},Wme.noop,i)),function(){r?.unsubscribe(),r=null}})}e_.window=Gme});var yC=f(bu=>{"use strict";var Yme=bu&&bu.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(bu,"__esModule",{value:!0});bu.windowCount=void 0;var g2=nt(),Kme=x(),Qme=F();function Jme(t,e){e===void 0&&(e=0);var n=e>0?e:t;return Kme.operate(function(r,i){var o=[new g2.Subject],s=[],a=0;i.next(o[0].asObservable()),r.subscribe(Qme.createOperatorSubscriber(i,function(u){var c,l;try{for(var d=Yme(o),h=d.next();!h.done;h=d.next()){var m=h.value;m.next(u)}}catch(y){c={error:y}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(c)throw c.error}}var g=a-t+1;if(g>=0&&g%n===0&&o.shift().complete(),++a%n===0){var _=new g2.Subject;o.push(_),i.next(_.asObservable())}},function(){for(;o.length>0;)o.shift().complete();i.complete()},function(u){for(;o.length>0;)o.shift().error(u);i.error(u)},function(){s=null,o=null}))})}bu.windowCount=Jme});var bC=f(t_=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0});t_.windowTime=void 0;var Zme=nt(),Xme=Ut(),ege=Et(),tge=x(),nge=F(),rge=Lr(),ige=Vt(),v2=qr();function oge(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=(e=ige.popScheduler(r))!==null&&e!==void 0?e:Xme.asyncScheduler,s=(n=r[0])!==null&&n!==void 0?n:null,a=r[1]||1/0;return tge.operate(function(u,c){var l=[],d=!1,h=function(y){var b=y.window,I=y.subs;b.complete(),I.unsubscribe(),rge.arrRemove(l,y),d&&m()},m=function(){if(l){var y=new ege.Subscription;c.add(y);var b=new Zme.Subject,I={window:b,subs:y,seen:0};l.push(I),c.next(b.asObservable()),v2.executeSchedule(y,o,function(){return h(I)},t)}};s!==null&&s>=0?v2.executeSchedule(c,o,m,s,!0):d=!0,m();var g=function(y){return l.slice().forEach(y)},_=function(y){g(function(b){var I=b.window;return y(I)}),y(c),c.unsubscribe()};return u.subscribe(nge.createOperatorSubscriber(c,function(y){g(function(b){b.window.next(y),a<=++b.seen&&h(b)})},function(){return _(function(y){return y.complete()})},function(y){return _(function(b){return b.error(y)})})),function(){l=null}})}t_.windowTime=oge});var EC=f(wu=>{"use strict";var sge=wu&&wu.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(wu,"__esModule",{value:!0});wu.windowToggle=void 0;var age=nt(),uge=Et(),cge=x(),_2=Q(),wC=F(),y2=_t(),lge=Lr();function dge(t,e){return cge.operate(function(n,r){var i=[],o=function(s){for(;0<i.length;)i.shift().error(s);r.error(s)};_2.innerFrom(t).subscribe(wC.createOperatorSubscriber(r,function(s){var a=new age.Subject;i.push(a);var u=new uge.Subscription,c=function(){lge.arrRemove(i,a),a.complete(),u.unsubscribe()},l;try{l=_2.innerFrom(e(s))}catch(d){o(d);return}r.next(a.asObservable()),u.add(l.subscribe(wC.createOperatorSubscriber(r,c,y2.noop,o)))},y2.noop)),n.subscribe(wC.createOperatorSubscriber(r,function(s){var a,u,c=i.slice();try{for(var l=sge(c),d=l.next();!d.done;d=l.next()){var h=d.value;h.next(s)}}catch(m){a={error:m}}finally{try{d&&!d.done&&(u=l.return)&&u.call(l)}finally{if(a)throw a.error}}},function(){for(;0<i.length;)i.shift().complete();r.complete()},o,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}wu.windowToggle=dge});var SC=f(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});n_.windowWhen=void 0;var fge=nt(),hge=x(),b2=F(),pge=Q();function mge(t){return hge.operate(function(e,n){var r,i,o=function(a){r.error(a),n.error(a)},s=function(){i?.unsubscribe(),r?.complete(),r=new fge.Subject,n.next(r.asObservable());var a;try{a=pge.innerFrom(t())}catch(u){o(u);return}a.subscribe(i=b2.createOperatorSubscriber(n,s,s,o))};s(),e.subscribe(b2.createOperatorSubscriber(n,function(a){return r.next(a)},function(){r.complete(),n.complete()},o,function(){i?.unsubscribe(),r=null}))})}n_.windowWhen=mge});var IC=f(zi=>{"use strict";var w2=zi&&zi.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},E2=zi&&zi.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(zi,"__esModule",{value:!0});zi.withLatestFrom=void 0;var gge=x(),S2=F(),vge=Q(),_ge=yt(),yge=_t(),bge=Vt();function wge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=bge.popResultSelector(t);return gge.operate(function(r,i){for(var o=t.length,s=new Array(o),a=t.map(function(){return!1}),u=!1,c=function(d){vge.innerFrom(t[d]).subscribe(S2.createOperatorSubscriber(i,function(h){s[d]=h,!u&&!a[d]&&(a[d]=!0,(u=a.every(_ge.identity))&&(a=null))},yge.noop))},l=0;l<o;l++)c(l);r.subscribe(S2.createOperatorSubscriber(i,function(d){if(u){var h=E2([d],w2(s));i.next(n?n.apply(void 0,E2([],w2(h))):h)}}))})}zi.withLatestFrom=wge});var CC=f(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0});r_.zipAll=void 0;var Ege=dg(),Sge=sI();function Ige(t){return Sge.joinAllInternals(Ege.zip,t)}r_.zipAll=Ige});var DC=f(Gi=>{"use strict";var Cge=Gi&&Gi.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Dge=Gi&&Gi.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.zip=void 0;var Tge=dg(),Oge=x();function Mge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Oge.operate(function(n,r){Tge.zip.apply(void 0,Dge([n],Cge(t))).subscribe(r)})}Gi.zip=Mge});var TC=f(Yi=>{"use strict";var Age=Yi&&Yi.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Pge=Yi&&Yi.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.zipWith=void 0;var xge=DC();function Rge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xge.zip.apply(void 0,Pge([],Age(t)))}Yi.zipWith=Rge});var w=f(p=>{"use strict";var Nge=p&&p.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),kge=p&&p.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Nge(e,t,n)};Object.defineProperty(p,"__esModule",{value:!0});p.interval=p.iif=p.generate=p.fromEventPattern=p.fromEvent=p.from=p.forkJoin=p.empty=p.defer=p.connectable=p.concat=p.combineLatest=p.bindNodeCallback=p.bindCallback=p.UnsubscriptionError=p.TimeoutError=p.SequenceError=p.ObjectUnsubscribedError=p.NotFoundError=p.EmptyError=p.ArgumentOutOfRangeError=p.firstValueFrom=p.lastValueFrom=p.isObservable=p.identity=p.noop=p.pipe=p.NotificationKind=p.Notification=p.Subscriber=p.Subscription=p.Scheduler=p.VirtualAction=p.VirtualTimeScheduler=p.animationFrameScheduler=p.animationFrame=p.queueScheduler=p.queue=p.asyncScheduler=p.async=p.asapScheduler=p.asap=p.AsyncSubject=p.ReplaySubject=p.BehaviorSubject=p.Subject=p.animationFrames=p.observable=p.ConnectableObservable=p.Observable=void 0;p.filter=p.expand=p.exhaustMap=p.exhaustAll=p.exhaust=p.every=p.endWith=p.elementAt=p.distinctUntilKeyChanged=p.distinctUntilChanged=p.distinct=p.dematerialize=p.delayWhen=p.delay=p.defaultIfEmpty=p.debounceTime=p.debounce=p.count=p.connect=p.concatWith=p.concatMapTo=p.concatMap=p.concatAll=p.combineLatestWith=p.combineLatestAll=p.combineAll=p.catchError=p.bufferWhen=p.bufferToggle=p.bufferTime=p.bufferCount=p.buffer=p.auditTime=p.audit=p.config=p.NEVER=p.EMPTY=p.scheduled=p.zip=p.using=p.timer=p.throwError=p.range=p.race=p.partition=p.pairs=p.onErrorResumeNext=p.of=p.never=p.merge=void 0;p.switchMap=p.switchAll=p.subscribeOn=p.startWith=p.skipWhile=p.skipUntil=p.skipLast=p.skip=p.single=p.shareReplay=p.share=p.sequenceEqual=p.scan=p.sampleTime=p.sample=p.refCount=p.retryWhen=p.retry=p.repeatWhen=p.repeat=p.reduce=p.raceWith=p.publishReplay=p.publishLast=p.publishBehavior=p.publish=p.pluck=p.pairwise=p.onErrorResumeNextWith=p.observeOn=p.multicast=p.min=p.mergeWith=p.mergeScan=p.mergeMapTo=p.mergeMap=p.flatMap=p.mergeAll=p.max=p.materialize=p.mapTo=p.map=p.last=p.isEmpty=p.ignoreElements=p.groupBy=p.first=p.findIndex=p.find=p.finalize=void 0;p.zipWith=p.zipAll=p.withLatestFrom=p.windowWhen=p.windowToggle=p.windowTime=p.windowCount=p.window=p.toArray=p.timestamp=p.timeoutWith=p.timeout=p.timeInterval=p.throwIfEmpty=p.throttleTime=p.throttle=p.tap=p.takeWhile=p.takeUntil=p.takeLast=p.take=p.switchScan=p.switchMapTo=void 0;var Fge=le();Object.defineProperty(p,"Observable",{enumerable:!0,get:function(){return Fge.Observable}});var jge=Al();Object.defineProperty(p,"ConnectableObservable",{enumerable:!0,get:function(){return jge.ConnectableObservable}});var Lge=Ol();Object.defineProperty(p,"observable",{enumerable:!0,get:function(){return Lge.observable}});var qge=iL();Object.defineProperty(p,"animationFrames",{enumerable:!0,get:function(){return qge.animationFrames}});var Bge=nt();Object.defineProperty(p,"Subject",{enumerable:!0,get:function(){return Bge.Subject}});var Uge=vS();Object.defineProperty(p,"BehaviorSubject",{enumerable:!0,get:function(){return Uge.BehaviorSubject}});var Vge=Nl();Object.defineProperty(p,"ReplaySubject",{enumerable:!0,get:function(){return Vge.ReplaySubject}});var Hge=nm();Object.defineProperty(p,"AsyncSubject",{enumerable:!0,get:function(){return Hge.AsyncSubject}});var I2=yL();Object.defineProperty(p,"asap",{enumerable:!0,get:function(){return I2.asap}});Object.defineProperty(p,"asapScheduler",{enumerable:!0,get:function(){return I2.asapScheduler}});var C2=Ut();Object.defineProperty(p,"async",{enumerable:!0,get:function(){return C2.async}});Object.defineProperty(p,"asyncScheduler",{enumerable:!0,get:function(){return C2.asyncScheduler}});var D2=EL();Object.defineProperty(p,"queue",{enumerable:!0,get:function(){return D2.queue}});Object.defineProperty(p,"queueScheduler",{enumerable:!0,get:function(){return D2.queueScheduler}});var T2=DL();Object.defineProperty(p,"animationFrame",{enumerable:!0,get:function(){return T2.animationFrame}});Object.defineProperty(p,"animationFrameScheduler",{enumerable:!0,get:function(){return T2.animationFrameScheduler}});var O2=ES();Object.defineProperty(p,"VirtualTimeScheduler",{enumerable:!0,get:function(){return O2.VirtualTimeScheduler}});Object.defineProperty(p,"VirtualAction",{enumerable:!0,get:function(){return O2.VirtualAction}});var $ge=wS();Object.defineProperty(p,"Scheduler",{enumerable:!0,get:function(){return $ge.Scheduler}});var Wge=Et();Object.defineProperty(p,"Subscription",{enumerable:!0,get:function(){return Wge.Subscription}});var zge=Jo();Object.defineProperty(p,"Subscriber",{enumerable:!0,get:function(){return zge.Subscriber}});var M2=iu();Object.defineProperty(p,"Notification",{enumerable:!0,get:function(){return M2.Notification}});Object.defineProperty(p,"NotificationKind",{enumerable:!0,get:function(){return M2.NotificationKind}});var Gge=Ml();Object.defineProperty(p,"pipe",{enumerable:!0,get:function(){return Gge.pipe}});var Yge=_t();Object.defineProperty(p,"noop",{enumerable:!0,get:function(){return Yge.noop}});var Kge=yt();Object.defineProperty(p,"identity",{enumerable:!0,get:function(){return Kge.identity}});var Qge=WL();Object.defineProperty(p,"isObservable",{enumerable:!0,get:function(){return Qge.isObservable}});var Jge=zL();Object.defineProperty(p,"lastValueFrom",{enumerable:!0,get:function(){return Jge.lastValueFrom}});var Zge=GL();Object.defineProperty(p,"firstValueFrom",{enumerable:!0,get:function(){return Zge.firstValueFrom}});var Xge=jS();Object.defineProperty(p,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return Xge.ArgumentOutOfRangeError}});var eve=Ai();Object.defineProperty(p,"EmptyError",{enumerable:!0,get:function(){return eve.EmptyError}});var tve=LS();Object.defineProperty(p,"NotFoundError",{enumerable:!0,get:function(){return tve.NotFoundError}});var nve=hS();Object.defineProperty(p,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return nve.ObjectUnsubscribedError}});var rve=qS();Object.defineProperty(p,"SequenceError",{enumerable:!0,get:function(){return rve.SequenceError}});var ive=Fl();Object.defineProperty(p,"TimeoutError",{enumerable:!0,get:function(){return ive.TimeoutError}});var ove=tS();Object.defineProperty(p,"UnsubscriptionError",{enumerable:!0,get:function(){return ove.UnsubscriptionError}});var sve=KL();Object.defineProperty(p,"bindCallback",{enumerable:!0,get:function(){return sve.bindCallback}});var ave=QL();Object.defineProperty(p,"bindNodeCallback",{enumerable:!0,get:function(){return ave.bindNodeCallback}});var uve=Vm();Object.defineProperty(p,"combineLatest",{enumerable:!0,get:function(){return uve.combineLatest}});var cve=Ll();Object.defineProperty(p,"concat",{enumerable:!0,get:function(){return cve.concat}});var lve=iq();Object.defineProperty(p,"connectable",{enumerable:!0,get:function(){return lve.connectable}});var dve=ql();Object.defineProperty(p,"defer",{enumerable:!0,get:function(){return dve.defer}});var fve=jn();Object.defineProperty(p,"empty",{enumerable:!0,get:function(){return fve.empty}});var hve=oq();Object.defineProperty(p,"forkJoin",{enumerable:!0,get:function(){return hve.forkJoin}});var pve=Br();Object.defineProperty(p,"from",{enumerable:!0,get:function(){return pve.from}});var mve=aq();Object.defineProperty(p,"fromEvent",{enumerable:!0,get:function(){return mve.fromEvent}});var gve=cq();Object.defineProperty(p,"fromEventPattern",{enumerable:!0,get:function(){return gve.fromEventPattern}});var vve=dq();Object.defineProperty(p,"generate",{enumerable:!0,get:function(){return vve.generate}});var _ve=fq();Object.defineProperty(p,"iif",{enumerable:!0,get:function(){return _ve.iif}});var yve=WS();Object.defineProperty(p,"interval",{enumerable:!0,get:function(){return yve.interval}});var bve=pq();Object.defineProperty(p,"merge",{enumerable:!0,get:function(){return bve.merge}});var wve=zS();Object.defineProperty(p,"never",{enumerable:!0,get:function(){return wve.never}});var Eve=Dm();Object.defineProperty(p,"of",{enumerable:!0,get:function(){return Eve.of}});var Sve=GS();Object.defineProperty(p,"onErrorResumeNext",{enumerable:!0,get:function(){return Sve.onErrorResumeNext}});var Ive=gq();Object.defineProperty(p,"pairs",{enumerable:!0,get:function(){return Ive.pairs}});var Cve=yq();Object.defineProperty(p,"partition",{enumerable:!0,get:function(){return Cve.partition}});var Dve=KS();Object.defineProperty(p,"race",{enumerable:!0,get:function(){return Dve.race}});var Tve=Eq();Object.defineProperty(p,"range",{enumerable:!0,get:function(){return Tve.range}});var Ove=FS();Object.defineProperty(p,"throwError",{enumerable:!0,get:function(){return Ove.throwError}});var Mve=Ni();Object.defineProperty(p,"timer",{enumerable:!0,get:function(){return Mve.timer}});var Ave=Sq();Object.defineProperty(p,"using",{enumerable:!0,get:function(){return Ave.using}});var Pve=dg();Object.defineProperty(p,"zip",{enumerable:!0,get:function(){return Pve.zip}});var xve=kS();Object.defineProperty(p,"scheduled",{enumerable:!0,get:function(){return xve.scheduled}});var Rve=jn();Object.defineProperty(p,"EMPTY",{enumerable:!0,get:function(){return Rve.EMPTY}});var Nve=zS();Object.defineProperty(p,"NEVER",{enumerable:!0,get:function(){return Nve.NEVER}});kge(Cq(),p);var kve=Ra();Object.defineProperty(p,"config",{enumerable:!0,get:function(){return kve.config}});var Fve=hg();Object.defineProperty(p,"audit",{enumerable:!0,get:function(){return Fve.audit}});var jve=QS();Object.defineProperty(p,"auditTime",{enumerable:!0,get:function(){return jve.auditTime}});var Lve=JS();Object.defineProperty(p,"buffer",{enumerable:!0,get:function(){return Lve.buffer}});var qve=XS();Object.defineProperty(p,"bufferCount",{enumerable:!0,get:function(){return qve.bufferCount}});var Bve=eI();Object.defineProperty(p,"bufferTime",{enumerable:!0,get:function(){return Bve.bufferTime}});var Uve=nI();Object.defineProperty(p,"bufferToggle",{enumerable:!0,get:function(){return Uve.bufferToggle}});var Vve=rI();Object.defineProperty(p,"bufferWhen",{enumerable:!0,get:function(){return Vve.bufferWhen}});var Hve=iI();Object.defineProperty(p,"catchError",{enumerable:!0,get:function(){return Hve.catchError}});var $ve=aI();Object.defineProperty(p,"combineAll",{enumerable:!0,get:function(){return $ve.combineAll}});var Wve=Ig();Object.defineProperty(p,"combineLatestAll",{enumerable:!0,get:function(){return Wve.combineLatestAll}});var zve=cI();Object.defineProperty(p,"combineLatestWith",{enumerable:!0,get:function(){return zve.combineLatestWith}});var Gve=jl();Object.defineProperty(p,"concatAll",{enumerable:!0,get:function(){return Gve.concatAll}});var Yve=Tg();Object.defineProperty(p,"concatMap",{enumerable:!0,get:function(){return Yve.concatMap}});var Kve=lI();Object.defineProperty(p,"concatMapTo",{enumerable:!0,get:function(){return Kve.concatMapTo}});var Qve=fI();Object.defineProperty(p,"concatWith",{enumerable:!0,get:function(){return Qve.concatWith}});var Jve=Bl();Object.defineProperty(p,"connect",{enumerable:!0,get:function(){return Jve.connect}});var Zve=hI();Object.defineProperty(p,"count",{enumerable:!0,get:function(){return Zve.count}});var Xve=pI();Object.defineProperty(p,"debounce",{enumerable:!0,get:function(){return Xve.debounce}});var e_e=mI();Object.defineProperty(p,"debounceTime",{enumerable:!0,get:function(){return e_e.debounceTime}});var t_e=hu();Object.defineProperty(p,"defaultIfEmpty",{enumerable:!0,get:function(){return t_e.defaultIfEmpty}});var n_e=gI();Object.defineProperty(p,"delay",{enumerable:!0,get:function(){return n_e.delay}});var r_e=Ug();Object.defineProperty(p,"delayWhen",{enumerable:!0,get:function(){return r_e.delayWhen}});var i_e=vI();Object.defineProperty(p,"dematerialize",{enumerable:!0,get:function(){return i_e.dematerialize}});var o_e=_I();Object.defineProperty(p,"distinct",{enumerable:!0,get:function(){return o_e.distinct}});var s_e=zg();Object.defineProperty(p,"distinctUntilChanged",{enumerable:!0,get:function(){return s_e.distinctUntilChanged}});var a_e=yI();Object.defineProperty(p,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return a_e.distinctUntilKeyChanged}});var u_e=bI();Object.defineProperty(p,"elementAt",{enumerable:!0,get:function(){return u_e.elementAt}});var c_e=wI();Object.defineProperty(p,"endWith",{enumerable:!0,get:function(){return c_e.endWith}});var l_e=EI();Object.defineProperty(p,"every",{enumerable:!0,get:function(){return l_e.every}});var d_e=SI();Object.defineProperty(p,"exhaust",{enumerable:!0,get:function(){return d_e.exhaust}});var f_e=ev();Object.defineProperty(p,"exhaustAll",{enumerable:!0,get:function(){return f_e.exhaustAll}});var h_e=Zg();Object.defineProperty(p,"exhaustMap",{enumerable:!0,get:function(){return h_e.exhaustMap}});var p_e=II();Object.defineProperty(p,"expand",{enumerable:!0,get:function(){return p_e.expand}});var m_e=Vr();Object.defineProperty(p,"filter",{enumerable:!0,get:function(){return m_e.filter}});var g_e=CI();Object.defineProperty(p,"finalize",{enumerable:!0,get:function(){return g_e.finalize}});var v_e=iv();Object.defineProperty(p,"find",{enumerable:!0,get:function(){return v_e.find}});var __e=DI();Object.defineProperty(p,"findIndex",{enumerable:!0,get:function(){return __e.findIndex}});var y_e=TI();Object.defineProperty(p,"first",{enumerable:!0,get:function(){return y_e.first}});var b_e=OI();Object.defineProperty(p,"groupBy",{enumerable:!0,get:function(){return b_e.groupBy}});var w_e=jg();Object.defineProperty(p,"ignoreElements",{enumerable:!0,get:function(){return w_e.ignoreElements}});var E_e=MI();Object.defineProperty(p,"isEmpty",{enumerable:!0,get:function(){return E_e.isEmpty}});var S_e=AI();Object.defineProperty(p,"last",{enumerable:!0,get:function(){return S_e.last}});var I_e=lr();Object.defineProperty(p,"map",{enumerable:!0,get:function(){return I_e.map}});var C_e=qg();Object.defineProperty(p,"mapTo",{enumerable:!0,get:function(){return C_e.mapTo}});var D_e=xI();Object.defineProperty(p,"materialize",{enumerable:!0,get:function(){return D_e.materialize}});var T_e=RI();Object.defineProperty(p,"max",{enumerable:!0,get:function(){return T_e.max}});var O_e=su();Object.defineProperty(p,"mergeAll",{enumerable:!0,get:function(){return O_e.mergeAll}});var M_e=NI();Object.defineProperty(p,"flatMap",{enumerable:!0,get:function(){return M_e.flatMap}});var A_e=dr();Object.defineProperty(p,"mergeMap",{enumerable:!0,get:function(){return A_e.mergeMap}});var P_e=kI();Object.defineProperty(p,"mergeMapTo",{enumerable:!0,get:function(){return P_e.mergeMapTo}});var x_e=FI();Object.defineProperty(p,"mergeScan",{enumerable:!0,get:function(){return x_e.mergeScan}});var R_e=LI();Object.defineProperty(p,"mergeWith",{enumerable:!0,get:function(){return R_e.mergeWith}});var N_e=qI();Object.defineProperty(p,"min",{enumerable:!0,get:function(){return N_e.min}});var k_e=Ul();Object.defineProperty(p,"multicast",{enumerable:!0,get:function(){return k_e.multicast}});var F_e=nu();Object.defineProperty(p,"observeOn",{enumerable:!0,get:function(){return F_e.observeOn}});var j_e=BI();Object.defineProperty(p,"onErrorResumeNextWith",{enumerable:!0,get:function(){return j_e.onErrorResumeNextWith}});var L_e=UI();Object.defineProperty(p,"pairwise",{enumerable:!0,get:function(){return L_e.pairwise}});var q_e=VI();Object.defineProperty(p,"pluck",{enumerable:!0,get:function(){return q_e.pluck}});var B_e=HI();Object.defineProperty(p,"publish",{enumerable:!0,get:function(){return B_e.publish}});var U_e=$I();Object.defineProperty(p,"publishBehavior",{enumerable:!0,get:function(){return U_e.publishBehavior}});var V_e=WI();Object.defineProperty(p,"publishLast",{enumerable:!0,get:function(){return V_e.publishLast}});var H_e=zI();Object.defineProperty(p,"publishReplay",{enumerable:!0,get:function(){return H_e.publishReplay}});var $_e=Iv();Object.defineProperty(p,"raceWith",{enumerable:!0,get:function(){return $_e.raceWith}});var W_e=ss();Object.defineProperty(p,"reduce",{enumerable:!0,get:function(){return W_e.reduce}});var z_e=GI();Object.defineProperty(p,"repeat",{enumerable:!0,get:function(){return z_e.repeat}});var G_e=YI();Object.defineProperty(p,"repeatWhen",{enumerable:!0,get:function(){return G_e.repeatWhen}});var Y_e=KI();Object.defineProperty(p,"retry",{enumerable:!0,get:function(){return Y_e.retry}});var K_e=QI();Object.defineProperty(p,"retryWhen",{enumerable:!0,get:function(){return K_e.retryWhen}});var Q_e=Zp();Object.defineProperty(p,"refCount",{enumerable:!0,get:function(){return Q_e.refCount}});var J_e=Av();Object.defineProperty(p,"sample",{enumerable:!0,get:function(){return J_e.sample}});var Z_e=JI();Object.defineProperty(p,"sampleTime",{enumerable:!0,get:function(){return Z_e.sampleTime}});var X_e=ZI();Object.defineProperty(p,"scan",{enumerable:!0,get:function(){return X_e.scan}});var eye=XI();Object.defineProperty(p,"sequenceEqual",{enumerable:!0,get:function(){return eye.sequenceEqual}});var tye=Nv();Object.defineProperty(p,"share",{enumerable:!0,get:function(){return tye.share}});var nye=tC();Object.defineProperty(p,"shareReplay",{enumerable:!0,get:function(){return nye.shareReplay}});var rye=nC();Object.defineProperty(p,"single",{enumerable:!0,get:function(){return rye.single}});var iye=rC();Object.defineProperty(p,"skip",{enumerable:!0,get:function(){return iye.skip}});var oye=iC();Object.defineProperty(p,"skipLast",{enumerable:!0,get:function(){return oye.skipLast}});var sye=oC();Object.defineProperty(p,"skipUntil",{enumerable:!0,get:function(){return sye.skipUntil}});var aye=sC();Object.defineProperty(p,"skipWhile",{enumerable:!0,get:function(){return aye.skipWhile}});var uye=aC();Object.defineProperty(p,"startWith",{enumerable:!0,get:function(){return uye.startWith}});var cye=ru();Object.defineProperty(p,"subscribeOn",{enumerable:!0,get:function(){return cye.subscribeOn}});var lye=uC();Object.defineProperty(p,"switchAll",{enumerable:!0,get:function(){return lye.switchAll}});var dye=_u();Object.defineProperty(p,"switchMap",{enumerable:!0,get:function(){return dye.switchMap}});var fye=cC();Object.defineProperty(p,"switchMapTo",{enumerable:!0,get:function(){return fye.switchMapTo}});var hye=lC();Object.defineProperty(p,"switchScan",{enumerable:!0,get:function(){return hye.switchScan}});var pye=pu();Object.defineProperty(p,"take",{enumerable:!0,get:function(){return pye.take}});var mye=cv();Object.defineProperty(p,"takeLast",{enumerable:!0,get:function(){return mye.takeLast}});var gye=dC();Object.defineProperty(p,"takeUntil",{enumerable:!0,get:function(){return gye.takeUntil}});var vye=fC();Object.defineProperty(p,"takeWhile",{enumerable:!0,get:function(){return vye.takeWhile}});var _ye=hC();Object.defineProperty(p,"tap",{enumerable:!0,get:function(){return _ye.tap}});var yye=Qv();Object.defineProperty(p,"throttle",{enumerable:!0,get:function(){return yye.throttle}});var bye=pC();Object.defineProperty(p,"throttleTime",{enumerable:!0,get:function(){return bye.throttleTime}});var wye=mu();Object.defineProperty(p,"throwIfEmpty",{enumerable:!0,get:function(){return wye.throwIfEmpty}});var Eye=mC();Object.defineProperty(p,"timeInterval",{enumerable:!0,get:function(){return Eye.timeInterval}});var Sye=Fl();Object.defineProperty(p,"timeout",{enumerable:!0,get:function(){return Sye.timeout}});var Iye=gC();Object.defineProperty(p,"timeoutWith",{enumerable:!0,get:function(){return Iye.timeoutWith}});var Cye=vC();Object.defineProperty(p,"timestamp",{enumerable:!0,get:function(){return Cye.timestamp}});var Dye=wg();Object.defineProperty(p,"toArray",{enumerable:!0,get:function(){return Dye.toArray}});var Tye=_C();Object.defineProperty(p,"window",{enumerable:!0,get:function(){return Tye.window}});var Oye=yC();Object.defineProperty(p,"windowCount",{enumerable:!0,get:function(){return Oye.windowCount}});var Mye=bC();Object.defineProperty(p,"windowTime",{enumerable:!0,get:function(){return Mye.windowTime}});var Aye=EC();Object.defineProperty(p,"windowToggle",{enumerable:!0,get:function(){return Aye.windowToggle}});var Pye=SC();Object.defineProperty(p,"windowWhen",{enumerable:!0,get:function(){return Pye.windowWhen}});var xye=IC();Object.defineProperty(p,"withLatestFrom",{enumerable:!0,get:function(){return xye.withLatestFrom}});var Rye=CC();Object.defineProperty(p,"zipAll",{enumerable:!0,get:function(){return Rye.zipAll}});var Nye=TC();Object.defineProperty(p,"zipWith",{enumerable:!0,get:function(){return Nye.zipWith}})});function OC(t){var e,n=t.Symbol;if(typeof n=="function")if(n.observable)e=n.observable;else{typeof n.for=="function"?e=n.for("https://github.com/benlesh/symbol-observable"):e=n("https://github.com/benlesh/symbol-observable");try{n.observable=e}catch{}}else e="@@observable";return e}var A2=QT(()=>{"use strict"});var P2={};Yz(P2,{default:()=>Fye});var Eu,kye,Fye,x2=QT(()=>{"use strict";A2();typeof self<"u"?Eu=self:typeof window<"u"?Eu=window:typeof global<"u"?Eu=global:typeof module<"u"?Eu=module:Eu=Function("return this")();kye=OC(Eu),Fye=kye});var hr=f(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.toV5=k2;Vl.toV4=F2;Vl.patchObservables=qye;var R2=le(),N2=w(),jye=(x2(),Qz(P2)),H8e=Lye(jye);function Lye(t){return t&&t.__esModule?t:{default:t}}function k2(t){var e=arguments.length<=1||arguments[1]===void 0?R2.Observable:arguments[1];return t instanceof e?t:e.create(function(n){var r=t.subscribe(n.next.bind(n),n.error.bind(n),n.complete.bind(n));return function(){return r.dispose()}})}function F2(t){var e=arguments.length<=1||arguments[1]===void 0?N2.Observable:arguments[1];return t instanceof e?t:e.create(function(n){var r=t.subscribe(n.onNext.bind(n),n.onError.bind(n),n.onCompleted.bind(n));return function(){return r.unsubscribe()}})}function qye(){var t=arguments.length<=0||arguments[0]===void 0?N2.Observable:arguments[0],e=arguments.length<=1||arguments[1]===void 0?R2.Observable:arguments[1];t.prototype.v5=function(){return k2(this,e)},t.prototype.v4=function(){return this},e.prototype.v5=function(){return this},e.prototype.v4=function(){return F2(this,t)}}});var q2=f(L2=>{"use strict";Object.defineProperty(L2,"__esModule",{value:!0});var j2=w();j2.Observable.bindCallback=j2.bindCallback});var V2=f(U2=>{"use strict";Object.defineProperty(U2,"__esModule",{value:!0});var B2=w();B2.Observable.bindNodeCallback=B2.bindNodeCallback});var W2=f($2=>{"use strict";Object.defineProperty($2,"__esModule",{value:!0});var H2=w();H2.Observable.combineLatest=H2.combineLatest});var Y2=f(G2=>{"use strict";Object.defineProperty(G2,"__esModule",{value:!0});var z2=w();z2.Observable.concat=z2.concat});var J2=f(Q2=>{"use strict";Object.defineProperty(Q2,"__esModule",{value:!0});var K2=w();K2.Observable.defer=K2.defer});var eB=f(X2=>{"use strict";Object.defineProperty(X2,"__esModule",{value:!0});var Z2=w();Z2.Observable.empty=Z2.empty});var rB=f(nB=>{"use strict";Object.defineProperty(nB,"__esModule",{value:!0});var tB=w();tB.Observable.forkJoin=tB.forkJoin});var sB=f(oB=>{"use strict";Object.defineProperty(oB,"__esModule",{value:!0});var iB=w();iB.Observable.from=iB.from});var cB=f(uB=>{"use strict";Object.defineProperty(uB,"__esModule",{value:!0});var aB=w();aB.Observable.fromEvent=aB.fromEvent});var fB=f(dB=>{"use strict";Object.defineProperty(dB,"__esModule",{value:!0});var lB=w();lB.Observable.fromEventPattern=lB.fromEventPattern});var mB=f(pB=>{"use strict";Object.defineProperty(pB,"__esModule",{value:!0});var hB=w();hB.Observable.fromPromise=hB.from});var _B=f(vB=>{"use strict";Object.defineProperty(vB,"__esModule",{value:!0});var gB=w();gB.Observable.generate=gB.generate});var wB=f(bB=>{"use strict";Object.defineProperty(bB,"__esModule",{value:!0});var yB=w();yB.Observable.if=yB.iif});var IB=f(SB=>{"use strict";Object.defineProperty(SB,"__esModule",{value:!0});var EB=w();EB.Observable.interval=EB.interval});var TB=f(DB=>{"use strict";Object.defineProperty(DB,"__esModule",{value:!0});var CB=w();CB.Observable.merge=CB.merge});var AB=f(MB=>{"use strict";Object.defineProperty(MB,"__esModule",{value:!0});var OB=w();OB.Observable.race=OB.race});var RB=f(MC=>{"use strict";Object.defineProperty(MC,"__esModule",{value:!0});var PB=w();function xB(){return PB.NEVER}MC.staticNever=xB;PB.Observable.never=xB});var FB=f(kB=>{"use strict";Object.defineProperty(kB,"__esModule",{value:!0});var NB=w();NB.Observable.of=NB.of});var qB=f(LB=>{"use strict";Object.defineProperty(LB,"__esModule",{value:!0});var jB=w();jB.Observable.onErrorResumeNext=jB.onErrorResumeNext});var VB=f(UB=>{"use strict";Object.defineProperty(UB,"__esModule",{value:!0});var BB=w();BB.Observable.pairs=BB.pairs});var WB=f($B=>{"use strict";Object.defineProperty($B,"__esModule",{value:!0});var HB=w();HB.Observable.range=HB.range});var YB=f(GB=>{"use strict";Object.defineProperty(GB,"__esModule",{value:!0});var zB=w();zB.Observable.using=zB.using});var QB=f(KB=>{"use strict";Object.defineProperty(KB,"__esModule",{value:!0});var i_=w();i_.Observable.throw=i_.throwError;i_.Observable.throwError=i_.throwError});var XB=f(ZB=>{"use strict";Object.defineProperty(ZB,"__esModule",{value:!0});var JB=w();JB.Observable.timer=JB.timer});var nU=f(tU=>{"use strict";Object.defineProperty(tU,"__esModule",{value:!0});var eU=w();eU.Observable.zip=eU.zip});var AC=f(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});o_.getXHRResponse=void 0;function Bye(t){switch(t.responseType){case"json":{if("response"in t)return t.response;var e=t;return JSON.parse(e.responseText)}case"document":return t.responseXML;case"text":default:{if("response"in t)return t.response;var e=t;return e.responseText}}}o_.getXHRResponse=Bye});var PC=f(s_=>{"use strict";Object.defineProperty(s_,"__esModule",{value:!0});s_.AjaxResponse=void 0;var Uye=AC(),Vye=function(){function t(e,n,r,i){i===void 0&&(i="download_load"),this.originalEvent=e,this.xhr=n,this.request=r,this.type=i;var o=n.status,s=n.responseType;this.status=o??0,this.responseType=s??"";var a=n.getAllResponseHeaders();this.responseHeaders=a?a.split(`
`).reduce(function(l,d){var h=d.indexOf(": ");return l[d.slice(0,h)]=d.slice(h+2),l},{}):{},this.response=Uye.getXHRResponse(n);var u=e.loaded,c=e.total;this.loaded=u,this.total=c}return t}();s_.AjaxResponse=Vye});var xC=f(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.AjaxTimeoutError=Ki.AjaxError=void 0;var Hye=AC(),$ye=jr();Ki.AjaxError=$ye.createErrorClass(function(t){return function(n,r,i){this.message=n,this.name="AjaxError",this.xhr=r,this.request=i,this.status=r.status,this.responseType=r.responseType;var o;try{o=Hye.getXHRResponse(r)}catch{o=r.responseText}this.response=o}});Ki.AjaxTimeoutError=function(){function t(e,n){return Ki.AjaxError.call(this,"ajax timeout",e,n),this.name="AjaxTimeoutError",this}return t.prototype=Object.create(Ki.AjaxError.prototype),t}()});var sU=f(Ht=>{"use strict";var Hl=Ht&&Ht.__assign||function(){return Hl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hl.apply(this,arguments)};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.fromAjax=Ht.ajax=void 0;var Wye=lr(),zye=le(),Gye=PC(),RC=xC();function Yye(t,e){return Ht.ajax({method:"GET",url:t,headers:e})}function Kye(t,e,n){return Ht.ajax({method:"POST",url:t,body:e,headers:n})}function Qye(t,e){return Ht.ajax({method:"DELETE",url:t,headers:e})}function Jye(t,e,n){return Ht.ajax({method:"PUT",url:t,body:e,headers:n})}function Zye(t,e,n){return Ht.ajax({method:"PATCH",url:t,body:e,headers:n})}var Xye=Wye.map(function(t){return t.response});function ebe(t,e){return Xye(Ht.ajax({method:"GET",url:t,headers:e}))}Ht.ajax=function(){var t=function(e){var n=typeof e=="string"?{url:e}:e;return oU(n)};return t.get=Yye,t.post=Kye,t.delete=Qye,t.put=Jye,t.patch=Zye,t.getJSON=ebe,t}();var tbe="upload",rU="download",NC="loadstart",kC="progress",iU="load";function oU(t){return new zye.Observable(function(e){var n,r,i=Hl({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},t),o=i.queryParams,s=i.body,a=i.headers,u=i.url;if(!u)throw new TypeError("url is required");if(o){var c;if(u.includes("?")){var l=u.split("?");if(2<l.length)throw new TypeError("invalid url");c=new URLSearchParams(l[1]),new URLSearchParams(o).forEach(function(ce,Pe){return c.set(Pe,ce)}),u=l[0]+"?"+c}else c=new URLSearchParams(o),u=u+"?"+c}var d={};if(a)for(var h in a)a.hasOwnProperty(h)&&(d[h.toLowerCase()]=a[h]);var m=i.crossDomain;!m&&!("x-requested-with"in d)&&(d["x-requested-with"]="XMLHttpRequest");var g=i.withCredentials,_=i.xsrfCookieName,y=i.xsrfHeaderName;if((g||!m)&&_&&y){var b=(r=(n=document?.cookie.match(new RegExp("(^|;\\s*)("+_+")=([^;]*)")))===null||n===void 0?void 0:n.pop())!==null&&r!==void 0?r:"";b&&(d[y]=b)}var I=nbe(s,d),E=Hl(Hl({},i),{url:u,headers:d,body:I}),S;S=t.createXHR?t.createXHR():new XMLHttpRequest;{var C=t.progressSubscriber,R=t.includeDownloadProgress,Y=R===void 0?!1:R,Ee=t.includeUploadProgress,pe=Ee===void 0?!1:Ee,Se=function(ce,Pe){S.addEventListener(ce,function(){var qe,Xt=Pe();(qe=C?.error)===null||qe===void 0||qe.call(C,Xt),e.error(Xt)})};Se("timeout",function(){return new RC.AjaxTimeoutError(S,E)}),Se("abort",function(){return new RC.AjaxError("aborted",S,E)});var Le=function(ce,Pe){return new Gye.AjaxResponse(Pe,S,E,ce+"_"+Pe.type)},Qe=function(ce,Pe,qe){ce.addEventListener(Pe,function(Xt){e.next(Le(qe,Xt))})};pe&&[NC,kC,iU].forEach(function(ce){return Qe(S.upload,ce,tbe)}),C&&[NC,kC].forEach(function(ce){return S.upload.addEventListener(ce,function(Pe){var qe;return(qe=C?.next)===null||qe===void 0?void 0:qe.call(C,Pe)})}),Y&&[NC,kC].forEach(function(ce){return Qe(S,ce,rU)});var We=function(ce){var Pe="ajax error"+(ce?" "+ce:"");e.error(new RC.AjaxError(Pe,S,E))};S.addEventListener("error",function(ce){var Pe;(Pe=C?.error)===null||Pe===void 0||Pe.call(C,ce),We()}),S.addEventListener(iU,function(ce){var Pe,qe,Xt=S.status;if(Xt<400){(Pe=C?.complete)===null||Pe===void 0||Pe.call(C);var as=void 0;try{as=Le(rU,ce)}catch(Xi){e.error(Xi);return}e.next(as),e.complete()}else(qe=C?.error)===null||qe===void 0||qe.call(C,ce),We(Xt)})}var Ln=E.user,qn=E.method,ft=E.async;Ln?S.open(qn,u,ft,Ln,E.password):S.open(qn,u,ft),ft&&(S.timeout=E.timeout,S.responseType=E.responseType),"withCredentials"in S&&(S.withCredentials=E.withCredentials);for(var h in d)d.hasOwnProperty(h)&&S.setRequestHeader(h,d[h]);return I?S.send(I):S.send(),function(){S&&S.readyState!==4&&S.abort()}})}Ht.fromAjax=oU;function nbe(t,e){var n;if(!t||typeof t=="string"||ube(t)||cbe(t)||ibe(t)||obe(t)||sbe(t)||lbe(t))return t;if(abe(t))return t.buffer;if(typeof t=="object")return e["content-type"]=(n=e["content-type"])!==null&&n!==void 0?n:"application/json;charset=utf-8",JSON.stringify(t);throw new TypeError("Unknown body type")}var rbe=Object.prototype.toString;function FC(t,e){return rbe.call(t)==="[object "+e+"]"}function ibe(t){return FC(t,"ArrayBuffer")}function obe(t){return FC(t,"File")}function sbe(t){return FC(t,"Blob")}function abe(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)}function ube(t){return typeof FormData<"u"&&t instanceof FormData}function cbe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function lbe(t){return typeof ReadableStream<"u"&&t instanceof ReadableStream}});var jC=f(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.AjaxResponse=pr.AjaxTimeoutError=pr.AjaxError=pr.ajax=void 0;var dbe=sU();Object.defineProperty(pr,"ajax",{enumerable:!0,get:function(){return dbe.ajax}});var aU=xC();Object.defineProperty(pr,"AjaxError",{enumerable:!0,get:function(){return aU.AjaxError}});Object.defineProperty(pr,"AjaxTimeoutError",{enumerable:!0,get:function(){return aU.AjaxTimeoutError}});var fbe=PC();Object.defineProperty(pr,"AjaxResponse",{enumerable:!0,get:function(){return fbe.AjaxResponse}})});var cU=f(uU=>{"use strict";Object.defineProperty(uU,"__esModule",{value:!0});var hbe=w(),pbe=jC();hbe.Observable.ajax=pbe.ajax});var UC=f(Qi=>{"use strict";var mbe=Qi&&Qi.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),BC=Qi&&Qi.__assign||function(){return BC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},BC.apply(this,arguments)};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.WebSocketSubject=void 0;var LC=nt(),gbe=Jo(),lU=le(),vbe=Et(),qC=Nl(),_be={url:"",deserializer:function(t){return JSON.parse(t.data)},serializer:function(t){return JSON.stringify(t)}},ybe="WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }",bbe=function(t){mbe(e,t);function e(n,r){var i=t.call(this)||this;if(i._socket=null,n instanceof lU.Observable)i.destination=r,i.source=n;else{var o=i._config=BC({},_be);if(i._output=new LC.Subject,typeof n=="string")o.url=n;else for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);if(!o.WebSocketCtor&&WebSocket)o.WebSocketCtor=WebSocket;else if(!o.WebSocketCtor)throw new Error("no WebSocket constructor can be found");i.destination=new qC.ReplaySubject}return i}return e.prototype.lift=function(n){var r=new e(this._config,this.destination);return r.operator=n,r.source=this,r},e.prototype._resetState=function(){this._socket=null,this.source||(this.destination=new qC.ReplaySubject),this._output=new LC.Subject},e.prototype.multiplex=function(n,r,i){var o=this;return new lU.Observable(function(s){try{o.next(n())}catch(u){s.error(u)}var a=o.subscribe({next:function(u){try{i(u)&&s.next(u)}catch(c){s.error(c)}},error:function(u){return s.error(u)},complete:function(){return s.complete()}});return function(){try{o.next(r())}catch(u){s.error(u)}a.unsubscribe()}})},e.prototype._connectSocket=function(){var n=this,r=this._config,i=r.WebSocketCtor,o=r.protocol,s=r.url,a=r.binaryType,u=this._output,c=null;try{c=o?new i(s,o):new i(s),this._socket=c,a&&(this._socket.binaryType=a)}catch(d){u.error(d);return}var l=new vbe.Subscription(function(){n._socket=null,c&&c.readyState===1&&c.close()});c.onopen=function(d){var h=n._socket;if(!h){c.close(),n._resetState();return}var m=n._config.openObserver;m&&m.next(d);var g=n.destination;n.destination=gbe.Subscriber.create(function(_){if(c.readyState===1)try{var y=n._config.serializer;c.send(y(_))}catch(b){n.destination.error(b)}},function(_){var y=n._config.closingObserver;y&&y.next(void 0),_&&_.code?c.close(_.code,_.reason):u.error(new TypeError(ybe)),n._resetState()},function(){var _=n._config.closingObserver;_&&_.next(void 0),c.close(),n._resetState()}),g&&g instanceof qC.ReplaySubject&&l.add(g.subscribe(n.destination))},c.onerror=function(d){n._resetState(),u.error(d)},c.onclose=function(d){c===n._socket&&n._resetState();var h=n._config.closeObserver;h&&h.next(d),d.wasClean?u.complete():u.error(d)},c.onmessage=function(d){try{var h=n._config.deserializer;u.next(h(d))}catch(m){u.error(m)}}},e.prototype._subscribe=function(n){var r=this,i=this.source;return i?i.subscribe(n):(this._socket||this._connectSocket(),this._output.subscribe(n),n.add(function(){var o=r._socket;r._output.observers.length===0&&(o&&(o.readyState===1||o.readyState===0)&&o.close(),r._resetState())}),n)},e.prototype.unsubscribe=function(){var n=this._socket;n&&(n.readyState===1||n.readyState===0)&&n.close(),this._resetState(),t.prototype.unsubscribe.call(this)},e}(LC.AnonymousSubject);Qi.WebSocketSubject=bbe});var dU=f(a_=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0});a_.webSocket=void 0;var wbe=UC();function Ebe(t){return new wbe.WebSocketSubject(t)}a_.webSocket=Ebe});var fU=f(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.WebSocketSubject=Su.webSocket=void 0;var Sbe=dU();Object.defineProperty(Su,"webSocket",{enumerable:!0,get:function(){return Sbe.webSocket}});var Ibe=UC();Object.defineProperty(Su,"WebSocketSubject",{enumerable:!0,get:function(){return Ibe.WebSocketSubject}})});var pU=f(hU=>{"use strict";Object.defineProperty(hU,"__esModule",{value:!0});var Cbe=w(),Dbe=fU();Cbe.Observable.webSocket=Dbe.webSocket});var gU=f(u_=>{"use strict";Object.defineProperty(u_,"__esModule",{value:!0});u_.partition=void 0;var Tbe=YS(),mU=Vr();function Obe(t,e){return function(n){return[mU.filter(t,e)(n),mU.filter(Tbe.not(t,e))(n)]}}u_.partition=Obe});var vU=f(Ji=>{"use strict";var Mbe=Ji&&Ji.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Abe=Ji&&Ji.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.race=void 0;var Pbe=ki(),xbe=Iv();function Rbe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return xbe.raceWith.apply(void 0,Abe([],Mbe(Pbe.argsOrArgArray(t))))}Ji.race=Rbe});var T=f(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.mergeAll=v.merge=v.max=v.materialize=v.mapTo=v.map=v.last=v.isEmpty=v.ignoreElements=v.groupBy=v.first=v.findIndex=v.find=v.finalize=v.filter=v.expand=v.exhaustMap=v.exhaustAll=v.exhaust=v.every=v.endWith=v.elementAt=v.distinctUntilKeyChanged=v.distinctUntilChanged=v.distinct=v.dematerialize=v.delayWhen=v.delay=v.defaultIfEmpty=v.debounceTime=v.debounce=v.count=v.connect=v.concatWith=v.concatMapTo=v.concatMap=v.concatAll=v.concat=v.combineLatestWith=v.combineLatest=v.combineLatestAll=v.combineAll=v.catchError=v.bufferWhen=v.bufferToggle=v.bufferTime=v.bufferCount=v.buffer=v.auditTime=v.audit=void 0;v.timeInterval=v.throwIfEmpty=v.throttleTime=v.throttle=v.tap=v.takeWhile=v.takeUntil=v.takeLast=v.take=v.switchScan=v.switchMapTo=v.switchMap=v.switchAll=v.subscribeOn=v.startWith=v.skipWhile=v.skipUntil=v.skipLast=v.skip=v.single=v.shareReplay=v.share=v.sequenceEqual=v.scan=v.sampleTime=v.sample=v.refCount=v.retryWhen=v.retry=v.repeatWhen=v.repeat=v.reduce=v.raceWith=v.race=v.publishReplay=v.publishLast=v.publishBehavior=v.publish=v.pluck=v.partition=v.pairwise=v.onErrorResumeNext=v.observeOn=v.multicast=v.min=v.mergeWith=v.mergeScan=v.mergeMapTo=v.mergeMap=v.flatMap=void 0;v.zipWith=v.zipAll=v.zip=v.withLatestFrom=v.windowWhen=v.windowToggle=v.windowTime=v.windowCount=v.window=v.toArray=v.timestamp=v.timeoutWith=v.timeout=void 0;var Nbe=hg();Object.defineProperty(v,"audit",{enumerable:!0,get:function(){return Nbe.audit}});var kbe=QS();Object.defineProperty(v,"auditTime",{enumerable:!0,get:function(){return kbe.auditTime}});var Fbe=JS();Object.defineProperty(v,"buffer",{enumerable:!0,get:function(){return Fbe.buffer}});var jbe=XS();Object.defineProperty(v,"bufferCount",{enumerable:!0,get:function(){return jbe.bufferCount}});var Lbe=eI();Object.defineProperty(v,"bufferTime",{enumerable:!0,get:function(){return Lbe.bufferTime}});var qbe=nI();Object.defineProperty(v,"bufferToggle",{enumerable:!0,get:function(){return qbe.bufferToggle}});var Bbe=rI();Object.defineProperty(v,"bufferWhen",{enumerable:!0,get:function(){return Bbe.bufferWhen}});var Ube=iI();Object.defineProperty(v,"catchError",{enumerable:!0,get:function(){return Ube.catchError}});var Vbe=aI();Object.defineProperty(v,"combineAll",{enumerable:!0,get:function(){return Vbe.combineAll}});var Hbe=Ig();Object.defineProperty(v,"combineLatestAll",{enumerable:!0,get:function(){return Hbe.combineLatestAll}});var $be=uI();Object.defineProperty(v,"combineLatest",{enumerable:!0,get:function(){return $be.combineLatest}});var Wbe=cI();Object.defineProperty(v,"combineLatestWith",{enumerable:!0,get:function(){return Wbe.combineLatestWith}});var zbe=dI();Object.defineProperty(v,"concat",{enumerable:!0,get:function(){return zbe.concat}});var Gbe=jl();Object.defineProperty(v,"concatAll",{enumerable:!0,get:function(){return Gbe.concatAll}});var Ybe=Tg();Object.defineProperty(v,"concatMap",{enumerable:!0,get:function(){return Ybe.concatMap}});var Kbe=lI();Object.defineProperty(v,"concatMapTo",{enumerable:!0,get:function(){return Kbe.concatMapTo}});var Qbe=fI();Object.defineProperty(v,"concatWith",{enumerable:!0,get:function(){return Qbe.concatWith}});var Jbe=Bl();Object.defineProperty(v,"connect",{enumerable:!0,get:function(){return Jbe.connect}});var Zbe=hI();Object.defineProperty(v,"count",{enumerable:!0,get:function(){return Zbe.count}});var Xbe=pI();Object.defineProperty(v,"debounce",{enumerable:!0,get:function(){return Xbe.debounce}});var e0e=mI();Object.defineProperty(v,"debounceTime",{enumerable:!0,get:function(){return e0e.debounceTime}});var t0e=hu();Object.defineProperty(v,"defaultIfEmpty",{enumerable:!0,get:function(){return t0e.defaultIfEmpty}});var n0e=gI();Object.defineProperty(v,"delay",{enumerable:!0,get:function(){return n0e.delay}});var r0e=Ug();Object.defineProperty(v,"delayWhen",{enumerable:!0,get:function(){return r0e.delayWhen}});var i0e=vI();Object.defineProperty(v,"dematerialize",{enumerable:!0,get:function(){return i0e.dematerialize}});var o0e=_I();Object.defineProperty(v,"distinct",{enumerable:!0,get:function(){return o0e.distinct}});var s0e=zg();Object.defineProperty(v,"distinctUntilChanged",{enumerable:!0,get:function(){return s0e.distinctUntilChanged}});var a0e=yI();Object.defineProperty(v,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return a0e.distinctUntilKeyChanged}});var u0e=bI();Object.defineProperty(v,"elementAt",{enumerable:!0,get:function(){return u0e.elementAt}});var c0e=wI();Object.defineProperty(v,"endWith",{enumerable:!0,get:function(){return c0e.endWith}});var l0e=EI();Object.defineProperty(v,"every",{enumerable:!0,get:function(){return l0e.every}});var d0e=SI();Object.defineProperty(v,"exhaust",{enumerable:!0,get:function(){return d0e.exhaust}});var f0e=ev();Object.defineProperty(v,"exhaustAll",{enumerable:!0,get:function(){return f0e.exhaustAll}});var h0e=Zg();Object.defineProperty(v,"exhaustMap",{enumerable:!0,get:function(){return h0e.exhaustMap}});var p0e=II();Object.defineProperty(v,"expand",{enumerable:!0,get:function(){return p0e.expand}});var m0e=Vr();Object.defineProperty(v,"filter",{enumerable:!0,get:function(){return m0e.filter}});var g0e=CI();Object.defineProperty(v,"finalize",{enumerable:!0,get:function(){return g0e.finalize}});var v0e=iv();Object.defineProperty(v,"find",{enumerable:!0,get:function(){return v0e.find}});var _0e=DI();Object.defineProperty(v,"findIndex",{enumerable:!0,get:function(){return _0e.findIndex}});var y0e=TI();Object.defineProperty(v,"first",{enumerable:!0,get:function(){return y0e.first}});var b0e=OI();Object.defineProperty(v,"groupBy",{enumerable:!0,get:function(){return b0e.groupBy}});var w0e=jg();Object.defineProperty(v,"ignoreElements",{enumerable:!0,get:function(){return w0e.ignoreElements}});var E0e=MI();Object.defineProperty(v,"isEmpty",{enumerable:!0,get:function(){return E0e.isEmpty}});var S0e=AI();Object.defineProperty(v,"last",{enumerable:!0,get:function(){return S0e.last}});var I0e=lr();Object.defineProperty(v,"map",{enumerable:!0,get:function(){return I0e.map}});var C0e=qg();Object.defineProperty(v,"mapTo",{enumerable:!0,get:function(){return C0e.mapTo}});var D0e=xI();Object.defineProperty(v,"materialize",{enumerable:!0,get:function(){return D0e.materialize}});var T0e=RI();Object.defineProperty(v,"max",{enumerable:!0,get:function(){return T0e.max}});var O0e=jI();Object.defineProperty(v,"merge",{enumerable:!0,get:function(){return O0e.merge}});var M0e=su();Object.defineProperty(v,"mergeAll",{enumerable:!0,get:function(){return M0e.mergeAll}});var A0e=NI();Object.defineProperty(v,"flatMap",{enumerable:!0,get:function(){return A0e.flatMap}});var P0e=dr();Object.defineProperty(v,"mergeMap",{enumerable:!0,get:function(){return P0e.mergeMap}});var x0e=kI();Object.defineProperty(v,"mergeMapTo",{enumerable:!0,get:function(){return x0e.mergeMapTo}});var R0e=FI();Object.defineProperty(v,"mergeScan",{enumerable:!0,get:function(){return R0e.mergeScan}});var N0e=LI();Object.defineProperty(v,"mergeWith",{enumerable:!0,get:function(){return N0e.mergeWith}});var k0e=qI();Object.defineProperty(v,"min",{enumerable:!0,get:function(){return k0e.min}});var F0e=Ul();Object.defineProperty(v,"multicast",{enumerable:!0,get:function(){return F0e.multicast}});var j0e=nu();Object.defineProperty(v,"observeOn",{enumerable:!0,get:function(){return j0e.observeOn}});var L0e=BI();Object.defineProperty(v,"onErrorResumeNext",{enumerable:!0,get:function(){return L0e.onErrorResumeNext}});var q0e=UI();Object.defineProperty(v,"pairwise",{enumerable:!0,get:function(){return q0e.pairwise}});var B0e=gU();Object.defineProperty(v,"partition",{enumerable:!0,get:function(){return B0e.partition}});var U0e=VI();Object.defineProperty(v,"pluck",{enumerable:!0,get:function(){return U0e.pluck}});var V0e=HI();Object.defineProperty(v,"publish",{enumerable:!0,get:function(){return V0e.publish}});var H0e=$I();Object.defineProperty(v,"publishBehavior",{enumerable:!0,get:function(){return H0e.publishBehavior}});var $0e=WI();Object.defineProperty(v,"publishLast",{enumerable:!0,get:function(){return $0e.publishLast}});var W0e=zI();Object.defineProperty(v,"publishReplay",{enumerable:!0,get:function(){return W0e.publishReplay}});var z0e=vU();Object.defineProperty(v,"race",{enumerable:!0,get:function(){return z0e.race}});var G0e=Iv();Object.defineProperty(v,"raceWith",{enumerable:!0,get:function(){return G0e.raceWith}});var Y0e=ss();Object.defineProperty(v,"reduce",{enumerable:!0,get:function(){return Y0e.reduce}});var K0e=GI();Object.defineProperty(v,"repeat",{enumerable:!0,get:function(){return K0e.repeat}});var Q0e=YI();Object.defineProperty(v,"repeatWhen",{enumerable:!0,get:function(){return Q0e.repeatWhen}});var J0e=KI();Object.defineProperty(v,"retry",{enumerable:!0,get:function(){return J0e.retry}});var Z0e=QI();Object.defineProperty(v,"retryWhen",{enumerable:!0,get:function(){return Z0e.retryWhen}});var X0e=Zp();Object.defineProperty(v,"refCount",{enumerable:!0,get:function(){return X0e.refCount}});var ewe=Av();Object.defineProperty(v,"sample",{enumerable:!0,get:function(){return ewe.sample}});var twe=JI();Object.defineProperty(v,"sampleTime",{enumerable:!0,get:function(){return twe.sampleTime}});var nwe=ZI();Object.defineProperty(v,"scan",{enumerable:!0,get:function(){return nwe.scan}});var rwe=XI();Object.defineProperty(v,"sequenceEqual",{enumerable:!0,get:function(){return rwe.sequenceEqual}});var iwe=Nv();Object.defineProperty(v,"share",{enumerable:!0,get:function(){return iwe.share}});var owe=tC();Object.defineProperty(v,"shareReplay",{enumerable:!0,get:function(){return owe.shareReplay}});var swe=nC();Object.defineProperty(v,"single",{enumerable:!0,get:function(){return swe.single}});var awe=rC();Object.defineProperty(v,"skip",{enumerable:!0,get:function(){return awe.skip}});var uwe=iC();Object.defineProperty(v,"skipLast",{enumerable:!0,get:function(){return uwe.skipLast}});var cwe=oC();Object.defineProperty(v,"skipUntil",{enumerable:!0,get:function(){return cwe.skipUntil}});var lwe=sC();Object.defineProperty(v,"skipWhile",{enumerable:!0,get:function(){return lwe.skipWhile}});var dwe=aC();Object.defineProperty(v,"startWith",{enumerable:!0,get:function(){return dwe.startWith}});var fwe=ru();Object.defineProperty(v,"subscribeOn",{enumerable:!0,get:function(){return fwe.subscribeOn}});var hwe=uC();Object.defineProperty(v,"switchAll",{enumerable:!0,get:function(){return hwe.switchAll}});var pwe=_u();Object.defineProperty(v,"switchMap",{enumerable:!0,get:function(){return pwe.switchMap}});var mwe=cC();Object.defineProperty(v,"switchMapTo",{enumerable:!0,get:function(){return mwe.switchMapTo}});var gwe=lC();Object.defineProperty(v,"switchScan",{enumerable:!0,get:function(){return gwe.switchScan}});var vwe=pu();Object.defineProperty(v,"take",{enumerable:!0,get:function(){return vwe.take}});var _we=cv();Object.defineProperty(v,"takeLast",{enumerable:!0,get:function(){return _we.takeLast}});var ywe=dC();Object.defineProperty(v,"takeUntil",{enumerable:!0,get:function(){return ywe.takeUntil}});var bwe=fC();Object.defineProperty(v,"takeWhile",{enumerable:!0,get:function(){return bwe.takeWhile}});var wwe=hC();Object.defineProperty(v,"tap",{enumerable:!0,get:function(){return wwe.tap}});var Ewe=Qv();Object.defineProperty(v,"throttle",{enumerable:!0,get:function(){return Ewe.throttle}});var Swe=pC();Object.defineProperty(v,"throttleTime",{enumerable:!0,get:function(){return Swe.throttleTime}});var Iwe=mu();Object.defineProperty(v,"throwIfEmpty",{enumerable:!0,get:function(){return Iwe.throwIfEmpty}});var Cwe=mC();Object.defineProperty(v,"timeInterval",{enumerable:!0,get:function(){return Cwe.timeInterval}});var Dwe=Fl();Object.defineProperty(v,"timeout",{enumerable:!0,get:function(){return Dwe.timeout}});var Twe=gC();Object.defineProperty(v,"timeoutWith",{enumerable:!0,get:function(){return Twe.timeoutWith}});var Owe=vC();Object.defineProperty(v,"timestamp",{enumerable:!0,get:function(){return Owe.timestamp}});var Mwe=wg();Object.defineProperty(v,"toArray",{enumerable:!0,get:function(){return Mwe.toArray}});var Awe=_C();Object.defineProperty(v,"window",{enumerable:!0,get:function(){return Awe.window}});var Pwe=yC();Object.defineProperty(v,"windowCount",{enumerable:!0,get:function(){return Pwe.windowCount}});var xwe=bC();Object.defineProperty(v,"windowTime",{enumerable:!0,get:function(){return xwe.windowTime}});var Rwe=EC();Object.defineProperty(v,"windowToggle",{enumerable:!0,get:function(){return Rwe.windowToggle}});var Nwe=SC();Object.defineProperty(v,"windowWhen",{enumerable:!0,get:function(){return Nwe.windowWhen}});var kwe=IC();Object.defineProperty(v,"withLatestFrom",{enumerable:!0,get:function(){return kwe.withLatestFrom}});var Fwe=DC();Object.defineProperty(v,"zip",{enumerable:!0,get:function(){return Fwe.zip}});var jwe=CC();Object.defineProperty(v,"zipAll",{enumerable:!0,get:function(){return jwe.zipAll}});var Lwe=TC();Object.defineProperty(v,"zipWith",{enumerable:!0,get:function(){return Lwe.zipWith}})});var _U=f(VC=>{"use strict";Object.defineProperty(VC,"__esModule",{value:!0});var qwe=T();function Bwe(t){return qwe.buffer(t)(this)}VC.buffer=Bwe});var bU=f(yU=>{"use strict";Object.defineProperty(yU,"__esModule",{value:!0});var Uwe=w(),Vwe=_U();Uwe.Observable.prototype.buffer=Vwe.buffer});var wU=f(HC=>{"use strict";Object.defineProperty(HC,"__esModule",{value:!0});var Hwe=T();function $we(t,e){return e===void 0&&(e=null),Hwe.bufferCount(t,e)(this)}HC.bufferCount=$we});var SU=f(EU=>{"use strict";Object.defineProperty(EU,"__esModule",{value:!0});var Wwe=w(),zwe=wU();Wwe.Observable.prototype.bufferCount=zwe.bufferCount});var IU=f($C=>{"use strict";Object.defineProperty($C,"__esModule",{value:!0});var Gwe=w(),Ywe=hr(),Kwe=T();function Qwe(t){var e=arguments.length,n=Gwe.asyncScheduler;Ywe.isScheduler(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),Kwe.bufferTime(t,r,i,n)(this)}$C.bufferTime=Qwe});var DU=f(CU=>{"use strict";Object.defineProperty(CU,"__esModule",{value:!0});var Jwe=w(),Zwe=IU();Jwe.Observable.prototype.bufferTime=Zwe.bufferTime});var TU=f(WC=>{"use strict";Object.defineProperty(WC,"__esModule",{value:!0});var Xwe=T();function e1e(t,e){return Xwe.bufferToggle(t,e)(this)}WC.bufferToggle=e1e});var MU=f(OU=>{"use strict";Object.defineProperty(OU,"__esModule",{value:!0});var t1e=w(),n1e=TU();t1e.Observable.prototype.bufferToggle=n1e.bufferToggle});var AU=f(zC=>{"use strict";Object.defineProperty(zC,"__esModule",{value:!0});var r1e=T();function i1e(t){return r1e.bufferWhen(t)(this)}zC.bufferWhen=i1e});var xU=f(PU=>{"use strict";Object.defineProperty(PU,"__esModule",{value:!0});var o1e=w(),s1e=AU();o1e.Observable.prototype.bufferWhen=s1e.bufferWhen});var RU=f(GC=>{"use strict";Object.defineProperty(GC,"__esModule",{value:!0});var a1e=T();function u1e(t){return a1e.catchError(t)(this)}GC._catch=u1e});var jU=f(FU=>{"use strict";Object.defineProperty(FU,"__esModule",{value:!0});var NU=w(),kU=RU();NU.Observable.prototype.catch=kU._catch;NU.Observable.prototype._catch=kU._catch});var LU=f(YC=>{"use strict";Object.defineProperty(YC,"__esModule",{value:!0});var c1e=T();function l1e(t){return c1e.combineAll(t)(this)}YC.combineAll=l1e});var BU=f(qU=>{"use strict";Object.defineProperty(qU,"__esModule",{value:!0});var d1e=w(),f1e=LU();d1e.Observable.prototype.combineAll=f1e.combineAll});var VU=f(KC=>{"use strict";Object.defineProperty(KC,"__esModule",{value:!0});var h1e=w(),UU=hr();function p1e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return typeof t[t.length-1]=="function"&&(n=t.pop()),t.length===1&&UU.isArray(t[0])&&(t=t[0].slice()),this.lift.call(h1e.of.apply(void 0,[this].concat(t)),new UU.CombineLatestOperator(n))}KC.combineLatest=p1e});var $U=f(HU=>{"use strict";Object.defineProperty(HU,"__esModule",{value:!0});var m1e=w(),g1e=VU();m1e.Observable.prototype.combineLatest=g1e.combineLatest});var WU=f(QC=>{"use strict";Object.defineProperty(QC,"__esModule",{value:!0});var v1e=w();function _1e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.lift.call(v1e.concat.apply(void 0,[this].concat(t)))}QC.concat=_1e});var GU=f(zU=>{"use strict";Object.defineProperty(zU,"__esModule",{value:!0});var y1e=w(),b1e=WU();y1e.Observable.prototype.concat=b1e.concat});var YU=f(JC=>{"use strict";Object.defineProperty(JC,"__esModule",{value:!0});var w1e=T();function E1e(){return w1e.concatAll()(this)}JC.concatAll=E1e});var QU=f(KU=>{"use strict";Object.defineProperty(KU,"__esModule",{value:!0});var S1e=w(),I1e=YU();S1e.Observable.prototype.concatAll=I1e.concatAll});var JU=f(ZC=>{"use strict";Object.defineProperty(ZC,"__esModule",{value:!0});var C1e=T();function D1e(t){return C1e.concatMap(t)(this)}ZC.concatMap=D1e});var XU=f(ZU=>{"use strict";Object.defineProperty(ZU,"__esModule",{value:!0});var T1e=w(),O1e=JU();T1e.Observable.prototype.concatMap=O1e.concatMap});var eV=f(XC=>{"use strict";Object.defineProperty(XC,"__esModule",{value:!0});var M1e=T();function A1e(t){return M1e.concatMapTo(t)(this)}XC.concatMapTo=A1e});var nV=f(tV=>{"use strict";Object.defineProperty(tV,"__esModule",{value:!0});var P1e=w(),x1e=eV();P1e.Observable.prototype.concatMapTo=x1e.concatMapTo});var rV=f(eD=>{"use strict";Object.defineProperty(eD,"__esModule",{value:!0});var R1e=T();function N1e(t){return R1e.count(t)(this)}eD.count=N1e});var oV=f(iV=>{"use strict";Object.defineProperty(iV,"__esModule",{value:!0});var k1e=w(),F1e=rV();k1e.Observable.prototype.count=F1e.count});var sV=f(tD=>{"use strict";Object.defineProperty(tD,"__esModule",{value:!0});var j1e=T();function L1e(){return j1e.dematerialize()(this)}tD.dematerialize=L1e});var uV=f(aV=>{"use strict";Object.defineProperty(aV,"__esModule",{value:!0});var q1e=w(),B1e=sV();q1e.Observable.prototype.dematerialize=B1e.dematerialize});var cV=f(nD=>{"use strict";Object.defineProperty(nD,"__esModule",{value:!0});var U1e=T();function V1e(t){return U1e.debounce(t)(this)}nD.debounce=V1e});var dV=f(lV=>{"use strict";Object.defineProperty(lV,"__esModule",{value:!0});var H1e=w(),$1e=cV();H1e.Observable.prototype.debounce=$1e.debounce});var fV=f(rD=>{"use strict";Object.defineProperty(rD,"__esModule",{value:!0});var W1e=w(),z1e=T();function G1e(t,e){return e===void 0&&(e=W1e.asyncScheduler),z1e.debounceTime(t,e)(this)}rD.debounceTime=G1e});var pV=f(hV=>{"use strict";Object.defineProperty(hV,"__esModule",{value:!0});var Y1e=w(),K1e=fV();Y1e.Observable.prototype.debounceTime=K1e.debounceTime});var mV=f(iD=>{"use strict";Object.defineProperty(iD,"__esModule",{value:!0});var Q1e=T();function J1e(t){return t===void 0&&(t=null),Q1e.defaultIfEmpty(t)(this)}iD.defaultIfEmpty=J1e});var vV=f(gV=>{"use strict";Object.defineProperty(gV,"__esModule",{value:!0});var Z1e=w(),X1e=mV();Z1e.Observable.prototype.defaultIfEmpty=X1e.defaultIfEmpty});var _V=f(oD=>{"use strict";Object.defineProperty(oD,"__esModule",{value:!0});var eEe=w(),tEe=T();function nEe(t,e){return e===void 0&&(e=eEe.asyncScheduler),tEe.delay(t,e)(this)}oD.delay=nEe});var bV=f(yV=>{"use strict";Object.defineProperty(yV,"__esModule",{value:!0});var rEe=w(),iEe=_V();rEe.Observable.prototype.delay=iEe.delay});var wV=f(sD=>{"use strict";Object.defineProperty(sD,"__esModule",{value:!0});var oEe=T();function sEe(t,e){return oEe.delayWhen(t,e)(this)}sD.delayWhen=sEe});var SV=f(EV=>{"use strict";Object.defineProperty(EV,"__esModule",{value:!0});var aEe=w(),uEe=wV();aEe.Observable.prototype.delayWhen=uEe.delayWhen});var IV=f(aD=>{"use strict";Object.defineProperty(aD,"__esModule",{value:!0});var cEe=T();function lEe(t,e){return cEe.distinct(t,e)(this)}aD.distinct=lEe});var DV=f(CV=>{"use strict";Object.defineProperty(CV,"__esModule",{value:!0});var dEe=w(),fEe=IV();dEe.Observable.prototype.distinct=fEe.distinct});var TV=f(uD=>{"use strict";Object.defineProperty(uD,"__esModule",{value:!0});var hEe=T();function pEe(t,e){return hEe.distinctUntilChanged(t,e)(this)}uD.distinctUntilChanged=pEe});var MV=f(OV=>{"use strict";Object.defineProperty(OV,"__esModule",{value:!0});var mEe=w(),gEe=TV();mEe.Observable.prototype.distinctUntilChanged=gEe.distinctUntilChanged});var AV=f(cD=>{"use strict";Object.defineProperty(cD,"__esModule",{value:!0});var vEe=T();function _Ee(t,e){return vEe.distinctUntilKeyChanged(t,e)(this)}cD.distinctUntilKeyChanged=_Ee});var xV=f(PV=>{"use strict";Object.defineProperty(PV,"__esModule",{value:!0});var yEe=w(),bEe=AV();yEe.Observable.prototype.distinctUntilKeyChanged=bEe.distinctUntilKeyChanged});var RV=f(lD=>{"use strict";Object.defineProperty(lD,"__esModule",{value:!0});var wEe=T();function EEe(t,e,n){return wEe.tap(t,e,n)(this)}lD._do=EEe});var jV=f(FV=>{"use strict";Object.defineProperty(FV,"__esModule",{value:!0});var NV=w(),kV=RV();NV.Observable.prototype.do=kV._do;NV.Observable.prototype._do=kV._do});var LV=f(dD=>{"use strict";Object.defineProperty(dD,"__esModule",{value:!0});var SEe=T();function IEe(){return SEe.exhaust()(this)}dD.exhaust=IEe});var BV=f(qV=>{"use strict";Object.defineProperty(qV,"__esModule",{value:!0});var CEe=w(),DEe=LV();CEe.Observable.prototype.exhaust=DEe.exhaust});var UV=f(fD=>{"use strict";Object.defineProperty(fD,"__esModule",{value:!0});var TEe=T();function OEe(t){return TEe.exhaustMap(t)(this)}fD.exhaustMap=OEe});var HV=f(VV=>{"use strict";Object.defineProperty(VV,"__esModule",{value:!0});var MEe=w(),AEe=UV();MEe.Observable.prototype.exhaustMap=AEe.exhaustMap});var $V=f(hD=>{"use strict";Object.defineProperty(hD,"__esModule",{value:!0});var PEe=T();function xEe(t,e,n){return e===void 0&&(e=Number.POSITIVE_INFINITY),n===void 0&&(n=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,PEe.expand(t,e,n)(this)}hD.expand=xEe});var zV=f(WV=>{"use strict";Object.defineProperty(WV,"__esModule",{value:!0});var REe=w(),NEe=$V();REe.Observable.prototype.expand=NEe.expand});var GV=f(pD=>{"use strict";Object.defineProperty(pD,"__esModule",{value:!0});var kEe=T();function FEe(t,e){return kEe.elementAt.apply(void 0,arguments)(this)}pD.elementAt=FEe});var KV=f(YV=>{"use strict";Object.defineProperty(YV,"__esModule",{value:!0});var jEe=w(),LEe=GV();jEe.Observable.prototype.elementAt=LEe.elementAt});var QV=f(mD=>{"use strict";Object.defineProperty(mD,"__esModule",{value:!0});var qEe=T();function BEe(t,e){return qEe.filter(t,e)(this)}mD.filter=BEe});var ZV=f(JV=>{"use strict";Object.defineProperty(JV,"__esModule",{value:!0});var UEe=w(),VEe=QV();UEe.Observable.prototype.filter=VEe.filter});var XV=f(gD=>{"use strict";Object.defineProperty(gD,"__esModule",{value:!0});var HEe=T();function $Ee(t){return HEe.finalize(t)(this)}gD._finally=$Ee});var rH=f(nH=>{"use strict";Object.defineProperty(nH,"__esModule",{value:!0});var eH=w(),tH=XV();eH.Observable.prototype.finally=tH._finally;eH.Observable.prototype._finally=tH._finally});var iH=f(vD=>{"use strict";Object.defineProperty(vD,"__esModule",{value:!0});var WEe=T();function zEe(t,e){return WEe.find(t,e)(this)}vD.find=zEe});var sH=f(oH=>{"use strict";Object.defineProperty(oH,"__esModule",{value:!0});var GEe=w(),YEe=iH();GEe.Observable.prototype.find=YEe.find});var aH=f(_D=>{"use strict";Object.defineProperty(_D,"__esModule",{value:!0});var KEe=T();function QEe(t,e){return KEe.findIndex(t,e)(this)}_D.findIndex=QEe});var cH=f(uH=>{"use strict";Object.defineProperty(uH,"__esModule",{value:!0});var JEe=w(),ZEe=aH();JEe.Observable.prototype.findIndex=ZEe.findIndex});var lH=f(yD=>{"use strict";Object.defineProperty(yD,"__esModule",{value:!0});var XEe=T();function eSe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return XEe.first.apply(void 0,t)(this)}yD.first=eSe});var fH=f(dH=>{"use strict";Object.defineProperty(dH,"__esModule",{value:!0});var tSe=w(),nSe=lH();tSe.Observable.prototype.first=nSe.first});var hH=f(bD=>{"use strict";Object.defineProperty(bD,"__esModule",{value:!0});var rSe=T();function iSe(t,e,n,r){return rSe.groupBy(t,e,n,r)(this)}bD.groupBy=iSe});var mH=f(pH=>{"use strict";Object.defineProperty(pH,"__esModule",{value:!0});var oSe=w(),sSe=hH();oSe.Observable.prototype.groupBy=sSe.groupBy});var gH=f(wD=>{"use strict";Object.defineProperty(wD,"__esModule",{value:!0});var aSe=T();function uSe(){return aSe.ignoreElements()(this)}wD.ignoreElements=uSe});var _H=f(vH=>{"use strict";Object.defineProperty(vH,"__esModule",{value:!0});var cSe=w(),lSe=gH();cSe.Observable.prototype.ignoreElements=lSe.ignoreElements});var yH=f(ED=>{"use strict";Object.defineProperty(ED,"__esModule",{value:!0});var dSe=T();function fSe(){return dSe.isEmpty()(this)}ED.isEmpty=fSe});var wH=f(bH=>{"use strict";Object.defineProperty(bH,"__esModule",{value:!0});var hSe=w(),pSe=yH();hSe.Observable.prototype.isEmpty=pSe.isEmpty});var EH=f(SD=>{"use strict";Object.defineProperty(SD,"__esModule",{value:!0});var mSe=T();function gSe(t){return mSe.audit(t)(this)}SD.audit=gSe});var IH=f(SH=>{"use strict";Object.defineProperty(SH,"__esModule",{value:!0});var vSe=w(),_Se=EH();vSe.Observable.prototype.audit=_Se.audit});var CH=f(ID=>{"use strict";Object.defineProperty(ID,"__esModule",{value:!0});var ySe=w(),bSe=T();function wSe(t,e){return e===void 0&&(e=ySe.asyncScheduler),bSe.auditTime(t,e)(this)}ID.auditTime=wSe});var TH=f(DH=>{"use strict";Object.defineProperty(DH,"__esModule",{value:!0});var ESe=w(),SSe=CH();ESe.Observable.prototype.auditTime=SSe.auditTime});var OH=f(CD=>{"use strict";Object.defineProperty(CD,"__esModule",{value:!0});var ISe=T();function CSe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ISe.last.apply(void 0,t)(this)}CD.last=CSe});var AH=f(MH=>{"use strict";Object.defineProperty(MH,"__esModule",{value:!0});var DSe=w(),TSe=OH();DSe.Observable.prototype.last=TSe.last});var PH=f(DD=>{"use strict";Object.defineProperty(DD,"__esModule",{value:!0});function OSe(t){return t(this)}DD.letProto=OSe});var kH=f(NH=>{"use strict";Object.defineProperty(NH,"__esModule",{value:!0});var xH=w(),RH=PH();xH.Observable.prototype.let=RH.letProto;xH.Observable.prototype.letBind=RH.letProto});var FH=f(TD=>{"use strict";Object.defineProperty(TD,"__esModule",{value:!0});var MSe=T();function ASe(t,e){return MSe.every(t,e)(this)}TD.every=ASe});var LH=f(jH=>{"use strict";Object.defineProperty(jH,"__esModule",{value:!0});var PSe=w(),xSe=FH();PSe.Observable.prototype.every=xSe.every});var qH=f(OD=>{"use strict";Object.defineProperty(OD,"__esModule",{value:!0});var RSe=T();function NSe(t,e){return RSe.map(t,e)(this)}OD.map=NSe});var UH=f(BH=>{"use strict";Object.defineProperty(BH,"__esModule",{value:!0});var kSe=w(),FSe=qH();kSe.Observable.prototype.map=FSe.map});var VH=f(MD=>{"use strict";Object.defineProperty(MD,"__esModule",{value:!0});var jSe=T();function LSe(t){return jSe.mapTo(t)(this)}MD.mapTo=LSe});var $H=f(HH=>{"use strict";Object.defineProperty(HH,"__esModule",{value:!0});var qSe=w(),BSe=VH();qSe.Observable.prototype.mapTo=BSe.mapTo});var WH=f(AD=>{"use strict";Object.defineProperty(AD,"__esModule",{value:!0});var USe=T();function VSe(){return USe.materialize()(this)}AD.materialize=VSe});var GH=f(zH=>{"use strict";Object.defineProperty(zH,"__esModule",{value:!0});var HSe=w(),$Se=WH();HSe.Observable.prototype.materialize=$Se.materialize});var YH=f(PD=>{"use strict";Object.defineProperty(PD,"__esModule",{value:!0});var WSe=T();function zSe(t){return WSe.max(t)(this)}PD.max=zSe});var QH=f(KH=>{"use strict";Object.defineProperty(KH,"__esModule",{value:!0});var GSe=w(),YSe=YH();GSe.Observable.prototype.max=YSe.max});var JH=f(xD=>{"use strict";Object.defineProperty(xD,"__esModule",{value:!0});var KSe=w();function QSe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.lift.call(KSe.merge.apply(void 0,[this].concat(t)))}xD.merge=QSe});var XH=f(ZH=>{"use strict";Object.defineProperty(ZH,"__esModule",{value:!0});var JSe=w(),ZSe=JH();JSe.Observable.prototype.merge=ZSe.merge});var e$=f(RD=>{"use strict";Object.defineProperty(RD,"__esModule",{value:!0});var XSe=T();function eIe(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),XSe.mergeAll(t)(this)}RD.mergeAll=eIe});var n$=f(t$=>{"use strict";Object.defineProperty(t$,"__esModule",{value:!0});var tIe=w(),nIe=e$();tIe.Observable.prototype.mergeAll=nIe.mergeAll});var r$=f(ND=>{"use strict";Object.defineProperty(ND,"__esModule",{value:!0});var rIe=T();function iIe(t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),rIe.mergeMap(t,e)(this)}ND.mergeMap=iIe});var a$=f(s$=>{"use strict";Object.defineProperty(s$,"__esModule",{value:!0});var i$=w(),o$=r$();i$.Observable.prototype.mergeMap=o$.mergeMap;i$.Observable.prototype.flatMap=o$.mergeMap});var u$=f(kD=>{"use strict";Object.defineProperty(kD,"__esModule",{value:!0});var oIe=T();function sIe(t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),oIe.mergeMapTo(t,e)(this)}kD.mergeMapTo=sIe});var f$=f(d$=>{"use strict";Object.defineProperty(d$,"__esModule",{value:!0});var c$=w(),l$=u$();c$.Observable.prototype.flatMapTo=l$.mergeMapTo;c$.Observable.prototype.mergeMapTo=l$.mergeMapTo});var h$=f(FD=>{"use strict";Object.defineProperty(FD,"__esModule",{value:!0});var aIe=T();function uIe(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),aIe.mergeScan(t,e,n)(this)}FD.mergeScan=uIe});var m$=f(p$=>{"use strict";Object.defineProperty(p$,"__esModule",{value:!0});var cIe=w(),lIe=h$();cIe.Observable.prototype.mergeScan=lIe.mergeScan});var g$=f(jD=>{"use strict";Object.defineProperty(jD,"__esModule",{value:!0});var dIe=T();function fIe(t){return dIe.min(t)(this)}jD.min=fIe});var _$=f(v$=>{"use strict";Object.defineProperty(v$,"__esModule",{value:!0});var hIe=w(),pIe=g$();hIe.Observable.prototype.min=pIe.min});var y$=f(LD=>{"use strict";Object.defineProperty(LD,"__esModule",{value:!0});var mIe=T();function gIe(t,e){return mIe.multicast(t,e)(this)}LD.multicast=gIe});var w$=f(b$=>{"use strict";Object.defineProperty(b$,"__esModule",{value:!0});var vIe=w(),_Ie=y$();vIe.Observable.prototype.multicast=_Ie.multicast});var E$=f(qD=>{"use strict";Object.defineProperty(qD,"__esModule",{value:!0});var yIe=T();function bIe(t,e){return e===void 0&&(e=0),yIe.observeOn(t,e)(this)}qD.observeOn=bIe});var I$=f(S$=>{"use strict";Object.defineProperty(S$,"__esModule",{value:!0});var wIe=w(),EIe=E$();wIe.Observable.prototype.observeOn=EIe.observeOn});var C$=f(BD=>{"use strict";Object.defineProperty(BD,"__esModule",{value:!0});var SIe=T();function IIe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return SIe.onErrorResumeNext.apply(void 0,t)(this)}BD.onErrorResumeNext=IIe});var T$=f(D$=>{"use strict";Object.defineProperty(D$,"__esModule",{value:!0});var CIe=w(),DIe=C$();CIe.Observable.prototype.onErrorResumeNext=DIe.onErrorResumeNext});var O$=f(UD=>{"use strict";Object.defineProperty(UD,"__esModule",{value:!0});var TIe=T();function OIe(){return TIe.pairwise()(this)}UD.pairwise=OIe});var A$=f(M$=>{"use strict";Object.defineProperty(M$,"__esModule",{value:!0});var MIe=w(),AIe=O$();MIe.Observable.prototype.pairwise=AIe.pairwise});var P$=f(VD=>{"use strict";Object.defineProperty(VD,"__esModule",{value:!0});var PIe=T();function xIe(t,e){return PIe.partition(t,e)(this)}VD.partition=xIe});var R$=f(x$=>{"use strict";Object.defineProperty(x$,"__esModule",{value:!0});var RIe=w(),NIe=P$();RIe.Observable.prototype.partition=NIe.partition});var N$=f(HD=>{"use strict";Object.defineProperty(HD,"__esModule",{value:!0});var kIe=T();function FIe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return kIe.pluck.apply(void 0,t)(this)}HD.pluck=FIe});var F$=f(k$=>{"use strict";Object.defineProperty(k$,"__esModule",{value:!0});var jIe=w(),LIe=N$();jIe.Observable.prototype.pluck=LIe.pluck});var j$=f($D=>{"use strict";Object.defineProperty($D,"__esModule",{value:!0});var qIe=T();function BIe(t){return qIe.publish(t)(this)}$D.publish=BIe});var q$=f(L$=>{"use strict";Object.defineProperty(L$,"__esModule",{value:!0});var UIe=w(),VIe=j$();UIe.Observable.prototype.publish=VIe.publish});var B$=f(WD=>{"use strict";Object.defineProperty(WD,"__esModule",{value:!0});var HIe=T();function $Ie(t){return HIe.publishBehavior(t)(this)}WD.publishBehavior=$Ie});var V$=f(U$=>{"use strict";Object.defineProperty(U$,"__esModule",{value:!0});var WIe=w(),zIe=B$();WIe.Observable.prototype.publishBehavior=zIe.publishBehavior});var H$=f(zD=>{"use strict";Object.defineProperty(zD,"__esModule",{value:!0});var GIe=T();function YIe(t,e,n,r){return GIe.publishReplay(t,e,n,r)(this)}zD.publishReplay=YIe});var W$=f($$=>{"use strict";Object.defineProperty($$,"__esModule",{value:!0});var KIe=w(),QIe=H$();KIe.Observable.prototype.publishReplay=QIe.publishReplay});var z$=f(GD=>{"use strict";Object.defineProperty(GD,"__esModule",{value:!0});var JIe=T();function ZIe(){return JIe.publishLast()(this)}GD.publishLast=ZIe});var Y$=f(G$=>{"use strict";Object.defineProperty(G$,"__esModule",{value:!0});var XIe=w(),eCe=z$();XIe.Observable.prototype.publishLast=eCe.publishLast});var K$=f(YD=>{"use strict";Object.defineProperty(YD,"__esModule",{value:!0});var tCe=T();function nCe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return tCe.race.apply(void 0,t)(this)}YD.race=nCe});var J$=f(Q$=>{"use strict";Object.defineProperty(Q$,"__esModule",{value:!0});var rCe=w(),iCe=K$();rCe.Observable.prototype.race=iCe.race});var X$=f(KD=>{"use strict";Object.defineProperty(KD,"__esModule",{value:!0});var Z$=T();function oCe(t,e){return arguments.length>=2?Z$.reduce(t,e)(this):Z$.reduce(t)(this)}KD.reduce=oCe});var tW=f(eW=>{"use strict";Object.defineProperty(eW,"__esModule",{value:!0});var sCe=w(),aCe=X$();sCe.Observable.prototype.reduce=aCe.reduce});var nW=f(QD=>{"use strict";Object.defineProperty(QD,"__esModule",{value:!0});var uCe=T();function cCe(t){return t===void 0&&(t=-1),uCe.repeat(t)(this)}QD.repeat=cCe});var iW=f(rW=>{"use strict";Object.defineProperty(rW,"__esModule",{value:!0});var lCe=w(),dCe=nW();lCe.Observable.prototype.repeat=dCe.repeat});var oW=f(JD=>{"use strict";Object.defineProperty(JD,"__esModule",{value:!0});var fCe=T();function hCe(t){return fCe.repeatWhen(t)(this)}JD.repeatWhen=hCe});var aW=f(sW=>{"use strict";Object.defineProperty(sW,"__esModule",{value:!0});var pCe=w(),mCe=oW();pCe.Observable.prototype.repeatWhen=mCe.repeatWhen});var uW=f(ZD=>{"use strict";Object.defineProperty(ZD,"__esModule",{value:!0});var gCe=T();function vCe(t){return t===void 0&&(t=-1),gCe.retry(t)(this)}ZD.retry=vCe});var lW=f(cW=>{"use strict";Object.defineProperty(cW,"__esModule",{value:!0});var _Ce=w(),yCe=uW();_Ce.Observable.prototype.retry=yCe.retry});var dW=f(XD=>{"use strict";Object.defineProperty(XD,"__esModule",{value:!0});var bCe=T();function wCe(t){return bCe.retryWhen(t)(this)}XD.retryWhen=wCe});var hW=f(fW=>{"use strict";Object.defineProperty(fW,"__esModule",{value:!0});var ECe=w(),SCe=dW();ECe.Observable.prototype.retryWhen=SCe.retryWhen});var pW=f(eT=>{"use strict";Object.defineProperty(eT,"__esModule",{value:!0});var ICe=T();function CCe(t){return ICe.sample(t)(this)}eT.sample=CCe});var gW=f(mW=>{"use strict";Object.defineProperty(mW,"__esModule",{value:!0});var DCe=w(),TCe=pW();DCe.Observable.prototype.sample=TCe.sample});var vW=f(tT=>{"use strict";Object.defineProperty(tT,"__esModule",{value:!0});var OCe=w(),MCe=T();function ACe(t,e){return e===void 0&&(e=OCe.asyncScheduler),MCe.sampleTime(t,e)(this)}tT.sampleTime=ACe});var yW=f(_W=>{"use strict";Object.defineProperty(_W,"__esModule",{value:!0});var PCe=w(),xCe=vW();PCe.Observable.prototype.sampleTime=xCe.sampleTime});var wW=f(nT=>{"use strict";Object.defineProperty(nT,"__esModule",{value:!0});var bW=T();function RCe(t,e){return arguments.length>=2?bW.scan(t,e)(this):bW.scan(t)(this)}nT.scan=RCe});var SW=f(EW=>{"use strict";Object.defineProperty(EW,"__esModule",{value:!0});var NCe=w(),kCe=wW();NCe.Observable.prototype.scan=kCe.scan});var IW=f(rT=>{"use strict";Object.defineProperty(rT,"__esModule",{value:!0});var FCe=T();function jCe(t,e){return FCe.sequenceEqual(t,e)(this)}rT.sequenceEqual=jCe});var DW=f(CW=>{"use strict";Object.defineProperty(CW,"__esModule",{value:!0});var LCe=w(),qCe=IW();LCe.Observable.prototype.sequenceEqual=qCe.sequenceEqual});var TW=f(iT=>{"use strict";Object.defineProperty(iT,"__esModule",{value:!0});var BCe=T();function UCe(){return BCe.share()(this)}iT.share=UCe});var MW=f(OW=>{"use strict";Object.defineProperty(OW,"__esModule",{value:!0});var VCe=w(),HCe=TW();VCe.Observable.prototype.share=HCe.share});var PW=f(oT=>{"use strict";Object.defineProperty(oT,"__esModule",{value:!0});var AW=T();function $Ce(t,e,n){return t&&typeof t=="object"?AW.shareReplay(t)(this):AW.shareReplay(t,e,n)(this)}oT.shareReplay=$Ce});var RW=f(xW=>{"use strict";Object.defineProperty(xW,"__esModule",{value:!0});var WCe=w(),zCe=PW();WCe.Observable.prototype.shareReplay=zCe.shareReplay});var NW=f(sT=>{"use strict";Object.defineProperty(sT,"__esModule",{value:!0});var GCe=T();function YCe(t){return GCe.single(t)(this)}sT.single=YCe});var FW=f(kW=>{"use strict";Object.defineProperty(kW,"__esModule",{value:!0});var KCe=w(),QCe=NW();KCe.Observable.prototype.single=QCe.single});var jW=f(aT=>{"use strict";Object.defineProperty(aT,"__esModule",{value:!0});var JCe=T();function ZCe(t){return JCe.skip(t)(this)}aT.skip=ZCe});var qW=f(LW=>{"use strict";Object.defineProperty(LW,"__esModule",{value:!0});var XCe=w(),eDe=jW();XCe.Observable.prototype.skip=eDe.skip});var BW=f(uT=>{"use strict";Object.defineProperty(uT,"__esModule",{value:!0});var tDe=T();function nDe(t){return tDe.skipLast(t)(this)}uT.skipLast=nDe});var VW=f(UW=>{"use strict";Object.defineProperty(UW,"__esModule",{value:!0});var rDe=w(),iDe=BW();rDe.Observable.prototype.skipLast=iDe.skipLast});var HW=f(cT=>{"use strict";Object.defineProperty(cT,"__esModule",{value:!0});var oDe=T();function sDe(t){return oDe.skipUntil(t)(this)}cT.skipUntil=sDe});var WW=f($W=>{"use strict";Object.defineProperty($W,"__esModule",{value:!0});var aDe=w(),uDe=HW();aDe.Observable.prototype.skipUntil=uDe.skipUntil});var zW=f(lT=>{"use strict";Object.defineProperty(lT,"__esModule",{value:!0});var cDe=T();function lDe(t){return cDe.skipWhile(t)(this)}lT.skipWhile=lDe});var YW=f(GW=>{"use strict";Object.defineProperty(GW,"__esModule",{value:!0});var dDe=w(),fDe=zW();dDe.Observable.prototype.skipWhile=fDe.skipWhile});var KW=f(dT=>{"use strict";Object.defineProperty(dT,"__esModule",{value:!0});var hDe=T();function pDe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return hDe.startWith.apply(void 0,t)(this)}dT.startWith=pDe});var JW=f(QW=>{"use strict";Object.defineProperty(QW,"__esModule",{value:!0});var mDe=w(),gDe=KW();mDe.Observable.prototype.startWith=gDe.startWith});var ZW=f(fT=>{"use strict";Object.defineProperty(fT,"__esModule",{value:!0});var vDe=T();function _De(t,e){return e===void 0&&(e=0),vDe.subscribeOn(t,e)(this)}fT.subscribeOn=_De});var e3=f(XW=>{"use strict";Object.defineProperty(XW,"__esModule",{value:!0});var yDe=w(),bDe=ZW();yDe.Observable.prototype.subscribeOn=bDe.subscribeOn});var t3=f(hT=>{"use strict";Object.defineProperty(hT,"__esModule",{value:!0});var wDe=T();function EDe(){return wDe.switchAll()(this)}hT._switch=EDe});var o3=f(i3=>{"use strict";Object.defineProperty(i3,"__esModule",{value:!0});var n3=w(),r3=t3();n3.Observable.prototype.switch=r3._switch;n3.Observable.prototype._switch=r3._switch});var s3=f(pT=>{"use strict";Object.defineProperty(pT,"__esModule",{value:!0});var SDe=T();function IDe(t){return SDe.switchMap(t)(this)}pT.switchMap=IDe});var u3=f(a3=>{"use strict";Object.defineProperty(a3,"__esModule",{value:!0});var CDe=w(),DDe=s3();CDe.Observable.prototype.switchMap=DDe.switchMap});var c3=f(mT=>{"use strict";Object.defineProperty(mT,"__esModule",{value:!0});var TDe=T();function ODe(t){return TDe.switchMapTo(t)(this)}mT.switchMapTo=ODe});var d3=f(l3=>{"use strict";Object.defineProperty(l3,"__esModule",{value:!0});var MDe=w(),ADe=c3();MDe.Observable.prototype.switchMapTo=ADe.switchMapTo});var f3=f(gT=>{"use strict";Object.defineProperty(gT,"__esModule",{value:!0});var PDe=T();function xDe(t){return PDe.take(t)(this)}gT.take=xDe});var p3=f(h3=>{"use strict";Object.defineProperty(h3,"__esModule",{value:!0});var RDe=w(),NDe=f3();RDe.Observable.prototype.take=NDe.take});var m3=f(vT=>{"use strict";Object.defineProperty(vT,"__esModule",{value:!0});var kDe=T();function FDe(t){return kDe.takeLast(t)(this)}vT.takeLast=FDe});var v3=f(g3=>{"use strict";Object.defineProperty(g3,"__esModule",{value:!0});var jDe=w(),LDe=m3();jDe.Observable.prototype.takeLast=LDe.takeLast});var _3=f(_T=>{"use strict";Object.defineProperty(_T,"__esModule",{value:!0});var qDe=T();function BDe(t){return qDe.takeUntil(t)(this)}_T.takeUntil=BDe});var b3=f(y3=>{"use strict";Object.defineProperty(y3,"__esModule",{value:!0});var UDe=w(),VDe=_3();UDe.Observable.prototype.takeUntil=VDe.takeUntil});var w3=f(yT=>{"use strict";Object.defineProperty(yT,"__esModule",{value:!0});var HDe=T();function $De(t){return HDe.takeWhile(t)(this)}yT.takeWhile=$De});var S3=f(E3=>{"use strict";Object.defineProperty(E3,"__esModule",{value:!0});var WDe=w(),zDe=w3();WDe.Observable.prototype.takeWhile=zDe.takeWhile});var I3=f(bT=>{"use strict";Object.defineProperty(bT,"__esModule",{value:!0});var GDe=T(),YDe=hr();function KDe(t,e){return e===void 0&&(e=YDe.defaultThrottleConfig),GDe.throttle(t,e)(this)}bT.throttle=KDe});var D3=f(C3=>{"use strict";Object.defineProperty(C3,"__esModule",{value:!0});var QDe=w(),JDe=I3();QDe.Observable.prototype.throttle=JDe.throttle});var T3=f(wT=>{"use strict";Object.defineProperty(wT,"__esModule",{value:!0});var ZDe=w(),XDe=hr(),eTe=T();function tTe(t,e,n){return e===void 0&&(e=ZDe.asyncScheduler),n===void 0&&(n=XDe.defaultThrottleConfig),eTe.throttleTime(t,e,n)(this)}wT.throttleTime=tTe});var M3=f(O3=>{"use strict";Object.defineProperty(O3,"__esModule",{value:!0});var nTe=w(),rTe=T3();nTe.Observable.prototype.throttleTime=rTe.throttleTime});var A3=f(ET=>{"use strict";Object.defineProperty(ET,"__esModule",{value:!0});var iTe=w(),oTe=T();function sTe(t){return t===void 0&&(t=iTe.asyncScheduler),oTe.timeInterval(t)(this)}ET.timeInterval=sTe});var x3=f(P3=>{"use strict";Object.defineProperty(P3,"__esModule",{value:!0});var aTe=w(),uTe=A3();aTe.Observable.prototype.timeInterval=uTe.timeInterval});var R3=f(ST=>{"use strict";Object.defineProperty(ST,"__esModule",{value:!0});var cTe=w(),lTe=T();function dTe(t,e){return e===void 0&&(e=cTe.asyncScheduler),lTe.timeout(t,e)(this)}ST.timeout=dTe});var k3=f(N3=>{"use strict";Object.defineProperty(N3,"__esModule",{value:!0});var fTe=w(),hTe=R3();fTe.Observable.prototype.timeout=hTe.timeout});var F3=f(IT=>{"use strict";Object.defineProperty(IT,"__esModule",{value:!0});var pTe=w(),mTe=T();function gTe(t,e,n){return n===void 0&&(n=pTe.asyncScheduler),mTe.timeoutWith(t,e,n)(this)}IT.timeoutWith=gTe});var L3=f(j3=>{"use strict";Object.defineProperty(j3,"__esModule",{value:!0});var vTe=w(),_Te=F3();vTe.Observable.prototype.timeoutWith=_Te.timeoutWith});var q3=f(CT=>{"use strict";Object.defineProperty(CT,"__esModule",{value:!0});var yTe=w(),bTe=T();function wTe(t){return t===void 0&&(t=yTe.asyncScheduler),bTe.timestamp(t)(this)}CT.timestamp=wTe});var U3=f(B3=>{"use strict";Object.defineProperty(B3,"__esModule",{value:!0});var ETe=w(),STe=q3();ETe.Observable.prototype.timestamp=STe.timestamp});var V3=f(DT=>{"use strict";Object.defineProperty(DT,"__esModule",{value:!0});var ITe=T();function CTe(){return ITe.toArray()(this)}DT.toArray=CTe});var $3=f(H3=>{"use strict";Object.defineProperty(H3,"__esModule",{value:!0});var DTe=w(),TTe=V3();DTe.Observable.prototype.toArray=TTe.toArray});var W3=f(()=>{"use strict"});var z3=f(TT=>{"use strict";Object.defineProperty(TT,"__esModule",{value:!0});var OTe=T();function MTe(t){return OTe.window(t)(this)}TT.window=MTe});var Y3=f(G3=>{"use strict";Object.defineProperty(G3,"__esModule",{value:!0});var ATe=w(),PTe=z3();ATe.Observable.prototype.window=PTe.window});var K3=f(OT=>{"use strict";Object.defineProperty(OT,"__esModule",{value:!0});var xTe=T();function RTe(t,e){return e===void 0&&(e=0),xTe.windowCount(t,e)(this)}OT.windowCount=RTe});var J3=f(Q3=>{"use strict";Object.defineProperty(Q3,"__esModule",{value:!0});var NTe=w(),kTe=K3();NTe.Observable.prototype.windowCount=kTe.windowCount});var Z3=f(MT=>{"use strict";Object.defineProperty(MT,"__esModule",{value:!0});var FTe=w(),$l=hr(),jTe=T();function LTe(t){var e=FTe.asyncScheduler,n=null,r=Number.POSITIVE_INFINITY;return $l.isScheduler(arguments[3])&&(e=arguments[3]),$l.isScheduler(arguments[2])?e=arguments[2]:$l.isNumeric(arguments[2])&&(r=Number(arguments[2])),$l.isScheduler(arguments[1])?e=arguments[1]:$l.isNumeric(arguments[1])&&(n=Number(arguments[1])),jTe.windowTime(t,n,r,e)(this)}MT.windowTime=LTe});var ez=f(X3=>{"use strict";Object.defineProperty(X3,"__esModule",{value:!0});var qTe=w(),BTe=Z3();qTe.Observable.prototype.windowTime=BTe.windowTime});var tz=f(AT=>{"use strict";Object.defineProperty(AT,"__esModule",{value:!0});var UTe=T();function VTe(t,e){return UTe.windowToggle(t,e)(this)}AT.windowToggle=VTe});var rz=f(nz=>{"use strict";Object.defineProperty(nz,"__esModule",{value:!0});var HTe=w(),$Te=tz();HTe.Observable.prototype.windowToggle=$Te.windowToggle});var iz=f(PT=>{"use strict";Object.defineProperty(PT,"__esModule",{value:!0});var WTe=T();function zTe(t){return WTe.windowWhen(t)(this)}PT.windowWhen=zTe});var sz=f(oz=>{"use strict";Object.defineProperty(oz,"__esModule",{value:!0});var GTe=w(),YTe=iz();GTe.Observable.prototype.windowWhen=YTe.windowWhen});var az=f(xT=>{"use strict";Object.defineProperty(xT,"__esModule",{value:!0});var KTe=T();function QTe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return KTe.withLatestFrom.apply(void 0,t)(this)}xT.withLatestFrom=QTe});var cz=f(uz=>{"use strict";Object.defineProperty(uz,"__esModule",{value:!0});var JTe=w(),ZTe=az();JTe.Observable.prototype.withLatestFrom=ZTe.withLatestFrom});var lz=f(RT=>{"use strict";Object.defineProperty(RT,"__esModule",{value:!0});var XTe=w();function eOe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.lift.call(XTe.zip.apply(void 0,[this].concat(t)))}RT.zipProto=eOe});var fz=f(dz=>{"use strict";Object.defineProperty(dz,"__esModule",{value:!0});var tOe=w(),nOe=lz();tOe.Observable.prototype.zip=nOe.zipProto});var hz=f(NT=>{"use strict";Object.defineProperty(NT,"__esModule",{value:!0});var rOe=T();function iOe(t){return rOe.zipAll(t)(this)}NT.zipAll=iOe});var mz=f(pz=>{"use strict";Object.defineProperty(pz,"__esModule",{value:!0});var oOe=w(),sOe=hz();oOe.Observable.prototype.zipAll=sOe.zipAll});var kT=f(c_=>{"use strict";Object.defineProperty(c_,"__esModule",{value:!0});c_.SubscriptionLog=void 0;var aOe=function(){function t(e,n){n===void 0&&(n=1/0),this.subscribedFrame=e,this.unsubscribedFrame=n}return t}();c_.SubscriptionLog=aOe});var FT=f(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});l_.SubscriptionLoggable=void 0;var gz=kT(),uOe=function(){function t(){this.subscriptions=[]}return t.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new gz.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},t.prototype.logUnsubscribedFrame=function(e){var n=this.subscriptions,r=n[e];n[e]=new gz.SubscriptionLog(r.subscribedFrame,this.scheduler.now())},t}();l_.SubscriptionLoggable=uOe});var jT=f(d_=>{"use strict";Object.defineProperty(d_,"__esModule",{value:!0});d_.applyMixins=void 0;function cOe(t,e){for(var n=0,r=e.length;n<r;n++)for(var i=e[n],o=Object.getOwnPropertyNames(i.prototype),s=0,a=o.length;s<a;s++){var u=o[s];t.prototype[u]=i.prototype[u]}}d_.applyMixins=cOe});var yz=f(Iu=>{"use strict";var lOe=Iu&&Iu.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Iu,"__esModule",{value:!0});Iu.ColdObservable=void 0;var dOe=le(),vz=Et(),fOe=FT(),hOe=jT(),pOe=iu(),_z=function(t){lOe(e,t);function e(n,r){var i=t.call(this,function(o){var s=this,a=s.logSubscribedFrame(),u=new vz.Subscription;return u.add(new vz.Subscription(function(){s.logUnsubscribedFrame(a)})),s.scheduleMessages(o),u})||this;return i.messages=n,i.subscriptions=[],i.scheduler=r,i}return e.prototype.scheduleMessages=function(n){for(var r=this.messages.length,i=0;i<r;i++){var o=this.messages[i];n.add(this.scheduler.schedule(function(s){var a=s,u=a.message.notification,c=a.subscriber;pOe.observeNotification(u,c)},o.frame,{message:o,subscriber:n}))}},e}(dOe.Observable);Iu.ColdObservable=_z;hOe.applyMixins(_z,[fOe.SubscriptionLoggable])});var Ez=f(Cu=>{"use strict";var mOe=Cu&&Cu.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Cu,"__esModule",{value:!0});Cu.HotObservable=void 0;var gOe=nt(),bz=Et(),vOe=FT(),_Oe=jT(),yOe=iu(),wz=function(t){mOe(e,t);function e(n,r){var i=t.call(this)||this;return i.messages=n,i.subscriptions=[],i.scheduler=r,i}return e.prototype._subscribe=function(n){var r=this,i=r.logSubscribedFrame(),o=new bz.Subscription;return o.add(new bz.Subscription(function(){r.logUnsubscribedFrame(i)})),o.add(t.prototype._subscribe.call(this,n)),o},e.prototype.setup=function(){for(var n=this,r=n.messages.length,i=function(s){(function(){var a=n.messages[s],u=a.notification,c=a.frame;n.scheduler.schedule(function(){yOe.observeNotification(u,n)},c)})()},o=0;o<r;o++)i(o)},e}(gOe.Subject);Cu.HotObservable=wz;_Oe.applyMixins(wz,[vOe.SubscriptionLoggable])});var kz=f(_n=>{"use strict";var bOe=_n&&_n.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sz=_n&&_n.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Iz=_n&&_n.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Cz=_n&&_n.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(_n,"__esModule",{value:!0});_n.TestScheduler=void 0;var Dz=le(),Tz=yz(),wOe=Ez(),LT=kT(),Oz=ES(),vn=oS(),Mz=Rl(),Az=fS(),Pz=Xp(),xz=bS(),Rz=_S(),Nz=Vp(),EOe=750,SOe=function(t){bOe(e,t);function e(n){var r=t.call(this,Oz.VirtualAction,EOe)||this;return r.assertDeepEqual=n,r.hotObservables=[],r.coldObservables=[],r.flushTests=[],r.runMode=!1,r}return e.prototype.createTime=function(n){var r=this.runMode?n.trim().indexOf("|"):n.indexOf("|");if(r===-1)throw new Error('marble diagram for time should have a completion marker "|"');return r*e.frameTimeFactor},e.prototype.createColdObservable=function(n,r,i){if(n.indexOf("^")!==-1)throw new Error('cold observable cannot have subscription offset "^"');if(n.indexOf("!")!==-1)throw new Error('cold observable cannot have unsubscription marker "!"');var o=e.parseMarbles(n,r,i,void 0,this.runMode),s=new Tz.ColdObservable(o,this);return this.coldObservables.push(s),s},e.prototype.createHotObservable=function(n,r,i){if(n.indexOf("!")!==-1)throw new Error('hot observable cannot have unsubscription marker "!"');var o=e.parseMarbles(n,r,i,void 0,this.runMode),s=new wOe.HotObservable(o,this);return this.hotObservables.push(s),s},e.prototype.materializeInnerObservable=function(n,r){var i=this,o=[];return n.subscribe({next:function(s){o.push({frame:i.frame-r,notification:vn.nextNotification(s)})},error:function(s){o.push({frame:i.frame-r,notification:vn.errorNotification(s)})},complete:function(){o.push({frame:i.frame-r,notification:vn.COMPLETE_NOTIFICATION})}}),o},e.prototype.expectObservable=function(n,r){var i=this;r===void 0&&(r=null);var o=[],s={actual:o,ready:!1},a=e.parseMarblesAsSubscriptions(r,this.runMode),u=a.subscribedFrame===1/0?0:a.subscribedFrame,c=a.unsubscribedFrame,l;this.schedule(function(){l=n.subscribe({next:function(h){var m=h instanceof Dz.Observable?i.materializeInnerObservable(h,i.frame):h;o.push({frame:i.frame,notification:vn.nextNotification(m)})},error:function(h){o.push({frame:i.frame,notification:vn.errorNotification(h)})},complete:function(){o.push({frame:i.frame,notification:vn.COMPLETE_NOTIFICATION})}})},u),c!==1/0&&this.schedule(function(){return l.unsubscribe()},c),this.flushTests.push(s);var d=this.runMode;return{toBe:function(h,m,g){s.ready=!0,s.expected=e.parseMarbles(h,m,g,!0,d)},toEqual:function(h){s.ready=!0,s.expected=[],i.schedule(function(){l=h.subscribe({next:function(m){var g=m instanceof Dz.Observable?i.materializeInnerObservable(m,i.frame):m;s.expected.push({frame:i.frame,notification:vn.nextNotification(g)})},error:function(m){s.expected.push({frame:i.frame,notification:vn.errorNotification(m)})},complete:function(){s.expected.push({frame:i.frame,notification:vn.COMPLETE_NOTIFICATION})}})},u)}}},e.prototype.expectSubscriptions=function(n){var r={actual:n,ready:!1};this.flushTests.push(r);var i=this.runMode;return{toBe:function(o){var s=typeof o=="string"?[o]:o;r.ready=!0,r.expected=s.map(function(a){return e.parseMarblesAsSubscriptions(a,i)}).filter(function(a){return a.subscribedFrame!==1/0})}}},e.prototype.flush=function(){for(var n=this,r=this.hotObservables;r.length>0;)r.shift().setup();t.prototype.flush.call(this),this.flushTests=this.flushTests.filter(function(i){return i.ready?(n.assertDeepEqual(i.actual,i.expected),!1):!0})},e.parseMarblesAsSubscriptions=function(n,r){var i=this;if(r===void 0&&(r=!1),typeof n!="string")return new LT.SubscriptionLog(1/0);for(var o=Iz([],Sz(n)),s=o.length,a=-1,u=1/0,c=1/0,l=0,d=function(_){var y=l,b=function(Ee){y+=Ee*i.frameTimeFactor},I=o[_];switch(I){case" ":r||b(1);break;case"-":b(1);break;case"(":a=l,b(1);break;case")":a=-1,b(1);break;case"^":if(u!==1/0)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");u=a>-1?a:l,b(1);break;case"!":if(c!==1/0)throw new Error("found a second unsubscription point '!' in a subscription marble diagram. There can only be one.");c=a>-1?a:l;break;default:if(r&&I.match(/^[0-9]$/)&&(_===0||o[_-1]===" ")){var E=o.slice(_).join(""),S=E.match(/^([0-9]+(?:\.[0-9]+)?)(ms|s|m) /);if(S){_+=S[0].length-1;var C=parseFloat(S[1]),R=S[2],Y=void 0;switch(R){case"ms":Y=C;break;case"s":Y=C*1e3;break;case"m":Y=C*1e3*60;break;default:break}b(Y/h.frameTimeFactor);break}}throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+I+"'.")}l=y,m=_},h=this,m,g=0;g<s;g++)d(g),g=m;return c<0?new LT.SubscriptionLog(u):new LT.SubscriptionLog(u,c)},e.parseMarbles=function(n,r,i,o,s){var a=this;if(o===void 0&&(o=!1),s===void 0&&(s=!1),n.indexOf("!")!==-1)throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var u=Iz([],Sz(n)),c=u.length,l=[],d=s?n.replace(/^[ ]+/,"").indexOf("^"):n.indexOf("^"),h=d===-1?0:d*-this.frameTimeFactor,m=typeof r!="object"?function(E){return E}:function(E){return o&&r[E]instanceof Tz.ColdObservable?r[E].messages:r[E]},g=-1,_=function(E){var S=h,C=function(We){S+=We*a.frameTimeFactor},R=void 0,Y=u[E];switch(Y){case" ":s||C(1);break;case"-":C(1);break;case"(":g=h,C(1);break;case")":g=-1,C(1);break;case"|":R=vn.COMPLETE_NOTIFICATION,C(1);break;case"^":C(1);break;case"#":R=vn.errorNotification(i||"error"),C(1);break;default:if(s&&Y.match(/^[0-9]$/)&&(E===0||u[E-1]===" ")){var Ee=u.slice(E).join(""),pe=Ee.match(/^([0-9]+(?:\.[0-9]+)?)(ms|s|m) /);if(pe){E+=pe[0].length-1;var Se=parseFloat(pe[1]),Le=pe[2],Qe=void 0;switch(Le){case"ms":Qe=Se;break;case"s":Qe=Se*1e3;break;case"m":Qe=Se*1e3*60;break;default:break}C(Qe/y.frameTimeFactor);break}}R=vn.nextNotification(m(Y)),C(1);break}R&&l.push({frame:g>-1?g:h,notification:R}),h=S,b=E},y=this,b,I=0;I<c;I++)_(I),I=b;return l},e.prototype.createAnimator=function(){var n=this;if(!this.runMode)throw new Error("animate() must only be used in run mode");var r=0,i,o={requestAnimationFrame:function(a){if(!i)throw new Error("animate() was not called within run()");var u=++r;return i.set(u,a),u},cancelAnimationFrame:function(a){if(!i)throw new Error("animate() was not called within run()");i.delete(a)}},s=function(a){var u,c;if(i)throw new Error("animate() must not be called more than once within run()");if(/[|#]/.test(a))throw new Error("animate() must not complete or error");i=new Map;var l=e.parseMarbles(a,void 0,void 0,void 0,!0);try{for(var d=Cz(l),h=d.next();!h.done;h=d.next()){var m=h.value;n.schedule(function(){var g,_,y=n.now(),b=Array.from(i.values());i.clear();try{for(var I=(g=void 0,Cz(b)),E=I.next();!E.done;E=I.next()){var S=E.value;S(y)}}catch(C){g={error:C}}finally{try{E&&!E.done&&(_=I.return)&&_.call(I)}finally{if(g)throw g.error}}},m.frame)}}catch(g){u={error:g}}finally{try{h&&!h.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}};return{animate:s,delegate:o}},e.prototype.createDelegates=function(){var n=this,r=0,i=new Map,o=function(){var c=n.now(),l=Array.from(i.values()),d=l.filter(function(C){var R=C.due;return R<=c}),h=d.filter(function(C){var R=C.type;return R==="immediate"});if(h.length>0){var m=h[0],g=m.handle,_=m.handler;i.delete(g),_();return}var y=d.filter(function(C){var R=C.type;return R==="interval"});if(y.length>0){var b=y[0],I=b.duration,_=b.handler;b.due=c+I,b.subscription=n.schedule(o,I),_();return}var E=d.filter(function(C){var R=C.type;return R==="timeout"});if(E.length>0){var S=E[0],g=S.handle,_=S.handler;i.delete(g),_();return}throw new Error("Expected a due immediate or interval")},s={setImmediate:function(c){var l=++r;return i.set(l,{due:n.now(),duration:0,handle:l,handler:c,subscription:n.schedule(o,0),type:"immediate"}),l},clearImmediate:function(c){var l=i.get(c);l&&(l.subscription.unsubscribe(),i.delete(c))}},a={setInterval:function(c,l){l===void 0&&(l=0);var d=++r;return i.set(d,{due:n.now()+l,duration:l,handle:d,handler:c,subscription:n.schedule(o,l),type:"interval"}),d},clearInterval:function(c){var l=i.get(c);l&&(l.subscription.unsubscribe(),i.delete(c))}},u={setTimeout:function(c,l){l===void 0&&(l=0);var d=++r;return i.set(d,{due:n.now()+l,duration:l,handle:d,handler:c,subscription:n.schedule(o,l),type:"timeout"}),d},clearTimeout:function(c){var l=i.get(c);l&&(l.subscription.unsubscribe(),i.delete(c))}};return{immediate:s,interval:a,timeout:u}},e.prototype.run=function(n){var r=e.frameTimeFactor,i=this.maxFrames;e.frameTimeFactor=1,this.maxFrames=1/0,this.runMode=!0;var o=this.createAnimator(),s=this.createDelegates();Pz.animationFrameProvider.delegate=o.delegate,Mz.dateTimestampProvider.delegate=this,xz.immediateProvider.delegate=s.immediate,Rz.intervalProvider.delegate=s.interval,Nz.timeoutProvider.delegate=s.timeout,Az.performanceTimestampProvider.delegate=this;var a={cold:this.createColdObservable.bind(this),hot:this.createHotObservable.bind(this),flush:this.flush.bind(this),time:this.createTime.bind(this),expectObservable:this.expectObservable.bind(this),expectSubscriptions:this.expectSubscriptions.bind(this),animate:o.animate};try{var u=n(a);return this.flush(),u}finally{e.frameTimeFactor=r,this.maxFrames=i,this.runMode=!1,Pz.animationFrameProvider.delegate=void 0,Mz.dateTimestampProvider.delegate=void 0,xz.immediateProvider.delegate=void 0,Rz.intervalProvider.delegate=void 0,Nz.timeoutProvider.delegate=void 0,Az.performanceTimestampProvider.delegate=void 0}},e.frameTimeFactor=10,e}(Oz.VirtualTimeScheduler);_n.TestScheduler=SOe});var Fz=f(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0});f_.TestScheduler=void 0;var IOe=kz();Object.defineProperty(f_,"TestScheduler",{enumerable:!0,get:function(){return IOe.TestScheduler}})});var qz=f(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});var jz=w();we.Observable=jz.Observable;we.Subject=jz.Subject;var COe=hr();we.AnonymousSubject=COe.AnonymousSubject;var DOe=hr();we.config=DOe.config;q2();V2();W2();Y2();J2();eB();rB();sB();cB();fB();mB();_B();wB();IB();TB();AB();RB();FB();qB();VB();WB();YB();QB();XB();nU();cU();pU();bU();SU();DU();MU();xU();jU();BU();$U();GU();QU();XU();nV();oV();uV();dV();pV();vV();bV();SV();DV();MV();xV();jV();BV();HV();zV();KV();ZV();rH();sH();cH();fH();mH();_H();wH();IH();TH();AH();kH();LH();UH();$H();GH();QH();XH();n$();a$();f$();m$();_$();w$();I$();T$();A$();R$();F$();q$();V$();W$();Y$();J$();tW();iW();aW();lW();hW();gW();yW();SW();DW();MW();RW();FW();qW();VW();WW();YW();JW();e3();o3();u3();d3();p3();v3();b3();S3();D3();M3();x3();k3();L3();U3();$3();W3();Y3();J3();ez();rz();sz();cz();fz();mz();var Hr=w();we.Subscription=Hr.Subscription;we.ReplaySubject=Hr.ReplaySubject;we.BehaviorSubject=Hr.BehaviorSubject;we.Notification=Hr.Notification;we.EmptyError=Hr.EmptyError;we.ArgumentOutOfRangeError=Hr.ArgumentOutOfRangeError;we.ObjectUnsubscribedError=Hr.ObjectUnsubscribedError;we.UnsubscriptionError=Hr.UnsubscriptionError;we.pipe=Hr.pipe;var TOe=Fz();we.TestScheduler=TOe.TestScheduler;var Wl=w();we.Subscriber=Wl.Subscriber;we.AsyncSubject=Wl.AsyncSubject;we.ConnectableObservable=Wl.ConnectableObservable;we.TimeoutError=Wl.TimeoutError;we.VirtualTimeScheduler=Wl.VirtualTimeScheduler;var BT=jC();we.AjaxResponse=BT.AjaxResponse;we.AjaxError=BT.AjaxError;we.AjaxTimeoutError=BT.AjaxTimeoutError;var h_=w(),qT=hr(),Lz=hr();we.TimeInterval=Lz.TimeInterval;we.Timestamp=Lz.Timestamp;var OOe=T();we.operators=OOe;var MOe={asap:h_.asapScheduler,queue:h_.queueScheduler,animationFrame:h_.animationFrameScheduler,async:h_.asyncScheduler};we.Scheduler=MOe;var AOe={rxSubscriber:qT.rxSubscriber,observable:qT.observable,iterator:qT.iterator};we.Symbol=AOe});var pO=null;var w_=1,mO=Symbol("SIGNAL");function $t(t){let e=pO;return pO=t,e}var gO={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Jz(t){if(!(I_(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===w_)){if(!t.producerMustRecompute(t)&&!E_(t)){t.dirty=!1,t.lastCleanEpoch=w_;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=w_}}function vO(t){return t&&(t.nextProducerIndex=0),$t(t)}function _O(t,e){if($t(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(I_(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)S_(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function E_(t){td(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Jz(n),r!==n.version))return!0}return!1}function yO(t){if(td(t),I_(t))for(let e=0;e<t.producerNode.length;e++)S_(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function S_(t,e){if(Zz(t),td(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)S_(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];td(i),i.producerIndexOfThis[r]=e}}function I_(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function td(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Zz(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Xz(){throw new Error}var eG=Xz;function bO(t){eG=t}function L(t){return typeof t=="function"}function ds(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var nd=ds(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function no(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Be=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(L(r))try{r()}catch(o){e=o instanceof nd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{wO(o)}catch(s){e=e??[],s instanceof nd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new nd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)wO(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&no(n,e)}remove(e){let{_finalizers:n}=this;n&&no(n,e),e instanceof t&&e._removeParent(this)}};Be.EMPTY=(()=>{let t=new Be;return t.closed=!0,t})();var C_=Be.EMPTY;function rd(t){return t instanceof Be||t&&"closed"in t&&L(t.remove)&&L(t.add)&&L(t.unsubscribe)}function wO(t){L(t)?t():t.unsubscribe()}var yn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fs={setTimeout(t,e,...n){let{delegate:r}=fs;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=fs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function id(t){fs.setTimeout(()=>{let{onUnhandledError:e}=yn;if(e)e(t);else throw t})}function gr(){}var EO=D_("C",void 0,void 0);function SO(t){return D_("E",void 0,t)}function IO(t){return D_("N",t,void 0)}function D_(t,e,n){return{kind:t,value:e,error:n}}var ro=null;function hs(t){if(yn.useDeprecatedSynchronousErrorHandling){let e=!ro;if(e&&(ro={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ro;if(ro=null,n)throw r}}else t()}function CO(t){yn.useDeprecatedSynchronousErrorHandling&&ro&&(ro.errorThrown=!0,ro.error=t)}var io=class extends Be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,rd(e)&&e.add(this)):this.destination=rG}static create(e,n,r){return new vr(e,n,r)}next(e){this.isStopped?O_(IO(e),this):this._next(e)}error(e){this.isStopped?O_(SO(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?O_(EO,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tG=Function.prototype.bind;function T_(t,e){return tG.call(t,e)}var M_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){od(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){od(r)}else od(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){od(n)}}},vr=class extends io{constructor(e,n,r){super();let i;if(L(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&yn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&T_(e.next,o),error:e.error&&T_(e.error,o),complete:e.complete&&T_(e.complete,o)}):i=e}this.destination=new M_(i)}};function od(t){yn.useDeprecatedSynchronousErrorHandling?CO(t):id(t)}function nG(t){throw t}function O_(t,e){let{onStoppedNotification:n}=yn;n&&fs.setTimeout(()=>n(t,e))}var rG={closed:!0,next:gr,error:nG,complete:gr};var ps=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ht(t){return t}function A_(...t){return P_(t)}function P_(t){return t.length===0?ht:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var $=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=oG(n)?n:new vr(n,r,i);return hs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=DO(r),new r((i,o)=>{let s=new vr({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ps](){return this}pipe(...n){return P_(n)(this)}toPromise(n){return n=DO(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function DO(t){var e;return(e=t??yn.Promise)!==null&&e!==void 0?e:Promise}function iG(t){return t&&L(t.next)&&L(t.error)&&L(t.complete)}function oG(t){return t&&t instanceof io||iG(t)&&rd(t)}function x_(t){return L(t?.lift)}function z(t){return e=>{if(x_(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function V(t,e,n,r,i){return new R_(t,e,n,r,i)}var R_=class extends io{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ms(){return z((t,e)=>{let n=null;t._refCount++;let r=V(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var gs=class extends ${constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,x_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Be;let n=this.getSubject();e.add(this.source.subscribe(V(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Be.EMPTY)}return e}refCount(){return ms()(this)}};var TO=ds(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=(()=>{class t extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new sd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new TO}next(n){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?C_:(this.currentObservers=null,o.push(n),new Be(()=>{this.currentObservers=null,no(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return t.create=(e,n)=>new sd(e,n),t})(),sd=class extends me{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:C_}};var it=class extends me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Au={now(){return(Au.delegate||Date).now()},delegate:void 0};var ad=class extends me{constructor(e=1/0,n=1/0,r=Au){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}};var ud=class extends Be{constructor(e,n){super()}schedule(e,n=0){return this}};var Pu={setInterval(t,e,...n){let{delegate:r}=Pu;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Pu;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var vs=class extends ud{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Pu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Pu.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,no(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var _s=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};_s.now=Au.now;var ys=class extends _s{constructor(e,n=_s.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Gr=new ys(vs),N_=Gr;var cd=class extends vs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ld=class extends ys{};var k_=new ld(cd);var ot=new $(t=>t.complete());function dd(t){return t&&L(t.schedule)}function F_(t){return t[t.length-1]}function bs(t){return L(F_(t))?t.pop():void 0}function Un(t){return dd(F_(t))?t.pop():void 0}function OO(t,e){return typeof F_(t)=="number"?t.pop():e}var ws=t=>t&&typeof t.length=="number"&&typeof t!="function";function fd(t){return L(t?.then)}function hd(t){return L(t[ps])}function pd(t){return Symbol.asyncIterator&&L(t?.[Symbol.asyncIterator])}function md(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sG(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gd=sG();function vd(t){return L(t?.[gd])}function _d(t){return ZT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ql(n.read());if(i)return yield Ql(void 0);yield yield Ql(r)}}finally{n.releaseLock()}})}function yd(t){return L(t?.getReader)}function ue(t){if(t instanceof $)return t;if(t!=null){if(hd(t))return aG(t);if(ws(t))return uG(t);if(fd(t))return cG(t);if(pd(t))return MO(t);if(vd(t))return lG(t);if(yd(t))return dG(t)}throw md(t)}function aG(t){return new $(e=>{let n=t[ps]();if(L(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uG(t){return new $(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function cG(t){return new $(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,id)})}function lG(t){return new $(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function MO(t){return new $(e=>{fG(t,e).catch(n=>e.error(n))})}function dG(t){return MO(_d(t))}function fG(t,e){var n,r,i,o;return JT(this,void 0,void 0,function*(){try{for(n=XT(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function jt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function tn(t,e=0){return z((n,r)=>{n.subscribe(V(r,i=>jt(r,t,()=>r.next(i),e),()=>jt(r,t,()=>r.complete(),e),i=>jt(r,t,()=>r.error(i),e)))})}function bn(t,e=0){return z((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function AO(t,e){return ue(t).pipe(bn(e),tn(e))}function PO(t,e){return ue(t).pipe(bn(e),tn(e))}function xO(t,e){return new $(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function RO(t,e){return new $(n=>{let r;return jt(n,e,()=>{r=t[gd](),jt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>L(r?.return)&&r.return()})}function bd(t,e){if(!t)throw new Error("Iterable cannot be null");return new $(n=>{jt(n,e,()=>{let r=t[Symbol.asyncIterator]();jt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function NO(t,e){return bd(_d(t),e)}function kO(t,e){if(t!=null){if(hd(t))return AO(t,e);if(ws(t))return xO(t,e);if(fd(t))return PO(t,e);if(pd(t))return bd(t,e);if(vd(t))return RO(t,e);if(yd(t))return NO(t,e)}throw md(t)}function Te(t,e){return e?kO(t,e):ue(t)}function k(...t){let e=Un(t);return Te(t,e)}function Es(t,e){let n=L(t)?t:()=>t,r=i=>i.error(n());return new $(e?i=>e.schedule(r,0,i):r)}function j_(t){return!!t&&(t instanceof $||L(t.lift)&&L(t.subscribe))}var _r=ds(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function FO(t){return t instanceof Date&&!isNaN(t)}function q(t,e){return z((n,r)=>{let i=0;n.subscribe(V(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:hG}=Array;function pG(t,e){return hG(e)?t(...e):t(e)}function wd(t){return q(e=>pG(t,e))}var{isArray:mG}=Array,{getPrototypeOf:gG,prototype:vG,keys:_G}=Object;function jO(t){if(t.length===1){let e=t[0];if(mG(e))return{args:e,keys:null};if(yG(e)){let n=_G(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function yG(t){return t&&typeof t=="object"&&gG(t)===vG}function LO(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ss(...t){let e=Un(t),n=bs(t),{args:r,keys:i}=jO(t);if(r.length===0)return Te([],e);let o=new $(bG(r,e,i?s=>LO(i,s):ht));return n?o.pipe(wd(n)):o}function bG(t,e,n=ht){return r=>{qO(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)qO(e,()=>{let c=Te(t[u],e),l=!1;c.subscribe(V(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function qO(t,e,n){t?jt(n,t,e):e()}function BO(t,e,n,r,i,o,s,a){let u=[],c=0,l=0,d=!1,h=()=>{d&&!u.length&&!c&&e.complete()},m=_=>c<r?g(_):u.push(_),g=_=>{o&&e.next(_),c++;let y=!1;ue(n(_,l++)).subscribe(V(e,b=>{i?.(b),o?m(b):e.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){let b=u.shift();s?jt(e,s,()=>g(b)):g(b)}h()}catch(b){e.error(b)}}))};return t.subscribe(V(e,m,()=>{d=!0,h()})),()=>{a?.()}}function xe(t,e,n=1/0){return L(e)?xe((r,i)=>q((o,s)=>e(r,o,i,s))(ue(t(r,i))),n):(typeof e=="number"&&(n=e),z((r,i)=>BO(r,i,t,n)))}function Yr(t=1/0){return xe(ht,t)}function UO(){return Yr(1)}function Vn(...t){return UO()(Te(t,Un(t)))}function Ed(t){return new $(e=>{ue(t()).subscribe(e)})}var wG=["addListener","removeListener"],EG=["addEventListener","removeEventListener"],SG=["on","off"];function pt(t,e,n,r){if(L(n)&&(r=n,n=void 0),r)return pt(t,e,n).pipe(wd(r));let[i,o]=DG(t)?EG.map(s=>a=>t[s](e,a,n)):IG(t)?wG.map(VO(t,e)):CG(t)?SG.map(VO(t,e)):[];if(!i&&ws(t))return xe(s=>pt(s,e,n))(ue(t));if(!i)throw new TypeError("Invalid event target");return new $(s=>{let a=(...u)=>s.next(1<u.length?u:u[0]);return i(a),()=>o(a)})}function VO(t,e){return n=>r=>t[n](e,r)}function IG(t){return L(t.addListener)&&L(t.removeListener)}function CG(t){return L(t.on)&&L(t.off)}function DG(t){return L(t.addEventListener)&&L(t.removeEventListener)}function xu(t=0,e,n=N_){let r=-1;return e!=null&&(dd(e)?n=e:r=e),new $(i=>{let o=FO(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function oo(...t){let e=Un(t),n=OO(t,1/0),r=t;return r.length?r.length===1?ue(r[0]):Yr(n)(Te(r,e)):ot}var{isArray:TG}=Array;function Sd(t){return t.length===1&&TG(t[0])?t[0]:t}function Ue(t,e){return z((n,r)=>{let i=0;n.subscribe(V(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Id(...t){return t=Sd(t),t.length===1?ue(t[0]):new $(OG(t))}function OG(t){return e=>{let n=[];for(let r=0;n&&!e.closed&&r<t.length;r++)n.push(ue(t[r]).subscribe(V(e,i=>{if(n){for(let o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}e.next(i)})))}}function Ru(...t){let e=bs(t),n=Sd(t);return n.length?new $(r=>{let i=n.map(()=>[]),o=n.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<n.length;s++)ue(n[s]).subscribe(V(r,a=>{if(i[s].push(a),i.every(u=>u.length)){let u=i.map(c=>c.shift());r.next(e?e(...u):u),i.some((c,l)=>!c.length&&o[l])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):ot}function Kr(t){return z((e,n)=>{let r=null,i=!1,o;r=e.subscribe(V(n,void 0,void 0,s=>{o=ue(t(s,Kr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function HO(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(V(s,l=>{let d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function so(t,e){return L(e)?xe(t,e,1):xe(t,1)}function Qr(t){return z((e,n)=>{let r=!1;e.subscribe(V(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ge(t){return t<=0?()=>ot:z((e,n)=>{let r=0;e.subscribe(V(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $O(){return z((t,e)=>{t.subscribe(V(e,gr))})}function Nu(t){return q(()=>t)}function L_(t,e){return e?n=>Vn(e.pipe(Ge(1),$O()),n.pipe(L_(t))):xe((n,r)=>ue(t(n,r)).pipe(Ge(1),Nu(n)))}function q_(t,e=Gr){let n=xu(t,e);return L_(()=>n)}function Cd(t,e=ht){return t=t??MG,z((n,r)=>{let i,o=!0;n.subscribe(V(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function MG(t,e){return t===e}function Dd(t=AG){return z((e,n)=>{let r=!1;e.subscribe(V(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function AG(){return new _r}function B_(...t){return e=>Vn(e,k(...t))}function Is(t){return z((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function nn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ue((i,o)=>t(i,o,r)):ht,Ge(1),n?Qr(e):Dd(()=>new _r))}function Cs(t){return t<=0?()=>ot:z((e,n)=>{let r=[];e.subscribe(V(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function U_(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ue((i,o)=>t(i,o,r)):ht,Cs(1),n?Qr(e):Dd(()=>new _r))}function Ds(t,e){return z(HO(t,e,arguments.length>=2,!0))}function ku(t={}){let{connector:e=()=>new me,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,c=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},m=()=>{h(),s=u=void 0,l=d=!1},g=()=>{let _=s;m(),_?.unsubscribe()};return z((_,y)=>{c++,!d&&!l&&h();let b=u=u??e();y.add(()=>{c--,c===0&&!d&&!l&&(a=V_(g,i))}),b.subscribe(y),!s&&c>0&&(s=new vr({next:I=>b.next(I),error:I=>{d=!0,h(),a=V_(m,n,I),b.error(I)},complete:()=>{l=!0,h(),a=V_(m,r),b.complete()}}),ue(_).subscribe(s))})(o)}}function V_(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new vr({next:()=>{r.unsubscribe(),t()}});return ue(e(...n)).subscribe(r)}function Td(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,ku({connector:()=>new ad(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function H_(t){return z((e,n)=>{let r=!1,i=0;e.subscribe(V(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}function Od(...t){let e=Un(t);return z((n,r)=>{(e?Vn(t,n,e):Vn(t,n)).subscribe(r)})}function _e(t,e){return z((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(V(r,u=>{i?.unsubscribe();let c=0,l=o++;ue(t(u,l)).subscribe(i=V(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Md(t,e){return L(e)?_e(()=>t,e):_e(()=>t)}function Ze(t){return z((e,n)=>{ue(t).subscribe(V(n,()=>n.complete(),gr)),!n.closed&&e.subscribe(n)})}function Fe(t,e,n){let r=L(t)||e||n?{next:t,error:e,complete:n}:t;return r?z((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(V(o,u=>{var c;(c=r.next)===null||c===void 0||c.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,u),o.error(u)},()=>{var u,c;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ht}function ao(...t){let e=bs(t);return z((n,r)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let u=0;u<i;u++)ue(t[u]).subscribe(V(r,c=>{o[u]=c,!a&&!s[u]&&(s[u]=!0,(a=s.every(ht))&&(s=null))},gr));n.subscribe(V(r,u=>{if(a){let c=[u,...o];r.next(e?e(...c):c)}}))})}var DM="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(Yy(e,n)),this.code=e}};function Yy(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function PG(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function iy(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var xG=Ie({__forward_ref__:Ie});function uf(t){return t.__forward_ref__=uf,t.toString=function(){return Dt(this())},t}function Ct(t){return TM(t)?t():t}function TM(t){return typeof t=="function"&&t.hasOwnProperty(xG)&&t.__forward_ref__===uf}function OM(t){return t&&!!t.\u0275providers}var RG=Ie({\u0275cmp:Ie}),NG=Ie({\u0275dir:Ie}),kG=Ie({\u0275pipe:Ie}),FG=Ie({\u0275mod:Ie}),Ud=Ie({\u0275fac:Ie}),Fu=Ie({__NG_ELEMENT_ID__:Ie}),WO=Ie({__NG_ENV_ID__:Ie});function cf(t){return typeof t=="string"?t:t==null?"":String(t)}function jG(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():cf(t)}function LG(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,`Circular dependency in DI detected for ${t}${n}`)}function Ky(t,e){throw new B(-201,!1)}function qG(t,e){t==null&&BG(e,t,null,"!=")}function BG(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function P(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function oe(t){return{providers:t.providers||[],imports:t.imports||[]}}function lf(t){return zO(t,AM)||zO(t,PM)}function MM(t){return lf(t)!==null}function zO(t,e){return t.hasOwnProperty(e)?t[e]:null}function UG(t){let e=t&&(t[AM]||t[PM]);return e||null}function GO(t){return t&&(t.hasOwnProperty(YO)||t.hasOwnProperty(VG))?t[YO]:null}var AM=Ie({\u0275prov:Ie}),YO=Ie({\u0275inj:Ie}),PM=Ie({ngInjectableDef:Ie}),VG=Ie({ngInjectorDef:Ie}),te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{}),oy;function xM(){return oy}function rn(t){let e=oy;return oy=t,e}function RM(t,e,n){let r=lf(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&te.Optional)return null;if(e!==void 0)return e;Ky(t,"Injector")}var Tt=globalThis;var j=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var HG={},Lu=HG,sy="__NG_DI_FLAG__",Vd="ngTempTokenPath",$G="ngTokenPath",WG=/\n/gm,zG="\u0275",KO="__source",Ps;function GG(){return Ps}function Jr(t){let e=Ps;return Ps=t,e}function YG(t,e=te.Default){if(Ps===void 0)throw new B(-203,!1);return Ps===null?RM(t,void 0,e):Ps.get(t,e&te.Optional?null:void 0,e)}function O(t,e=te.Default){return(xM()||YG)(Ct(t),e)}function D(t,e=te.Default){return O(t,df(e))}function df(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ay(t){let e=[];for(let n=0;n<t.length;n++){let r=Ct(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=te.Default;for(let s=0;s<r.length;s++){let a=r[s],u=KG(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(O(i,o))}else e.push(O(r))}return e}function NM(t,e){return t[sy]=e,t.prototype[sy]=e,t}function KG(t){return t[sy]}function QG(t,e,n,r){let i=t[Vd];throw e[KO]&&i.unshift(e[KO]),t.message=JG(`
`+t.message,i,n,r),t[$G]=i,t[Vd]=null,t}function JG(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==zG?t.slice(2):t;let i=Dt(e);if(Array.isArray(e))i=e.map(Dt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Dt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(WG,`
  `)}`}function Ku(t){return{toString:t}.toString()}var kM=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(kM||{}),zn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(zn||{}),Rs={},Lt=[],zt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(zt||{});function FM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function uy(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];ZG(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function jM(t){return t===3||t===4||t===6}function ZG(t){return t.charCodeAt(0)===64}function qu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?QO(t,n,i,null,e[++r]):QO(t,n,i,null,null))}}return t}function QO(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var LM="ng-template";function XG(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&FM(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function qM(t){return t.type===4&&t.value!==LM}function e8(t,e,n){let r=t.type===4&&!n?LM:t.value;return e===r}function t8(t,e,n){let r=4,i=t.attrs||[],o=i8(i),s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!wn(r)&&!wn(u))return!1;if(s&&wn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!e8(t,u,n)||u===""&&e.length===1){if(wn(r))return!1;s=!0}}else{let c=r&8?u:e[++a];if(r&8&&t.attrs!==null){if(!XG(t.attrs,c,n)){if(wn(r))return!1;s=!0}continue}let l=r&8?"class":u,d=n8(l,i,qM(t),n);if(d===-1){if(wn(r))return!1;s=!0;continue}if(c!==""){let h;d>o?h="":h=i[d+1].toLowerCase();let m=r&8?h:null;if(m&&FM(m,c,0)!==-1||r&2&&c!==h){if(wn(r))return!1;s=!0}}}}return wn(r)||s}function wn(t){return(t&1)===0}function n8(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return o8(e,t)}function BM(t,e,n=!1){for(let r=0;r<e.length;r++)if(t8(t,e[r],n))return!0;return!1}function r8(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function i8(t){for(let e=0;e<t.length;e++){let n=t[e];if(jM(n))return e}return t.length}function o8(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function s8(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function JO(t,e){return t?":not("+e.trim()+")":e}function a8(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!wn(s)&&(e+=JO(o,i),i=""),r=s,o=o||!wn(r);n++}return i!==""&&(e+=JO(o,i)),e}function u8(t){return t.map(a8).join(",")}function c8(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!wn(i))break;i=o}r++}return{attrs:e,classes:n}}function ye(t){return Ku(()=>{let e=WM(t),n=De(N({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===kM.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||zn.Emulated,styles:t.styles||Lt,_:null,schemas:t.schemas||null,tView:null,id:""});zM(n);let r=t.dependencies;return n.directiveDefs=XO(r,!1),n.pipeDefs=XO(r,!0),n.id=f8(n),n})}function l8(t){return yr(t)||UM(t)}function d8(t){return t!==null}function se(t){return Ku(()=>({type:t.type,bootstrap:t.bootstrap||Lt,declarations:t.declarations||Lt,imports:t.imports||Lt,exports:t.exports||Lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ZO(t,e){if(t==null)return Rs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=zt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==zt.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Tn(t){return Ku(()=>{let e=WM(t);return zM(e),e})}function yr(t){return t[RG]||null}function UM(t){return t[NG]||null}function VM(t){return t[kG]||null}function HM(t){let e=yr(t)||UM(t)||VM(t);return e!==null?e.standalone:!1}function $M(t,e){let n=t[FG]||null;if(!n&&e===!0)throw new Error(`Type ${Dt(t)} does not have '\u0275mod' property.`);return n}function WM(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Rs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ZO(t.inputs,e),outputs:ZO(t.outputs),debugInfo:null}}function zM(t){t.features?.forEach(e=>e(t))}function XO(t,e){if(!t)return null;let n=e?VM:l8;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(d8)}function f8(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Er=0,ne=1,W=2,mt=3,Sn=4,Gt=5,Bu=6,Uu=7,In=8,Ns=9,br=10,Ve=11,Vu=12,eM=13,Us=14,Cn=15,Qu=16,Ts=17,Wn=18,ff=19,GM=20,Zr=21,$_=22,lo=23,Dn=25,YM=1;var fo=7,Hd=8,ks=9,Wt=10,Qy=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Qy||{});function uo(t){return Array.isArray(t)&&typeof t[YM]=="object"}function Sr(t){return Array.isArray(t)&&t[YM]===!0}function Jy(t){return(t.flags&4)!==0}function hf(t){return t.componentOffset>-1}function pf(t){return(t.flags&1)===1}function Xr(t){return!!t.template}function h8(t){return(t[W]&512)!==0}function Fs(t,e){let n=t.hasOwnProperty(Ud);return n?t[Ud]:null}var cy=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function KM(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function yo(){return QM}function QM(t){return t.type.prototype.ngOnChanges&&(t.setInput=m8),p8}yo.ngInherit=!0;function p8(){let t=ZM(this),e=t?.current;if(e){let n=t.previous;if(n===Rs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function m8(t,e,n,r,i){let o=this.declaredInputs[r],s=ZM(t)||g8(t,{previous:Rs,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new cy(c&&c.currentValue,n,u===Rs),KM(t,e,i,n)}var JM="__ngSimpleChanges__";function ZM(t){return t[JM]||null}function g8(t,e){return t[JM]=e}var tM=null;var Hn=function(t,e,n){tM?.(t,e,n)},v8="svg",_8="math",y8=!1;function b8(){return y8}function Gn(t){for(;Array.isArray(t);)t=t[Er];return t}function XM(t,e){return Gn(e[t])}function on(t,e){return Gn(e[t.index])}function eA(t,e){return t.data[e]}function w8(t,e){return t[e]}function ii(t,e){let n=e[t];return uo(n)?n:n[Er]}function E8(t){return(t[W]&4)===4}function Zy(t){return(t[W]&128)===128}function S8(t){return Sr(t[mt])}function js(t,e){return e==null?null:t[e]}function tA(t){t[Ts]=0}function I8(t){t[W]&1024||(t[W]|=1024,Zy(t)&&Hu(t))}function C8(t,e){for(;t>0;)e=e[Us],t--;return e}function nA(t){return t[W]&9216||t[lo]?.dirty}function ly(t){nA(t)?Hu(t):t[W]&64&&(b8()?(t[W]|=1024,Hu(t)):t[br].changeDetectionScheduler?.notify())}function Hu(t){t[br].changeDetectionScheduler?.notify();let e=$u(t);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!Zy(e)));)e=$u(e)}function rA(t,e){if((t[W]&256)===256)throw new B(911,!1);t[Zr]===null&&(t[Zr]=[]),t[Zr].push(e)}function D8(t,e){if(t[Zr]===null)return;let n=t[Zr].indexOf(e);n!==-1&&t[Zr].splice(n,1)}function $u(t){let e=t[mt];return Sr(e)?e[mt]:e}var re={lFrame:dA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function T8(){return re.lFrame.elementDepthCount}function O8(){re.lFrame.elementDepthCount++}function M8(){re.lFrame.elementDepthCount--}function iA(){return re.bindingsEnabled}function oA(){return re.skipHydrationRootTNode!==null}function A8(t){return re.skipHydrationRootTNode===t}function P8(){re.skipHydrationRootTNode=null}function de(){return re.lFrame.lView}function Xe(){return re.lFrame.tView}function Xy(t){return re.lFrame.contextLView=t,t[In]}function eb(t){return re.lFrame.contextLView=null,t}function Ot(){let t=sA();for(;t!==null&&t.type===64;)t=t.parent;return t}function sA(){return re.lFrame.currentTNode}function x8(){let t=re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function bo(t,e){let n=re.lFrame;n.currentTNode=t,n.isParent=e}function tb(){return re.lFrame.isParent}function nb(){re.lFrame.isParent=!1}function R8(){return re.lFrame.contextLView}function N8(t){return re.lFrame.bindingIndex=t}function mf(){return re.lFrame.bindingIndex++}function aA(t){let e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function k8(){return re.lFrame.inI18n}function F8(t,e){let n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,dy(e)}function j8(){return re.lFrame.currentDirectiveIndex}function dy(t){re.lFrame.currentDirectiveIndex=t}function L8(t){let e=re.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function uA(){return re.lFrame.currentQueryIndex}function rb(t){re.lFrame.currentQueryIndex=t}function q8(t){let e=t[ne];return e.type===2?e.declTNode:e.type===1?t[Gt]:null}function cA(t,e,n){if(n&te.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&te.Host);)if(i=q8(o),i===null||(o=o[Us],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=re.lFrame=lA();return r.currentTNode=e,r.lView=t,!0}function ib(t){let e=lA(),n=t[ne];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lA(){let t=re.lFrame,e=t===null?null:t.child;return e===null?dA(t):e}function dA(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function fA(){let t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var hA=fA;function ob(){let t=fA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function B8(t){return(re.lFrame.contextLView=C8(t,re.lFrame.contextLView))[In]}function wo(){return re.lFrame.selectedIndex}function ho(t){re.lFrame.selectedIndex=t}function sb(){let t=re.lFrame;return eA(t.tView,t.selectedIndex)}function U8(){return re.lFrame.currentNamespace}var pA=!0;function gf(){return pA}function vf(t){pA=t}function V8(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=QM(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function _f(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function kd(t,e,n){mA(t,e,3,n)}function Fd(t,e,n,r){(t[W]&3)===n&&mA(t,e,n,r)}function W_(t,e){let n=t[W];(n&3)===e&&(n&=16383,n+=1,t[W]=n)}function mA(t,e,n,r){let i=r!==void 0?t[Ts]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Ts]+=65536),(a<o||o==-1)&&(H8(t,n,e,u),t[Ts]=(t[Ts]&4294901760)+u+2),u++}function nM(t,e){Hn(4,t,e);let n=$t(null);try{e.call(t)}finally{$t(n),Hn(5,t,e)}}function H8(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[W]>>14<t[Ts]>>16&&(t[W]&3)===e&&(t[W]+=16384,nM(a,o)):nM(a,o)}var xs=-1,po=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function $8(t){return t instanceof po}function W8(t){return(t.flags&8)!==0}function z8(t){return(t.flags&16)!==0}function gA(t){return t!==xs}function $d(t){return t&32767}function G8(t){return t>>16}function Wd(t,e){let n=G8(t),r=e;for(;n>0;)r=r[Us],n--;return r}var fy=!0;function rM(t){let e=fy;return fy=t,e}var Y8=256,vA=Y8-1,_A=5,K8=0,$n={};function Q8(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fu)&&(r=n[Fu]),r==null&&(r=n[Fu]=K8++);let i=r&vA,o=1<<i;e.data[t+(i>>_A)]|=o}function zd(t,e){let n=yA(t,e);if(n!==-1)return n;let r=e[ne];r.firstCreatePass&&(t.injectorIndex=e.length,z_(r.data,t),z_(e,null),z_(r.blueprint,null));let i=ab(t,e),o=t.injectorIndex;if(gA(i)){let s=$d(i),a=Wd(i,e),u=a[ne].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function z_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yA(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ab(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=IA(i),r===null)return xs;if(n++,i=i[Us],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return xs}function hy(t,e,n){Q8(t,e,n)}function J8(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(jM(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function bA(t,e,n){if(n&te.Optional||t!==void 0)return t;Ky(e,"NodeInjector")}function wA(t,e,n,r){if(n&te.Optional&&r===void 0&&(r=null),!(n&(te.Self|te.Host))){let i=t[Ns],o=rn(void 0);try{return i?i.get(e,r,n&te.Optional):RM(e,r,n&te.Optional)}finally{rn(o)}}return bA(r,e,n)}function EA(t,e,n,r=te.Default,i){if(t!==null){if(e[W]&2048&&!(r&te.Self)){let s=t4(t,e,n,r,$n);if(s!==$n)return s}let o=SA(t,e,n,r,$n);if(o!==$n)return o}return wA(e,n,r,i)}function SA(t,e,n,r,i){let o=X8(n);if(typeof o=="function"){if(!cA(e,t,r))return r&te.Host?bA(i,n,r):wA(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&te.Optional))Ky(n);else return s}finally{hA()}}else if(typeof o=="number"){let s=null,a=yA(t,e),u=xs,c=r&te.Host?e[Cn][Gt]:null;for((a===-1||r&te.SkipSelf)&&(u=a===-1?ab(t,e):e[a+8],u===xs||!oM(r,!1)?a=-1:(s=e[ne],a=$d(u),e=Wd(u,e)));a!==-1;){let l=e[ne];if(iM(o,a,l.data)){let d=Z8(a,e,n,s,r,c);if(d!==$n)return d}u=e[a+8],u!==xs&&oM(r,e[ne].data[a+8]===c)&&iM(o,a,e)?(s=l,a=$d(u),e=Wd(u,e)):a=-1}}return i}function Z8(t,e,n,r,i,o){let s=e[ne],a=s.data[t+8],u=r==null?hf(a)&&fy:r!=s&&(a.type&3)!==0,c=i&te.Host&&o===a,l=jd(a,s,n,u,c);return l!==null?mo(e,s,l,a):$n}function jd(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,c=t.directiveEnd,l=o>>20,d=r?a:a+l,h=i?a+l:c;for(let m=d;m<h;m++){let g=s[m];if(m<u&&n===g||m>=u&&g.type===n)return m}if(i){let m=s[u];if(m&&Xr(m)&&m.type===n)return u}return null}function mo(t,e,n,r){let i=t[n],o=e.data;if($8(i)){let s=i;s.resolving&&LG(jG(o[n]));let a=rM(s.canSeeViewProviders);s.resolving=!0;let u,c=s.injectImpl?rn(s.injectImpl):null,l=cA(t,r,te.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&V8(n,o[n],e)}finally{c!==null&&rn(c),rM(a),s.resolving=!1,hA()}}return i}function X8(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Fu)?t[Fu]:void 0;return typeof e=="number"?e>=0?e&vA:e4:e}function iM(t,e,n){let r=1<<t;return!!(n[e+(t>>_A)]&r)}function oM(t,e){return!(t&te.Self)&&!(t&te.Host&&e)}var co=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return EA(this._tNode,this._lView,e,df(r),n)}};function e4(){return new co(Ot(),de())}function Ju(t){return Ku(()=>{let e=t.prototype.constructor,n=e[Ud]||py(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ud]||py(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function py(t){return TM(t)?()=>{let e=py(Ct(t));return e&&e()}:Fs(t)}function t4(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[W]&2048&&!(s[W]&512);){let a=SA(o,s,n,r|te.Self,$n);if(a!==$n)return a;let u=o.parent;if(!u){let c=s[GM];if(c){let l=c.get(n,$n,r);if(l!==$n)return l}u=IA(s),s=s[Us]}o=u}return i}function IA(t){let e=t[ne],n=e.type;return n===2?e.declTNode:n===1?t[Gt]:null}function yf(t){return J8(Ot(),t)}var Ad="__parameters__";function n4(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function CA(t,e,n){return Ku(()=>{let r=n4(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,c,l){let d=u.hasOwnProperty(Ad)?u[Ad]:Object.defineProperty(u,Ad,{value:[]})[Ad];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function r4(t){let e=Tt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function i4(t){return typeof t=="function"}function o4(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function s4(t){return t.flat(Number.POSITIVE_INFINITY)}function ub(t,e){t.forEach(n=>Array.isArray(n)?ub(n,e):e(n))}function DA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Gd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function a4(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function u4(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function cb(t,e,n){let r=Zu(t,e);return r>=0?t[r|1]=n:(r=~r,u4(t,r,e,n)),r}function G_(t,e){let n=Zu(t,e);if(n>=0)return t[n|1]}function Zu(t,e){return c4(t,e,1)}function c4(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Xu=NM(CA("Optional"),8);var TA=NM(CA("SkipSelf"),4);function l4(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(p4))}return o}return Yd.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(c=>{i.template=c}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),s.push(r(d).then(m=>{a[c+h]=m,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));let u=Promise.all(s).then(()=>m4(o));e.push(u)}),f4(),Promise.all(e).then(()=>{})}var Yd=new Map,d4=new Set;function f4(){let t=Yd;return Yd=new Map,t}function h4(){return Yd.size===0}function p4(t){return typeof t=="string"?t:t.text()}function m4(t){d4.delete(t)}var Ls=new j("ENVIRONMENT_INITIALIZER"),OA=new j("INJECTOR",-1),MA=new j("INJECTOR_DEF_TYPES"),Kd=class{get(e,n=Lu){if(n===Lu){let r=new Error(`NullInjectorError: No provider for ${Dt(e)}!`);throw r.name="NullInjectorError",r}return n}};function g4(...t){return{\u0275providers:AA(!0,t),\u0275fromNgModule:!0}}function AA(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return ub(e,s=>{let a=s;my(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&PA(i,o),n}function PA(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];lb(i,o=>{e(o,r)})}}function my(t,e,n,r){if(t=Ct(t),!t)return!1;let i=null,o=GO(t),s=!o&&yr(t);if(!o&&!s){let u=t.ngModule;if(o=GO(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of u)my(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{ub(o.imports,l=>{my(l,e,n,r)&&(c||=[],c.push(l))})}finally{}c!==void 0&&PA(c,e)}if(!a){let c=Fs(i)||(()=>new i);e({provide:i,useFactory:c,deps:Lt},i),e({provide:MA,useValue:i,multi:!0},i),e({provide:Ls,useValue:()=>O(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let c=t;lb(u,l=>{e(l,c)})}}else return!1;return i!==t&&t.providers!==void 0}function lb(t,e){for(let n of t)OM(n)&&(n=n.\u0275providers),Array.isArray(n)?lb(n,e):e(n)}var v4=Ie({provide:String,useValue:Ie});function xA(t){return t!==null&&typeof t=="object"&&v4 in t}function _4(t){return!!(t&&t.useExisting)}function y4(t){return!!(t&&t.useFactory)}function qs(t){return typeof t=="function"}function b4(t){return!!t.useClass}var bf=new j("Set Injector scope."),Ld={},w4={},Y_;function wf(){return Y_===void 0&&(Y_=new Kd),Y_}var bt=class{},Wu=class extends bt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vy(e,s=>this.processProvider(s)),this.records.set(OA,Os(void 0,this)),i.has("environment")&&this.records.set(bt,Os(void 0,this));let o=this.records.get(bf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(MA,Lt,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Jr(this),r=rn(void 0),i;try{return e()}finally{Jr(n),rn(r)}}get(e,n=Lu,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(WO))return e[WO](this);r=df(r);let i,o=Jr(this),s=rn(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(u===void 0){let c=D4(e)&&lf(e);c&&this.injectableDefInScope(c)?u=Os(gy(e),Ld):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&te.Self?wf():this.parent;return n=r&te.Optional&&n===Lu?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Vd]=a[Vd]||[]).unshift(Dt(e)),o)throw a;return QG(a,e,"R3InjectorError",this.source)}else throw a}finally{rn(s),Jr(o)}}resolveInjectorInitializers(){let e=Jr(this),n=rn(void 0),r;try{let i=this.get(Ls,Lt,te.Self);for(let o of i)o()}finally{Jr(e),rn(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=Ct(e);let n=qs(e)?e:Ct(e&&e.provide),r=S4(e);if(!qs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Os(void 0,Ld,!0),i.factory=()=>ay(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Ld&&(n.value=w4,n.value=n.factory()),typeof n.value=="object"&&n.value&&C4(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function gy(t){let e=lf(t),n=e!==null?e.factory:Fs(t);if(n!==null)return n;if(t instanceof j)throw new B(204,!1);if(t instanceof Function)return E4(t);throw new B(204,!1)}function E4(t){if(t.length>0)throw new B(204,!1);let n=UG(t);return n!==null?()=>n.factory(t):()=>new t}function S4(t){if(xA(t))return Os(void 0,t.useValue);{let e=RA(t);return Os(e,Ld)}}function RA(t,e,n){let r;if(qs(t)){let i=Ct(t);return Fs(i)||gy(i)}else if(xA(t))r=()=>Ct(t.useValue);else if(y4(t))r=()=>t.useFactory(...ay(t.deps||[]));else if(_4(t))r=()=>O(Ct(t.useExisting));else{let i=Ct(t&&(t.useClass||t.provide));if(I4(t))r=()=>new i(...ay(t.deps));else return Fs(i)||gy(i)}return r}function Os(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function I4(t){return!!t.deps}function C4(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function D4(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function vy(t,e){for(let n of t)Array.isArray(n)?vy(n,e):n&&OM(n)?vy(n.\u0275providers,e):e(n)}function oi(t,e){t instanceof Wu&&t.assertNotDestroyed();let n,r=Jr(t),i=rn(void 0);try{return e()}finally{Jr(r),rn(i)}}function T4(t){if(!xM()&&!GG())throw new B(-203,!1)}function sM(t,e=null,n=null,r){let i=NA(t,e,n,r);return i.resolveInjectorInitializers(),i}function NA(t,e=null,n=null,r,i=new Set){let o=[n||Lt,g4(t)];return r=r||(typeof t=="object"?void 0:Dt(t)),new Wu(o,e||wf(),r||null,i)}var Mt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return sM({name:""},i,r,"");{let o=r.name??"";return sM({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Lu,e.NULL=new Kd,e.\u0275prov=P({token:e,providedIn:"any",factory:()=>O(OA)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var _y;function kA(t){_y=t}function O4(){if(_y!==void 0)return _y;if(typeof document<"u")return document;throw new B(210,!1)}var Ef=new j("AppId",{providedIn:"root",factory:()=>M4}),M4="ng",db=new j("Platform Initializer"),At=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var fb=new j("CSP nonce",{providedIn:"root",factory:()=>O4().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function FA(t){return t instanceof Function?t():t}function A4(t){return(t??D(Mt)).get(At)==="browser"}function jA(t){return(t.flags&128)===128}var wr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(wr||{}),P4=/^>|^->|<!--|-->|--!>|<!-$/g,x4=/(<|>)/g,R4="\u200B$1\u200B";function N4(t){return t.replace(P4,e=>e.replace(x4,R4))}var LA=new Map,k4=0;function F4(){return k4++}function j4(t){LA.set(t[ff],t)}function L4(t){LA.delete(t[ff])}var aM="__ngContext__";function ei(t,e){uo(e)?(t[aM]=e[ff],j4(e)):t[aM]=e}var q4;function hb(t,e){return q4(t,e)}function Ms(t,e,n,r,i){if(r!=null){let o,s=!1;Sr(r)?o=r:uo(r)&&(s=!0,r=r[Er]);let a=Gn(r);t===0&&n!==null?i==null?$A(e,n,a):Qd(e,n,a,i||null,!0):t===1&&n!==null?Qd(e,n,a,i||null,!0):t===2?t5(e,a,s):t===3&&e.destroyNode(a),o!=null&&r5(e,t,o,n,i)}}function B4(t,e){return t.createText(e)}function U4(t,e,n){t.setValue(e,n)}function V4(t,e){return t.createComment(N4(e))}function qA(t,e,n){return t.createElement(e,n)}function H4(t,e){BA(t,e),e[Er]=null,e[Gt]=null}function $4(t,e,n,r,i,o){r[Er]=i,r[Gt]=e,If(t,r,n,1,i,o)}function BA(t,e){If(t,e,e[Ve],2,null,null)}function W4(t){let e=t[Vu];if(!e)return K_(t[ne],t);for(;e;){let n=null;if(uo(e))n=e[Vu];else{let r=e[Wt];r&&(n=r)}if(!n){for(;e&&!e[Sn]&&e!==t;)uo(e)&&K_(e[ne],e),e=e[mt];e===null&&(e=t),uo(e)&&K_(e[ne],e),n=e&&e[Sn]}e=n}}function z4(t,e,n,r){let i=Wt+r,o=n.length;r>0&&(n[i-1][Sn]=e),r<o-Wt?(e[Sn]=n[i],DA(n,Wt+r,e)):(n.push(e),e[Sn]=null),e[mt]=n;let s=e[Qu];s!==null&&n!==s&&G4(s,e);let a=e[Wn];a!==null&&a.insertView(t),ly(e),e[W]|=128}function G4(t,e){let n=t[ks],i=e[mt][mt][Cn];e[Cn]!==i&&(t[W]|=Qy.HasTransplantedViews),n===null?t[ks]=[e]:n.push(e)}function UA(t,e){let n=t[ks],r=n.indexOf(e);n.splice(r,1)}function yy(t,e){if(t.length<=Wt)return;let n=Wt+e,r=t[n];if(r){let i=r[Qu];i!==null&&i!==t&&UA(i,r),e>0&&(t[n-1][Sn]=r[Sn]);let o=Gd(t,Wt+e);H4(r[ne],r);let s=o[Wn];s!==null&&s.detachView(o[ne]),r[mt]=null,r[Sn]=null,r[W]&=-129}return r}function VA(t,e){if(!(e[W]&256)){let n=e[Ve];n.destroyNode&&If(t,e,n,3,null,null),W4(e)}}function K_(t,e){if(!(e[W]&256)){e[W]&=-129,e[W]|=256,e[lo]&&yO(e[lo]),K4(t,e),Y4(t,e),e[ne].type===1&&e[Ve].destroy();let n=e[Qu];if(n!==null&&Sr(e[mt])){n!==e[mt]&&UA(n,e);let r=e[Wn];r!==null&&r.detachView(t)}L4(e)}}function Y4(t,e){let n=t.cleanup,r=e[Uu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Uu]=null);let i=e[Zr];if(i!==null){e[Zr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function K4(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof po)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Hn(4,a,u);try{u.call(a)}finally{Hn(5,a,u)}}else{Hn(4,i,o);try{o.call(i)}finally{Hn(5,i,o)}}}}}function HA(t,e,n){return Q4(t,e.parent,n)}function Q4(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Er];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===zn.None||o===zn.Emulated)return null}return on(r,n)}}function Qd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function $A(t,e,n){t.appendChild(e,n)}function uM(t,e,n,r,i){r!==null?Qd(t,e,n,r,i):$A(t,e,n)}function J4(t,e,n,r){t.removeChild(e,n,r)}function pb(t,e){return t.parentNode(e)}function Z4(t,e){return t.nextSibling(e)}function WA(t,e,n){return e5(t,e,n)}function X4(t,e,n){return t.type&40?on(t,n):null}var e5=X4,cM;function Sf(t,e,n,r){let i=HA(t,r,e),o=e[Ve],s=r.parent||e[Gt],a=WA(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)uM(o,i,n[u],a,!1);else uM(o,i,n,a,!1);cM!==void 0&&cM(o,r,e,n,i)}function qd(t,e){if(e!==null){let n=e.type;if(n&3)return on(e,t);if(n&4)return by(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return qd(t,r);{let i=t[e.index];return Sr(i)?by(-1,i):Gn(i)}}else{if(n&32)return hb(e,t)()||Gn(t[e.index]);{let r=zA(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=$u(t[Cn]);return qd(i,r)}else return qd(t,e.next)}}}return null}function zA(t,e){if(e!==null){let r=t[Cn][Gt],i=e.projection;return r.projection[i]}return null}function by(t,e){let n=Wt+t+1;if(n<e.length){let r=e[n],i=r[ne].firstChild;if(i!==null)return qd(r,i)}return e[fo]}function t5(t,e,n){let r=pb(t,e);r&&J4(t,r,e,n)}function mb(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&ei(Gn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)mb(t,e,n.child,r,i,o,!1),Ms(e,t,i,a,o);else if(u&32){let c=hb(n,r),l;for(;l=c();)Ms(e,t,i,l,o);Ms(e,t,i,a,o)}else u&16?GA(t,e,r,n,i,o):Ms(e,t,i,a,o);n=s?n.projectionNext:n.next}}function If(t,e,n,r,i,o){mb(n,r,t.firstChild,e,i,o,!1)}function n5(t,e,n){let r=e[Ve],i=HA(t,n,e),o=n.parent||e[Gt],s=WA(o,n,e);GA(r,0,e,n,i,s)}function GA(t,e,n,r,i,o){let s=n[Cn],u=s[Gt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let l=u[c];Ms(e,t,i,l,o)}else{let c=u,l=s[mt];jA(r)&&(c.flags|=128),mb(t,e,c,l,i,o,!0)}}function r5(t,e,n,r,i){let o=n[fo],s=Gn(n);o!==s&&Ms(e,t,r,o,i);for(let a=Wt;a<n.length;a++){let u=n[a];If(u[ne],u,t,e,r,o)}}function i5(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:wr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=wr.Important),t.setStyle(n,r,i,o))}}function o5(t,e,n){t.setAttribute(e,"style",n)}function YA(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function KA(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&uy(t,e,r),i!==null&&YA(t,e,i),o!==null&&o5(t,e,o)}var Pd;function s5(){if(Pd===void 0&&(Pd=null,Tt.trustedTypes))try{Pd=Tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pd}function lM(t){return s5()?.createScriptURL(t)||t}var Jd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${DM})`}};function Vs(t){return t instanceof Jd?t.changingThisBreaksApplicationSecurity:t}function gb(t,e){let n=a5(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${DM})`)}return n===e}function a5(t){return t instanceof Jd&&t.getTypeName()||null}var u5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function QA(t){return t=String(t),t.match(u5)?t:"unsafe:"+t}var Cf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Cf||{});function c5(t){let e=ZA();return e?e.sanitize(Cf.URL,t)||"":gb(t,"URL")?Vs(t):QA(cf(t))}function l5(t){let e=ZA();if(e)return lM(e.sanitize(Cf.RESOURCE_URL,t)||"");if(gb(t,"ResourceURL"))return lM(Vs(t));throw new B(904,!1)}function d5(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?l5:c5}function JA(t,e,n){return d5(e,n)(t)}function ZA(){let t=de();return t&&t[br].sanitizer}var wy=class{};var f5="h",h5="b";var p5=()=>null;function vb(t,e,n=!1){return p5(t,e,n)}var Ey=class{},Zd=class{};function m5(t){let e=Error(`No component factory found for ${Dt(t)}.`);return e[g5]=t,e}var g5="ngComponent";var Sy=class{resolveComponentFactory(e){throw m5(e)}},Df=(()=>{let e=class e{};e.NULL=new Sy;let t=e;return t})();function v5(){return Hs(Ot(),de())}function Hs(t,e){return new Pt(on(t,e))}var Pt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=v5;let t=e;return t})();function _5(t){return t instanceof Pt?t.nativeElement:t}var zu=class{},Tf=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>y5();let t=e;return t})();function y5(){let t=de(),e=Ot(),n=ii(e.index,t);return(uo(n)?n:t)[Ve]}var b5=(()=>{let e=class e{};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Q_={};function Xd(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Gn(o)),Sr(o)&&w5(o,r);let s=n.type;if(s&8)Xd(t,e,n.child,r);else if(s&32){let a=hb(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=zA(e,n);if(Array.isArray(a))r.push(...a);else{let u=$u(e[Cn]);Xd(u[ne],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function w5(t,e){for(let n=Wt;n<t.length;n++){let r=t[n],i=r[ne].firstChild;i!==null&&Xd(r[ne],r,i,e)}t[fo]!==t[Er]&&e.push(t[fo])}var XA=[];function E5(t){return t[lo]??S5(t)}function S5(t){let e=XA.pop()??Object.create(C5);return e.lView=t,e}function I5(t){t.lView[lo]!==t&&(t.lView=null,XA.push(t))}var C5=De(N({},gO),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hu(t.lView)},consumerOnSignalRead(){this.lView[lo]=this}});function eP(t){return nP(t[Vu])}function tP(t){return nP(t[Sn])}function nP(t){for(;t!==null&&!Sr(t);)t=t[Sn];return t}var D5="ngOriginalError";function J_(t){return t[D5]}var Yn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&J_(e);for(;n&&J_(n);)n=J_(n);return n||null}},rP=new j("",{providedIn:"root",factory:()=>D(Yn).handleError.bind(void 0)});var iP=!1,T5=new j("",{providedIn:"root",factory:()=>iP});var si={};function ec(t=1){oP(Xe(),de(),wo()+t,!1)}function oP(t,e,n,r){if(!r)if((e[W]&3)===3){let o=t.preOrderCheckHooks;o!==null&&kd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Fd(e,o,0,n)}ho(n)}function He(t,e=te.Default){let n=de();if(n===null)return O(t,e);let r=Ot();return EA(r,n,Ct(t),e)}function sP(){let t="invalid";throw new Error(t)}function aP(t,e,n,r,i,o){let s=$t(null);try{let a=null;i&zt.SignalBased&&(a=e[r][mO]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&zt.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):KM(e,a,r,o)}finally{$t(s)}}function O5(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ho(~i);else{let o=i,s=n[++r],a=n[++r];F8(s,o);let u=e[o];a(2,u)}}}finally{ho(-1)}}function Of(t,e,n,r,i,o,s,a,u,c,l){let d=e.blueprint.slice();return d[Er]=i,d[W]=r|4|128|8|64,(c!==null||t&&t[W]&2048)&&(d[W]|=2048),tA(d),d[mt]=d[Us]=t,d[In]=n,d[br]=s||t&&t[br],d[Ve]=a||t&&t[Ve],d[Ns]=u||t&&t[Ns]||null,d[Gt]=o,d[ff]=F4(),d[Bu]=l,d[GM]=c,d[Cn]=e.type==2?t[Cn]:d,d}function $s(t,e,n,r,i){let o=t.data[e];if(o===null)o=M5(t,e,n,r,i),k8()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=x8();o.injectorIndex=s===null?-1:s.injectorIndex}return bo(o,!0),o}function M5(t,e,n,r,i){let o=sA(),s=tb(),a=s?o:o&&o.parent,u=t.data[e]=k5(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function uP(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function cP(t,e,n,r,i){let o=wo(),s=r&2;try{ho(-1),s&&e.length>Dn&&oP(t,e,Dn,!1),Hn(s?2:0,i),n(r,i)}finally{ho(o),Hn(s?3:1,i)}}function _b(t,e,n){if(Jy(e)){let r=$t(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{$t(r)}}}function yb(t,e,n){iA()&&(U5(t,e,n,on(n,e)),(n.flags&64)===64&&hP(t,e,n))}function bb(t,e,n=on){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function lP(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=wb(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function wb(t,e,n,r,i,o,s,a,u,c,l){let d=Dn+r,h=d+i,m=A5(d,h),g=typeof c=="function"?c():c;return m[ne]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:g,incompleteFirstPass:!1,ssrId:l}}function A5(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:si);return n}function P5(t,e,n,r){let o=r.get(T5,iP)||n===zn.ShadowDom,s=t.selectRootElement(e,o);return x5(s),s}function x5(t){R5(t)}var R5=()=>null;function N5(t,e,n,r){let i=gP(e);i.push(n),t.firstCreatePass&&vP(t).push(r,i.length-1)}function k5(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return oA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function dM(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=zt.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?fM(r,n,c,a,u):fM(r,n,c,a)}return r}function fM(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function F5(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,c=null;for(let l=r;l<i;l++){let d=o[l],h=n?n.get(d):null,m=h?h.inputs:null,g=h?h.outputs:null;u=dM(0,d.inputs,l,u,m),c=dM(1,d.outputs,l,c,g);let _=u!==null&&s!==null&&!qM(e)?Z5(u,l,s):null;a.push(_)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}function j5(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function dP(t,e,n,r,i,o,s,a){let u=on(e,n),c=e.inputs,l;!a&&c!=null&&(l=c[r])?(Sb(t,n,l,r,i),hf(e)&&L5(n,e.index)):e.type&3?(r=j5(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function L5(t,e){let n=ii(e,t);n[W]&16||(n[W]|=64)}function Eb(t,e,n,r){if(iA()){let i=r===null?null:{"":-1},o=H5(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&fP(t,e,n,s,i,a),i&&$5(n,r,i)}n.mergedAttrs=qu(n.mergedAttrs,n.attrs)}function fP(t,e,n,r,i,o){for(let c=0;c<r.length;c++)hy(zd(n,e),t,r[c].type);z5(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=uP(t,e,r.length,null);for(let c=0;c<r.length;c++){let l=r[c];n.mergedAttrs=qu(n.mergedAttrs,l.hostAttrs),G5(t,n,e,u,l),W5(u,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}F5(t,n,o)}function q5(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;B5(s)!=a&&s.push(a),s.push(n,r,o)}}function B5(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function U5(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;hf(n)&&Y5(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||zd(n,e),ei(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],c=mo(e,t,a,n);if(ei(c,e),s!==null&&J5(e,a-i,c,u,n,s),Xr(u)){let l=ii(n.index,e);l[In]=mo(e,t,a,n)}}}function hP(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=j8();try{ho(o);for(let a=r;a<i;a++){let u=t.data[a],c=e[a];dy(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&V5(u,c)}}finally{ho(-1),dy(s)}}function V5(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function H5(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(BM(e,s.selectors,!1))if(r||(r=[]),Xr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Iy(t,e,u)}else r.unshift(s),Iy(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Iy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $5(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}}function W5(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xr(e)&&(n[""]=t)}}function z5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function G5(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Fs(i.type,!0)),s=new po(o,Xr(i),He);t.blueprint[r]=s,n[r]=s,q5(t,e,r,uP(t,n,i.hostVars,si),i)}function Y5(t,e,n){let r=on(e,t),i=lP(n),o=t[br].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Mf(t,Of(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function K5(t,e,n,r,i,o){let s=on(t,e);Q5(e[Ve],s,o,t.value,n,r,i)}function Q5(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?cf(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function J5(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],c=s[a++],l=s[a++],d=s[a++];aP(r,n,u,c,l,d)}}function Z5(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function pP(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function mP(t,e){let n=t.contentQueries;if(n!==null){let r=$t(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];rb(o),a.contentQueries(2,e[s],s)}}}finally{$t(r)}}}function Mf(t,e){return t[Vu]?t[eM][Sn]=e:t[Vu]=e,t[eM]=e,e}function Cy(t,e,n){rb(0);let r=$t(null);try{e(t,n)}finally{$t(r)}}function gP(t){return t[Uu]||(t[Uu]=[])}function vP(t){return t.cleanup||(t.cleanup=[])}function _P(t,e){let n=t[Ns],r=n?n.get(Yn,null):null;r&&r.handleError(e)}function Sb(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],c=e[s],l=t.data[s];aP(l,c,r,a,u,i)}}function X5(t,e,n){let r=XM(e,t);U4(t[Ve],r,n)}var e6=100;function t6(t,e=!0){let n=t[br],r=n.rendererFactory,i=!1;i||r.begin?.();try{n6(t)}catch(o){throw e&&_P(t,o),o}finally{i||(r.end?.(),n.inlineEffectRunner?.flush())}}function n6(t){Dy(t,0);let e=0;for(;nA(t);){if(e===e6)throw new B(103,!1);e++,Dy(t,1)}}function r6(t,e,n,r){let i=e[W];if((i&256)===256)return;let o=!1;!o&&e[br].inlineEffectRunner?.flush(),ib(e);let s=null,a=null;!o&&i6(t)&&(a=E5(e),s=vO(a));try{tA(e),N8(t.bindingStartIndex),n!==null&&cP(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let d=t.preOrderCheckHooks;d!==null&&kd(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Fd(e,d,0,null),W_(e,0)}if(o6(e),yP(e,0),t.contentQueries!==null&&mP(t,e),!o)if(u){let d=t.contentCheckHooks;d!==null&&kd(e,d)}else{let d=t.contentHooks;d!==null&&Fd(e,d,1),W_(e,1)}O5(t,e);let c=t.components;c!==null&&wP(e,c,0);let l=t.viewQuery;if(l!==null&&Cy(2,l,r),!o)if(u){let d=t.viewCheckHooks;d!==null&&kd(e,d)}else{let d=t.viewHooks;d!==null&&Fd(e,d,2),W_(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[$_]){for(let d of e[$_])d();e[$_]=null}o||(e[W]&=-73)}catch(u){throw Hu(e),u}finally{a!==null&&(_O(a,s),I5(a)),ob()}}function i6(t){return t.type!==2}function yP(t,e){for(let n=eP(t);n!==null;n=tP(n))for(let r=Wt;r<n.length;r++){let i=n[r];bP(i,e)}}function o6(t){for(let e=eP(t);e!==null;e=tP(e)){if(!(e[W]&Qy.HasTransplantedViews))continue;let n=e[ks];for(let r=0;r<n.length;r++){let i=n[r],o=i[mt];I8(i)}}}function s6(t,e,n){let r=ii(e,t);bP(r,n)}function bP(t,e){Zy(t)&&Dy(t,e)}function Dy(t,e){let r=t[ne],i=t[W],o=t[lo],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&E_(o)),o&&(o.dirty=!1),t[W]&=-9217,s)r6(r,t,r.template,t[In]);else if(i&8192){yP(t,1);let a=r.components;a!==null&&wP(t,a,1)}}function wP(t,e,n){for(let r=0;r<e.length;r++)s6(t,e[r],n)}function Ib(t){for(t[br].changeDetectionScheduler?.notify();t;){t[W]|=64;let e=$u(t);if(h8(t)&&!e)return t;t=e}return null}var go=class{get rootNodes(){let e=this._lView,n=e[ne];return Xd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[In]}set context(e){this._lView[In]=e}get destroyed(){return(this._lView[W]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[mt];if(Sr(e)){let n=e[Hd],r=n?n.indexOf(this):-1;r>-1&&(yy(e,r),Gd(n,r))}this._attachedToViewContainer=!1}VA(this._lView[ne],this._lView)}onDestroy(e){rA(this._lView,e)}markForCheck(){Ib(this._cdRefInjectingView||this._lView)}detach(){this._lView[W]&=-129}reattach(){ly(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,t6(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,BA(this._lView[ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e,ly(this._lView)}},Eo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=a6;let t=e;return t})();function a6(t){return u6(Ot(),de(),(t&16)===16)}function u6(t,e,n){if(hf(t)&&!n){let r=ii(t.index,e);return new go(r,r)}else if(t.type&47){let r=e[Cn];return new go(r,e)}return null}var Cb=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=c6,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ty=class extends Cb{constructor(e){super(),this._lView=e}onDestroy(e){return rA(this._lView,e),()=>D8(this._lView,e)}};function c6(){return new Ty(de())}var hM=new Set;function Db(t){hM.has(t)||(hM.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Oy=class extends me{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Z_(o),i&&(i=Z_(i)),s&&(s=Z_(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Be&&e.add(a),a}};function Z_(t){return e=>{setTimeout(t,void 0,e)}}var Ye=Oy;function pM(...t){}function l6(){let t=typeof Tt.requestAnimationFrame=="function",e=Tt[t?"requestAnimationFrame":"setTimeout"],n=Tt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Z=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=l6().nativeRequestAnimationFrame,h6(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,d6,pM,pM);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},d6={};function Tb(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function f6(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Tt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,My(t),t.isCheckStableRunning=!0,Tb(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),My(t))}function h6(t){let e=()=>{f6(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(p6(a))return n.invokeTask(i,o,s,a);try{return mM(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),gM(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return mM(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),gM(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,My(t),Tb(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function My(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function mM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gM(t){t._nesting--,Tb(t)}var Ay=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function p6(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function m6(t="zone.js",e){return t==="noop"?new Ay:t==="zone.js"?new Z(e):t}var As=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(As||{}),g6={destroy(){}};function Ob(t,e){!e&&T4(Ob);let n=e?.injector??D(Mt);if(!A4(n))return g6;Db("NgAfterNextRender");let r=n.get(Mb),i=r.handler??=new xy,o=e?.phase??As.MixedReadWrite,s=()=>{i.unregister(u),a()},a=n.get(Cb).onDestroy(s),u=new Py(n,o,()=>{s(),t()});return i.register(u),{destroy:s}}var Py=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(Z),this.errorHandler=e.get(Yn,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},xy=class{constructor(){this.executingCallbacks=!1,this.buckets={[As.EarlyRead]:new Set,[As.Write]:new Set,[As.MixedReadWrite]:new Set,[As.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let r of n)e=!0,r.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Mb=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of r)o();return!!this.handler?.execute()||r.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function v6(t,e){let n=ii(e,t),r=n[ne];_6(r,n);let i=n[Er];i!==null&&n[Bu]===null&&(n[Bu]=vb(i,n[Ns])),Ab(r,n,n[In])}function _6(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ab(t,e,n){ib(e);try{let r=t.viewQuery;r!==null&&Cy(1,r,n);let i=t.template;i!==null&&cP(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mP(t,e),t.staticViewQueries&&Cy(2,t.viewQuery,n);let o=t.components;o!==null&&y6(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[W]&=-5,ob()}}function y6(t,e){for(let n=0;n<e.length;n++)v6(t,e[n])}function ef(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=iy(i,a);else if(o==2){let u=a,c=e[++s];r=iy(r,u+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var tf=class extends Df{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=yr(e);return new vo(n,this.ngModule)}};function vM(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function b6(t){let e=t.toLowerCase();return e==="svg"?v8:e==="math"?_8:null}var Ry=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=df(r);let i=this.injector.get(e,Q_,r);return i!==Q_||n===Q_?i:this.parentInjector.get(e,n,r)}},vo=class extends Zd{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=vM(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return vM(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=u8(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let o=i instanceof bt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new Ry(e,o):e,a=s.get(zu,null);if(a===null)throw new B(407,!1);let u=s.get(b5,null),c=s.get(Mb,null),l=s.get(wy,null),d={rendererFactory:a,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:c,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",g=r?P5(h,r,this.componentDef.encapsulation,s):qA(h,m,b6(m)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let y=null;g!==null&&(y=vb(g,s,!0));let b=wb(0,null,null,1,0,null,null,null,null,null,null),I=Of(null,b,null,_,null,null,d,h,s,null,y);ib(I);let E,S;try{let C=this.componentDef,R,Y=null;C.findHostDirectiveDefs?(R=[],Y=new Map,C.findHostDirectiveDefs(C,R,Y),R.push(C)):R=[C];let Ee=w6(I,g),pe=E6(Ee,g,C,R,I,d,h);S=eA(b,Dn),g&&C6(h,C,g,r),n!==void 0&&D6(S,this.ngContentSelectors,n),E=I6(pe,C,R,Y,I,[T6]),Ab(b,I,null)}finally{ob()}return new Ny(this.componentType,E,Hs(S,I),I,S)}},Ny=class extends Ey{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new go(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Sb(o[ne],o,i,e,n),this.previousInputValues.set(e,n);let s=ii(this._tNode.index,o);Ib(s)}}get injector(){return new co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function w6(t,e){let n=t[ne],r=Dn;return t[r]=e,$s(n,r,2,"#host",null)}function E6(t,e,n,r,i,o,s){let a=i[ne];S6(r,t,e,s);let u=null;e!==null&&(u=vb(e,i[Ns]));let c=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Of(i,lP(n),null,l,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&Iy(a,t,r.length-1),Mf(i,d),i[t.index]=d}function S6(t,e,n,r){for(let i of t)e.mergedAttrs=qu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ef(e,e.mergedAttrs,!0),n!==null&&KA(r,n,e))}function I6(t,e,n,r,i,o){let s=Ot(),a=i[ne],u=on(s,i);fP(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,h=mo(i,a,d,s);ei(h,i)}hP(a,i,s),u&&ei(u,i);let c=mo(i,a,s.directiveStart+s.componentOffset,s);if(t[In]=i[In]=c,o!==null)for(let l of o)l(c,e);return _b(a,s,t),c}function C6(t,e,n,r){if(r)uy(t,n,["ng-version","17.1.1"]);else{let{attrs:i,classes:o}=c8(e.selectors[0]);i&&uy(t,n,i),o&&o.length>0&&YA(t,n,o.join(" "))}}function D6(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function T6(){let t=Ot();_f(de()[ne],t)}function O6(t){return Object.getPrototypeOf(t.prototype).constructor}function Pb(t){let e=O6(t.type),n=!0,r=[t];for(;e;){let i;if(Xr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=xd(t.inputs),s.inputTransforms=xd(t.inputTransforms),s.declaredInputs=xd(t.declaredInputs),s.outputs=xd(t.outputs);let a=i.hostBindings;a&&R6(t,a);let u=i.viewQuery,c=i.contentQueries;if(u&&P6(t,u),c&&x6(t,c),M6(t,i),PG(t.outputs,i.outputs),Xr(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Pb&&(n=!1)}}e=Object.getPrototypeOf(e)}A6(r)}function M6(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function A6(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qu(i.hostAttrs,n=qu(n,i.hostAttrs))}}function xd(t){return t===Rs?{}:t===Lt?[]:t}function P6(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function x6(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function R6(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function xb(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var TFe=new RegExp(`^(\\d+)*(${h5}|${f5})*(.*)`);var N6=()=>null;function _M(t,e){return N6(t,e)}function k6(t,e,n,r){let i=e.tView,s=t[W]&4096?4096:16,a=Of(t,i,n,s,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),u=t[e.index];a[Qu]=u;let c=t[Wn];return c!==null&&(a[Wn]=c.createEmbeddedView(i)),Ab(i,a,n),a}function yM(t,e){return!e||e.firstChild===null||jA(t)}function F6(t,e,n,r=!0){let i=e[ne];if(z4(i,e,t,n),r){let s=by(n,t),a=e[Ve],u=pb(a,t[fo]);u!==null&&$4(i,t[Gt],a,e,u,s)}let o=e[Bu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}var ai=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=j6;let t=e;return t})();function j6(){let t=Ot();return SP(t,de())}var L6=ai,EP=class extends L6{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Hs(this._hostTNode,this._hostLView)}get injector(){return new co(this._hostTNode,this._hostLView)}get parentInjector(){let e=ab(this._hostTNode,this._hostLView);if(gA(e)){let n=Wd(e,this._hostLView),r=$d(e),i=n[ne].data[r+8];return new co(i,n)}else return new co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=bM(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Wt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=_M(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,yM(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!i4(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let u=s?e:new vo(yr(e)),c=r||this.parentInjector;if(!o&&u.ngModule==null){let _=(s?c:this.parentInjector).get(bt,null);_&&(o=_)}let l=yr(u.componentType??{}),d=_M(this._lContainer,l?.id??null),h=d?.firstChild??null,m=u.create(c,i,h,o);return this.insertImpl(m.hostView,a,yM(this._hostTNode,d)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(S8(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[mt],c=new EP(u,u[Gt],u[mt]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return F6(s,i,o,r),e.attachToViewContainerRef(),DA(X_(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=bM(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=yy(this._lContainer,n);r&&(Gd(X_(this._lContainer),n),VA(r[ne],r))}detach(e){let n=this._adjustIndex(e,-1),r=yy(this._lContainer,n);return r&&Gd(X_(this._lContainer),n)!=null?new go(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function bM(t){return t[Hd]}function X_(t){return t[Hd]||(t[Hd]=[])}function SP(t,e){let n,r=e[t.index];return Sr(r)?n=r:(n=pP(r,e,null,t),e[t.index]=n,Mf(e,n)),B6(n,e,t,r),new EP(n,t,e)}function q6(t,e){let n=t[Ve],r=n.createComment(""),i=on(e,t),o=pb(n,i);return Qd(n,o,r,Z4(n,i),!1),r}var B6=H6,U6=()=>!1;function V6(t,e,n){return U6(t,e,n)}function H6(t,e,n,r){if(t[fo])return;let i;n.type&8?i=Gn(r):i=q6(e,n),t[fo]=i}function Ws(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function $6(t,e,n,r,i,o,s,a,u){let c=e.consts,l=$s(e,t,4,s||null,js(c,a));Eb(e,n,l,js(c,u)),_f(e,l);let d=l.tView=wb(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function tc(t,e,n,r,i,o,s,a){let u=de(),c=Xe(),l=t+Dn,d=c.firstCreatePass?$6(l,c,u,e,n,r,i,o,s):c.data[l];bo(d,!1);let h=W6(c,u,d,t);gf()&&Sf(c,u,h,d),ei(h,u);let m=pP(h,u,h,d);return u[l]=m,Mf(u,m),V6(m,d,u),pf(d)&&yb(c,u,d),s!=null&&bb(u,d,a),tc}var W6=z6;function z6(t,e,n,r){return vf(!0),e[Ve].createComment("")}function So(t,e,n,r){let i=de(),o=mf();if(Ws(i,o,e)){let s=Xe(),a=sb();K5(a,i,t,e,n,r)}return So}function G6(t,e,n,r){return Ws(t,mf(),n)?e+cf(n)+r:si}function Rd(t,e){return t<<17|e<<2}function _o(t){return t>>17&32767}function Y6(t){return(t&2)==2}function K6(t,e){return t&131071|e<<17}function ky(t){return t|2}function Bs(t){return(t&131068)>>2}function ey(t,e){return t&-131069|e<<2}function Q6(t){return(t&1)===1}function Fy(t){return t|1}function J6(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=_o(s),u=Bs(s);t[r]=n;let c=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Zu(d,l)>0)&&(c=!0)}else l=n;if(i)if(u!==0){let h=_o(t[a+1]);t[r+1]=Rd(h,a),h!==0&&(t[h+1]=ey(t[h+1],r)),t[a+1]=K6(t[a+1],r)}else t[r+1]=Rd(a,0),a!==0&&(t[a+1]=ey(t[a+1],r)),a=r;else t[r+1]=Rd(u,0),a===0?a=r:t[u+1]=ey(t[u+1],r),u=r;c&&(t[r+1]=ky(t[r+1])),wM(t,l,r,!0),wM(t,l,r,!1),Z6(e,l,t,r,o),s=Rd(a,u),o?e.classBindings=s:e.styleBindings=s}function Z6(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Zu(o,e)>=0&&(n[r+1]=Fy(n[r+1]))}function wM(t,e,n,r){let i=t[n+1],o=e===null,s=r?_o(i):Bs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],c=t[s+1];X6(u,e)&&(a=!0,t[s+1]=r?Fy(c):ky(c)),s=r?_o(c):Bs(c)}a&&(t[n+1]=r?ky(i):Fy(i))}function X6(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Zu(t,e)>=0:!1}var En={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function e7(t){return t.substring(En.key,En.keyEnd)}function t7(t){return n7(t),IP(t,CP(t,0,En.textEnd))}function IP(t,e){let n=En.textEnd;return n===e?-1:(e=En.keyEnd=r7(t,En.key=e,n),CP(t,e,n))}function n7(t){En.key=0,En.keyEnd=0,En.value=0,En.valueEnd=0,En.textEnd=t.length}function CP(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function r7(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function nc(t,e,n){let r=de(),i=mf();if(Ws(r,i,e)){let o=Xe(),s=sb();dP(o,s,r,t,e,r[Ve],n,!1)}return nc}function jy(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Sb(t,n,o[s],s,r)}function Ir(t,e){return o7(t,e,null,!0),Ir}function Af(t){s7(f7,i7,t,!0)}function i7(t,e){for(let n=t7(e);n>=0;n=IP(e,n))cb(t,e7(e),!0)}function o7(t,e,n,r){let i=de(),o=Xe(),s=aA(2);if(o.firstUpdatePass&&TP(o,t,s,r),e!==si&&Ws(i,s,e)){let a=o.data[wo()];OP(o,a,i,i[Ve],t,i[s+1]=p7(e,n),r,s)}}function s7(t,e,n,r){let i=Xe(),o=aA(2);i.firstUpdatePass&&TP(i,null,o,r);let s=de();if(n!==si&&Ws(s,o,n)){let a=i.data[wo()];if(MP(a,r)&&!DP(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=iy(u,n||"")),jy(i,a,s,n,r)}else h7(i,a,s,s[Ve],s[o+1],s[o+1]=d7(t,e,n),r,o)}}function DP(t,e){return e>=t.expandoStartIndex}function TP(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[wo()],s=DP(t,n);MP(o,r)&&e===null&&!s&&(e=!1),e=a7(i,o,e,r),J6(i,o,e,n,s,r)}}function a7(t,e,n,r){let i=L8(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ty(null,t,e,n,r),n=Gu(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ty(i,t,e,n,r),o===null){let u=u7(t,e,r);u!==void 0&&Array.isArray(u)&&(u=ty(null,t,e,u[1],r),u=Gu(u,e.attrs,r),c7(t,e,r,u))}else o=l7(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function u7(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Bs(r)!==0)return t[_o(r)]}function c7(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[_o(i)]=r}function l7(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Gu(r,s,n)}return Gu(r,e.attrs,n)}function ty(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Gu(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Gu(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),cb(t,s,n?!0:e[++o]))}return t===void 0?null:t}function d7(t,e,n){if(n==null||n==="")return Lt;let r=[],i=Vs(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function f7(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&cb(t,r,n)}function h7(t,e,n,r,i,o,s,a){i===si&&(i=Lt);let u=0,c=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;l!==null||d!==null;){let h=u<i.length?i[u+1]:void 0,m=c<o.length?o[c+1]:void 0,g=null,_;l===d?(u+=2,c+=2,h!==m&&(g=d,_=m)):d===null||l!==null&&l<d?(u+=2,g=l):(c+=2,g=d,_=m),g!==null&&OP(t,e,n,r,g,_,s,a),l=u<i.length?i[u]:null,d=c<o.length?o[c]:null}}function OP(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,c=u[a+1],l=Q6(c)?EM(u,e,n,i,Bs(c),s):void 0;if(!nf(l)){nf(o)||Y6(c)&&(o=EM(u,null,n,i,a,s));let d=XM(wo(),n);i5(r,s,d,i,o)}}function EM(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=l===null,h=n[i+1];h===si&&(h=d?Lt:void 0);let m=d?G_(h,r):l===r?h:void 0;if(c&&!nf(m)&&(m=G_(u,r)),nf(m)&&(a=m,s))return a;let g=t[i+1];i=s?_o(g):Bs(g)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=G_(u,r))}return a}function nf(t){return t!==void 0}function p7(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Dt(Vs(t)))),t}function MP(t,e){return(t.flags&(e?8:16))!==0}function m7(t,e,n,r,i,o){let s=e.consts,a=js(s,i),u=$s(e,t,2,r,a);return Eb(e,n,u,js(s,o)),u.attrs!==null&&ef(u,u.attrs,!1),u.mergedAttrs!==null&&ef(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function K(t,e,n,r){let i=de(),o=Xe(),s=Dn+t,a=i[Ve],u=o.firstCreatePass?m7(s,o,i,e,n,r):o.data[s],c=g7(o,i,u,a,e,t);i[s]=c;let l=pf(u);return bo(u,!0),KA(a,c,u),(u.flags&32)!==32&&gf()&&Sf(o,i,c,u),T8()===0&&ei(c,i),O8(),l&&(yb(o,i,u),_b(o,u,i)),r!==null&&bb(i,u),K}function H(){let t=Ot();tb()?nb():(t=t.parent,bo(t,!1));let e=t;A8(e)&&P8(),M8();let n=Xe();return n.firstCreatePass&&(_f(n,t),Jy(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&W8(e)&&jy(n,e,de(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&z8(e)&&jy(n,e,de(),e.stylesWithoutHost,!1),H}function qt(t,e,n,r){return K(t,e,n,r),H(),qt}var g7=(t,e,n,r,i,o)=>(vf(!0),qA(r,i,U8()));function v7(t,e,n,r,i){let o=e.consts,s=js(o,r),a=$s(e,t,8,"ng-container",s);s!==null&&ef(a,s,!0);let u=js(o,i);return Eb(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function Pf(t,e,n){let r=de(),i=Xe(),o=t+Dn,s=i.firstCreatePass?v7(o,i,r,e,n):i.data[o];bo(s,!0);let a=_7(i,r,s,t);return r[o]=a,gf()&&Sf(i,r,a,s),ei(a,r),pf(s)&&(yb(i,r,s),_b(i,s,r)),n!=null&&bb(r,s),Pf}function xf(){let t=Ot(),e=Xe();return tb()?nb():(t=t.parent,bo(t,!1)),e.firstCreatePass&&(_f(e,t),Jy(t)&&e.queries.elementEnd(t)),xf}var _7=(t,e,n,r)=>(vf(!0),V4(e[Ve],""));function Rb(){return de()}function Nb(t,e,n){let r=de(),i=mf();if(Ws(r,i,e)){let o=Xe(),s=sb();dP(o,s,r,t,e,r[Ve],n,!0)}return Nb}var rf="en-US";var y7=rf;function b7(t){qG(t,"Expected localeId to be defined"),typeof t=="string"&&(y7=t.toLowerCase().replace(/_/g,"-"))}function rc(t){return!!t&&typeof t.then=="function"}function AP(t){return!!t&&typeof t.subscribe=="function"}function Kn(t,e,n,r){let i=de(),o=Xe(),s=Ot();return E7(o,i,i[Ve],s,t,e,r),Kn}function w7(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Uu],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function E7(t,e,n,r,i,o,s){let a=pf(r),c=t.firstCreatePass&&vP(t),l=e[In],d=gP(e),h=!0;if(r.type&3||s){let _=on(r,e),y=s?s(_):_,b=d.length,I=s?S=>s(Gn(S[r.index])):r.index,E=null;if(!s&&a&&(E=w7(t,e,i,r.index)),E!==null){let S=E.__ngLastListenerFn__||E;S.__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1}else{o=IM(r,e,l,o,!1);let S=n.listen(y,i,o);d.push(o,S),c&&c.push(i,I,b,b+1)}}else o=IM(r,e,l,o,!1);let m=r.outputs,g;if(h&&m!==null&&(g=m[i])){let _=g.length;if(_)for(let y=0;y<_;y+=2){let b=g[y],I=g[y+1],C=e[b][I].subscribe(o),R=d.length;d.push(o,C),c&&c.push(i,r.index,R,-(R+1))}}}function SM(t,e,n,r){try{return Hn(6,e,n),n(r)!==!1}catch(i){return _P(t,i),!1}finally{Hn(7,e,n)}}function IM(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?ii(t.index,e):e;Ib(a);let u=SM(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=SM(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function Rf(t=1){return B8(t)}function S7(t,e){let n=null,r=r8(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?BM(t,o,!0):s8(r,o))return i}return n}function PP(t){let e=de()[Cn][Gt];if(!e.projection){let n=t?t.length:1,r=e.projection=a4(n,null),i=r.slice(),o=e.child;for(;o!==null;){let s=t?S7(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function xP(t,e=0,n){let r=de(),i=Xe(),o=$s(i,Dn+t,16,null,n||null);o.projection===null&&(o.projection=e),nb(),(!r[Bu]||oA())&&(o.flags&32)!==32&&n5(i,r,o)}function I7(){return this._results[Symbol.iterator]()}var Ly=class t{get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=I7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=s4(e);(this._changesDetected=!o4(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},ti=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=T7;let t=e;return t})(),C7=ti,D7=class extends C7{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=k6(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new go(i)}};function T7(){return Nf(Ot(),de())}function Nf(t,e){return t.type&4?new D7(e,t,Hs(t,e)):null}var qy=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},By=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)FP(e,n).matches!==null&&this.queries[n].setDirty()}},of=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},Uy=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Vy=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,O7(n,o)),this.matchTNodeWithReadOption(e,n,jd(n,e,o,!1,!1))}else r===ti?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,jd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Pt||i===ai||i===ti&&n.type&4)this.addMatch(n.index,-2);else{let o=jd(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function O7(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function M7(t,e){return t.type&11?Hs(t,e):t.type&4?Nf(t,e):null}function A7(t,e,n,r){return n===-1?M7(e,t):n===-2?P7(t,e,r):mo(t,t[ne],n,e)}function P7(t,e,n){if(n===Pt)return Hs(e,t);if(n===ti)return Nf(e,t);if(n===ai)return SP(e,t)}function RP(t,e,n,r){let i=e[Wn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;u<s.length;u+=2){let c=s[u];if(c<0)a.push(null);else{let l=o[c];a.push(A7(e,l,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Hy(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=RP(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let c=o[a+1],l=e[-u];for(let d=Wt;d<l.length;d++){let h=l[d];h[Qu]===h[mt]&&Hy(h[ne],h,c,r)}if(l[ks]!==null){let d=l[ks];for(let h=0;h<d.length;h++){let m=d[h];Hy(m[ne],m,c,r)}}}}}return r}function x7(t,e){return t[Wn].queries[e].queryList}function NP(t,e,n){let r=new Ly((n&4)===4);N5(t,e,r,r.destroy),e[Wn]===null&&(e[Wn]=new By),e[Wn].queries.push(new qy(r))}function kP(t,e,n){t.queries===null&&(t.queries=new Uy),t.queries.track(new Vy(e,n))}function R7(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function FP(t,e){return t.queries.getByIndex(e)}function ic(t,e,n,r){let i=Xe();if(i.firstCreatePass){let o=Ot();kP(i,new of(e,n,r),o.index),R7(i,t),(n&2)===2&&(i.staticContentQueries=!0)}NP(i,de(),n)}function jP(t,e,n){let r=Xe();r.firstCreatePass&&(kP(r,new of(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),NP(r,de(),e)}function zs(t){let e=de(),n=Xe(),r=uA();rb(r+1);let i=FP(n,r);if(t.dirty&&E8(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=i.crossesNgTemplate?Hy(n,e,r,[]):RP(n,e,i,r);t.reset(o,_5),t.notifyOnChanges()}return!0}return!1}function Gs(){return x7(de(),uA())}function kb(t){let e=R8();return w8(e,Dn+t)}function ae(t,e=""){let n=de(),r=Xe(),i=t+Dn,o=r.firstCreatePass?$s(r,i,1,e,null):r.data[i],s=N7(r,n,o,e,t);n[i]=s,gf()&&Sf(r,n,s,o),bo(o,!1)}var N7=(t,e,n,r,i)=>(vf(!0),B4(e[Ve],r));function kf(t,e,n){let r=de(),i=G6(r,t,e,n);return i!==si&&X5(r,wo(),i),kf}function k7(t,e,n){let r=Xe();if(r.firstCreatePass){let i=Xr(t);$y(n,r.data,r.blueprint,i,!0),$y(e,r.data,r.blueprint,i,!1)}}function $y(t,e,n,r,i){if(t=Ct(t),Array.isArray(t))for(let o=0;o<t.length;o++)$y(t[o],e,n,r,i);else{let o=Xe(),s=de(),a=Ot(),u=qs(t)?t:Ct(t.provide),c=RA(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(qs(t)||!t.multi){let m=new po(c,i,He),g=ry(u,e,i?l:l+h,d);g===-1?(hy(zd(a,s),o,u),ny(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)):(n[g]=m,s[g]=m)}else{let m=ry(u,e,l+h,d),g=ry(u,e,l,l+h),_=m>=0&&n[m],y=g>=0&&n[g];if(i&&!y||!i&&!_){hy(zd(a,s),o,u);let b=L7(i?j7:F7,n.length,i,r,c);!i&&y&&(n[g].providerFactory=b),ny(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(b),s.push(b)}else{let b=LP(n[i?g:m],c,!i&&r);ny(o,t,m>-1?m:g,b)}!i&&r&&y&&n[g].componentProviders++}}}function ny(t,e,n,r){let i=qs(e),o=b4(e);if(i||o){let u=(o?Ct(e.useClass):e).prototype.ngOnDestroy;if(u){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=c.indexOf(n);l===-1?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function LP(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ry(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function F7(t,e,n,r){return Wy(this.multi,[])}function j7(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=mo(n,n[ne],this.providerFactory.index,r);o=a.slice(0,s),Wy(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Wy(i,o);return o}function Wy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function L7(t,e,n,r,i){let o=new po(t,n,He);return o.multi=[],o.index=e,o.componentProviders=0,LP(o,i,r&&!n),o}function qP(t,e=[]){return n=>{n.providersResolver=(r,i)=>k7(r,i?i(t):t,e)}}var ni=class{},Yu=class{};var sf=class extends ni{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tf(this);let i=$M(e);this._bootstrapComponents=FA(i.bootstrap),this._r3Injector=NA(e,n,[{provide:ni,useValue:this},{provide:Df,useValue:this.componentFactoryResolver},...r],Dt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},af=class extends Yu{constructor(e){super(),this.moduleType=e}create(e){return new sf(this.moduleType,e,[])}};function q7(t,e,n){return new sf(t,e,n)}var zy=class extends ni{constructor(e){super(),this.componentFactoryResolver=new tf(this),this.instance=null;let n=new Wu([...e.providers,{provide:ni,useValue:this},{provide:Df,useValue:this.componentFactoryResolver}],e.parent||wf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ff(t,e,n=null){return new zy({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var B7=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=AA(!1,r.type),o=i.length>0?Ff([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(O(bt))});let t=e;return t})();function oc(t){Db("NgStandalone"),t.getStandaloneInjector=e=>e.get(B7).getOrCreateStandaloneInjector(t)}function Fb(t,e){return Nf(t,e)}var Nd=null;function U7(t){Nd!==null&&(t.defaultEncapsulation!==Nd.defaultEncapsulation||t.preserveWhitespaces!==Nd.preserveWhitespaces)||(Nd=t)}var ri=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},BP=new ri("17.1.1");var jf=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Gy=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Lf=(()=>{let e=class e{compileModuleSync(r){return new af(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=$M(r),s=FA(o.declarations).reduce((a,u)=>{let c=yr(u);return c&&a.push(new vo(c)),a},[]);return new Gy(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),V7=new j("compilerOptions");var qf=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new it(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jb=new j(""),sc=new j(""),Bf=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Lb||(H7(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Z.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(O(Z),O(Uf),O(sc))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Uf=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Lb?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function H7(t){Lb=t}var Lb,Vf=new j("Application Initializer"),UP=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=D(Vf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(rc(s))r.push(s);else if(AP(s)){let a=new Promise((u,c)=>{s.subscribe({complete:u,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qb=new j("appBootstrapListener");function $7(t,e,n){let r=new af(n);return Promise.resolve(r)}function W7(){bO(()=>{throw new B(600,!1)})}function z7(t){return t.isBoundToModule}function G7(t,e,n){try{let r=n();return rc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function VP(t,e){return Array.isArray(e)?e.reduce(VP,t):N(N({},t),e)}var ui=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=D(rP),this.afterRenderEffectManager=D(Mb),this.componentTypes=[],this.components=[],this.isStable=D(qf).hasPendingTasks.pipe(q(r=>!r)),this._injector=D(bt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Zd;if(!this._injector.get(UP).done){let m=!o&&HM(r),g=!1;throw new B(405,g)}let a;o?a=r:a=this._injector.get(Df).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=z7(a)?void 0:this._injector.get(ni),c=i||a.selector,l=a.create(Mt.NULL,[],c,u),d=l.location.nativeElement,h=l.injector.get(jb,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Bd(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new B(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{try{let r=this.afterRenderEffectManager.execute()}catch(r){this.internalErrorHandler(r)}this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Bd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(qb,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Bd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new B(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Bd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function CM(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Y7=(()=>{let e=class e{constructor(){this.zone=D(Z),this.applicationRef=D(ui)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function K7(t){return[{provide:Z,useFactory:t},{provide:Ls,multi:!0,useFactory:()=>{let e=D(Y7,{optional:!0});return()=>e.initialize()}},{provide:Ls,multi:!0,useFactory:()=>{let e=D(Z7);return()=>{e.initialize()}}},{provide:rP,useFactory:Q7}]}function Q7(){let t=D(Z),e=D(Yn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function J7(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Z7=(()=>{let e=class e{constructor(){this.subscription=new Be,this.initialized=!1,this.zone=D(Z),this.pendingTasks=D(qf)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Z.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Z.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function X7(){return typeof $localize<"u"&&$localize.locale||rf}var Hf=new j("LocaleId",{providedIn:"root",factory:()=>D(Hf,te.Optional|te.SkipSelf)||X7()});var HP=new j("PlatformDestroyListeners"),$P=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=m6(i?.ngZone,J7({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=q7(r.moduleType,this.injector,K7(()=>o)),a=s.injector.get(Yn,null);return o.runOutsideAngular(()=>{let u=o.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{Bd(this._modules,s),u.unsubscribe()})}),G7(a,o,()=>{let u=s.injector.get(UP);return u.runInitializers(),u.donePromise.then(()=>{let c=s.injector.get(Hf,rf);return b7(c||rf),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=VP({},i);return $7(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(ui);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new B(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new B(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(HP,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(O(Mt))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ju=null,WP=new j("AllowMultipleToken");function e9(t){if(ju&&!ju.get(WP,!1))throw new B(400,!1);W7(),ju=t;let e=t.get($P);return r9(t),e}function Bb(t,e,n=[]){let r=`Platform: ${e}`,i=new j(r);return(o=[])=>{let s=zP();if(!s||s.injector.get(WP,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):e9(t9(a,r))}return n9(i)}}function t9(t=[],e){return Mt.create({name:e,providers:[{provide:bf,useValue:"platform"},{provide:HP,useValue:new Set([()=>ju=null])},...t]})}function n9(t){let e=zP();if(!e)throw new B(401,!1);return e}function zP(){return ju?.get($P)??null}function r9(t){t.get(db,null)?.forEach(n=>n())}function Ub(){return!1}var GP=Bb(null,"core",[]),YP=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(O(ui))},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})();function ac(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function $f(t,e){let n=yr(t),r=e.elementInjector||wf();return new vo(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function KP(t){let e=yr(t);if(!e)return null;let n=new vo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Vb=null;function Io(){return Vb}function XP(t){Vb||(Vb=t)}var Wf=class{},$e=new j("DocumentToken"),zb=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>D(o9),providedIn:"platform"});let t=e;return t})(),ex=new j("Location Initialized"),o9=(()=>{let e=class e extends zb{constructor(){super(),this._doc=D($e),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Io().getBaseHref(this._doc)}onPopState(r){let i=Io().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Io().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Gb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function QP(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Cr(t){return t&&t[0]!=="?"?"?"+t:t}var Dr=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>D(Yb),providedIn:"root"});let t=e;return t})(),tx=new j("appBaseHref"),Yb=(()=>{let e=class e extends Dr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??D($e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Gb(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Cr(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Cr(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Cr(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(O(zb),O(tx,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nx=(()=>{let e=class e extends Dr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return i==null&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Gb(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Cr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Cr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(O(zb),O(tx,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Ys=(()=>{let e=class e{constructor(r){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=u9(QP(JP(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Cr(i))}normalize(r){return e.stripTrailingSlash(a9(this._basePath,JP(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Cr(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Cr(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Cr,e.joinWithSlash=Gb,e.stripTrailingSlash=QP,e.\u0275fac=function(i){return new(i||e)(O(Dr))},e.\u0275prov=P({token:e,factory:()=>s9(),providedIn:"root"});let t=e;return t})();function s9(){return new Ys(O(Dr))}function a9(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function JP(t){return t.replace(/\/index.html$/,"")}function u9(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function rx(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ix=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Hb,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){ZP("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){ZP("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(He(ai),He(ti))},e.\u0275dir=Tn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Hb=class{constructor(){this.$implicit=null,this.ngIf=null}};function ZP(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Dt(e)}'.`)}var ox=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})(),Kb="browser",c9="server";function sx(t){return t===Kb}function uc(t){return t===c9}var ax=(()=>{let e=class e{};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>sx(D(At))?new $b(D($e),window):new Wb});let t=e;return t})(),$b=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=l9(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function l9(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Wb=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},zf=class{};var Zb=class extends Wf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Xb=class t extends Zb{static makeCurrent(){XP(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=f9();return n==null?null:h9(n)}resetBaseElement(){cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return rx(document.cookie,e)}},cc=null;function f9(){return cc=cc||document.querySelector("base"),cc?cc.getAttribute("href"):null}function h9(t){return new URL(t,document.baseURI).pathname}var e0=class{addToWindow(e){Tt.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new B(5103,!1);return o},Tt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Tt.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Tt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Io().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},p9=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),t0=new j("EventManagerPlugins"),fx=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new B(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(O(t0),O(Z))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Gf=class{constructor(e){this._doc=e}},Qb="ng-app-id",hx=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=uc(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Qb}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Qb),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Qb,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(O($e),O(Ef),O(fb,8),O(At))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Jb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},r0=/%COMP%/g,px="%COMP%",m9=`_nghost-${px}`,g9=`_ngcontent-${px}`,v9=!0,_9=new j("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>v9});function y9(t){return g9.replace(r0,t)}function b9(t){return m9.replace(r0,t)}function mx(t,e){return e.map(n=>n.replace(r0,t))}var cx=(()=>{let e=class e{constructor(r,i,o,s,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=uc(u),this.defaultRenderer=new lc(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===zn.ShadowDom&&(i=De(N({},i),{encapsulation:zn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Yf?o.applyToHost(r):o instanceof dc&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case zn.Emulated:s=new Yf(c,l,i,this.appId,d,a,u,h);break;case zn.ShadowDom:return new n0(c,l,r,i,a,u,this.nonce,h);default:s=new dc(c,l,i,d,a,u,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(O(fx),O(hx),O(Ef),O(_9),O($e),O(At),O(Z),O(fb))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),lc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Jb[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(lx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(lx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Jb[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Jb[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(wr.DashCase|wr.Important)?e.style.setProperty(n,r,i&wr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&wr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Io().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function lx(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var n0=class extends lc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=mx(i.id,i.styles);for(let l of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dc=class extends lc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?mx(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Yf=class extends dc{constructor(e,n,r,i,o,s,a,u){let c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=y9(c),this.hostAttr=b9(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},w9=(()=>{let e=class e extends Gf{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(O($e))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),dx=["alt","control","meta","shift"],E9={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},S9={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},I9=(()=>{let e=class e extends Gf{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Io().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),dx.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=E9[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),dx.forEach(a=>{if(a!==o){let u=S9[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(O($e))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function C9(){Xb.makeCurrent()}function D9(){return new Yn}function T9(){return kA(document),document}var O9=[{provide:At,useValue:Kb},{provide:db,useValue:C9,multi:!0},{provide:$e,useFactory:T9,deps:[]}],gx=Bb(GP,"browser",O9),M9=new j(""),A9=[{provide:sc,useClass:e0,deps:[]},{provide:jb,useClass:Bf,deps:[Z,Uf,sc]},{provide:Bf,useClass:Bf,deps:[Z,Uf,sc]}],P9=[{provide:bf,useValue:"root"},{provide:Yn,useFactory:D9,deps:[]},{provide:t0,useClass:w9,multi:!0,deps:[$e,Z,At]},{provide:t0,useClass:I9,multi:!0,deps:[$e]},cx,hx,fx,{provide:zu,useExisting:cx},{provide:zf,useClass:p9,deps:[]},[]],vx=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Ef,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(O(M9,12))},e.\u0275mod=se({type:e}),e.\u0275inj=oe({providers:[...P9,...A9],imports:[ox,YP]});let t=e;return t})();function x9(){return new i0(O($e))}var i0=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(O($e))},e.\u0275prov=P({token:e,factory:function(i){let o=null;return i?o=new i:o=x9(),o},providedIn:"root"});let t=e;return t})();var R9="firebase",N9="10.7.2";zr(R9,N9,"app");var Do=new ri("ANGULARFIRE2_VERSION");var k9=(t,e)=>{let n=e?[e]:hO(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Co=class{constructor(){return k9(F9)}},F9="app-check";function o0(){}var Kf=class{zone;delegate;constructor(e,n=k_){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},s0=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",o0,{},o0,o0)),n.pipe(Fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Qf=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Kf(Zone.current)),this.insideAngular=n.run(()=>new Kf(Zone.current,Gr)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(O(Z))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function j9(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Tr(t){return L9(j9())(t)}function L9(t){return function(n){return n=n.lift(new s0(t.ngZone)),n.pipe(bn(t.outsideAngular),tn(t.insideAngular))}}var q9="firebase",B9="10.7.2";It.registerVersion(q9,B9,"app-compat");var U9=["ngOnDestroy"],wx=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(U9.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let u=a?.[o];return typeof u=="function"?u.bind(a):u?.then?u.then(c=>n.run(()=>c)):n.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>s[u],apply:(a,u,c)=>s.then(l=>{let d=l?.(...c);return r?.spy?.apply&&r.spy.apply(o,c,d),d})})})});var Jf=class{constructor(e){return e}},Ks=new j("angularfire2.app.options"),Qs=new j("angularfire2.app.name");function fc(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=It.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>It.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;V9("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Jf(s)}var V9=(t,...e)=>{Ub()&&typeof console<"u"&&console[t](...e)},H9={provide:Jf,useFactory:fc,deps:[Ks,Z,[new Xu,Qs]]},Ex=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Ks,useValue:n},{provide:Qs,useValue:r}]}}constructor(n){It.registerVersion("angularfire",Do.full,"core"),It.registerVersion("angularfire",Do.full,"app-compat"),It.registerVersion("angular",BP.full,n.toString())}static \u0275fac=function(r){return new(r||t)(O(At))};static \u0275mod=se({type:t});static \u0275inj=oe({providers:[H9]})}return t})();function Zf(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return $9(i,s)||(bx("error",`${e} was already initialized on the ${n} Firebase App with different settings.${W9?" You may need to reload as Firebase is not HMR aware.":""}`),bx("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function $9(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var W9=typeof module<"u"&&!!module.hot,bx=(t,...e)=>{Ub()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var J="primary",Tc=Symbol("RouteTitle"),d0=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ta(t){return new d0(t)}function z9(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function G9(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qn(t[n],e[n]))return!1;return!0}function Qn(t,e){let n=t?f0(t):void 0,r=e?f0(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Px(t[i],e[i]))return!1;return!0}function f0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Px(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function xx(t){return t.length>0?t[t.length-1]:null}function fi(t){return j_(t)?t:rc(t)?Te(Promise.resolve(t)):k(t)}var Y9={exact:Nx,subset:kx},Rx={exact:K9,subset:Q9,ignored:()=>!0};function Sx(t,e,n){return Y9[n.paths](t.root,e.root,n.matrixParams)&&Rx[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function K9(t,e){return Qn(t,e)}function Nx(t,e,n){if(!Oo(t.segments,e.segments)||!th(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Nx(t.children[r],e.children[r],n))return!1;return!0}function Q9(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Px(t[n],e[n]))}function kx(t,e,n){return Fx(t,e,e.segments,n)}function Fx(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Oo(i,n)||e.hasChildren()||!th(i,n,r))}else if(t.segments.length===n.length){if(!Oo(t.segments,n)||!th(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!kx(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Oo(t.segments,i)||!th(t.segments,i,r)||!t.children[J]?!1:Fx(t.children[J],e,o,r)}}function th(t,e,n){return e.every((r,i)=>Rx[n](t[i].parameters,r.parameters))}var ci=class{constructor(e=new ge([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ta(this.queryParams),this._queryParamMap}toString(){return X9.serialize(this)}},ge=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nh(this)}},To=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ta(this.parameters),this._parameterMap}toString(){return Lx(this)}};function J9(t,e){return Oo(t,e)&&t.every((n,r)=>Qn(n.parameters,e[r].parameters))}function Oo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Z9(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===J&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==J&&(n=n.concat(e(i,r)))}),n}var Oc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>new yc,providedIn:"root"});let t=e;return t})(),yc=class{parse(e){let n=new p0(e);return new ci(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${hc(e.root,!0)}`,r=nY(e.queryParams),i=typeof e.fragment=="string"?`#${eY(e.fragment)}`:"";return`${n}${r}${i}`}},X9=new yc;function nh(t){return t.segments.map(e=>Lx(e)).join("/")}function hc(t,e){if(!t.hasChildren())return nh(t);if(e){let n=t.children[J]?hc(t.children[J],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==J&&r.push(`${i}:${hc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Z9(t,(r,i)=>i===J?[hc(t.children[J],!1)]:[`${i}:${hc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[J]!=null?`${nh(t)}/${n[0]}`:`${nh(t)}/(${n.join("//")})`}}function jx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xf(t){return jx(t).replace(/%3B/gi,";")}function eY(t){return encodeURI(t)}function h0(t){return jx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rh(t){return decodeURIComponent(t)}function Ix(t){return rh(t.replace(/\+/g,"%20"))}function Lx(t){return`${h0(t.path)}${tY(t.parameters)}`}function tY(t){return Object.entries(t).map(([e,n])=>`;${h0(e)}=${h0(n)}`).join("")}function nY(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Xf(n)}=${Xf(i)}`).join("&"):`${Xf(n)}=${Xf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var rY=/^[^\/()?;#]+/;function a0(t){let e=t.match(rY);return e?e[0]:""}var iY=/^[^\/()?;=#]+/;function oY(t){let e=t.match(iY);return e?e[0]:""}var sY=/^[^=?&#]+/;function aY(t){let e=t.match(sY);return e?e[0]:""}var uY=/^[^&#]+/;function cY(t){let e=t.match(uY);return e?e[0]:""}var p0=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[J]=new ge(e,n)),r}parseSegment(){let e=a0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new To(rh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=oY(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=a0(this.remaining);i&&(r=i,this.capture(r))}e[rh(n)]=rh(r)}parseQueryParam(e){let n=aY(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=cY(this.remaining);s&&(r=s,this.capture(r))}let i=Ix(n),o=Ix(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=a0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=J);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[J]:new ge([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function qx(t){return t.segments.length>0?new ge([],{[J]:t}):t}function Bx(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Bx(i);if(r===J&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ge(t.segments,e);return lY(n)}function lY(t){if(t.numberOfChildren===1&&t.children[J]){let e=t.children[J];return new ge(t.segments.concat(e.segments),e.children)}return t}function na(t){return t instanceof ci}function dY(t,e,n=null,r=null){let i=Ux(t);return Vx(i,e,n,r)}function Ux(t){let e;function n(o){let s={};for(let u of o.children){let c=n(u);s[u.outlet]=c}let a=new ge(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=qx(r);return e??i}function Vx(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return u0(i,i,i,n,r);let o=fY(e);if(o.toRoot())return u0(i,i,new ge([],{}),n,r);let s=hY(o,i,t),a=s.processChildren?gc(s.segmentGroup,s.index,o.commands):$x(s.segmentGroup,s.index,o.commands);return u0(i,s.segmentGroup,a,n,r)}function ih(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function bc(t){return typeof t=="object"&&t!=null&&t.outlets}function u0(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`});let s;t===e?s=n:s=Hx(t,e,n);let a=qx(Bx(s));return new ci(a,o,i)}function Hx(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Hx(o,e,n)}),new ge(t.segments,r)}var oh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ih(r[0]))throw new B(4003,!1);let i=r.find(bc);if(i&&i!==xx(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fY(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new oh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new oh(n,e,r)}var Xs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function hY(t,e,n){if(t.isAbsolute)return new Xs(e,!0,0);if(!n)return new Xs(e,!1,NaN);if(n.parent===null)return new Xs(n,!0,0);let r=ih(t.commands[0])?0:1,i=n.segments.length-1+r;return pY(n,i,t.numberOfDoubleDots)}function pY(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Xs(r,!1,i-o)}function mY(t){return bc(t[0])?t[0].outlets:{[J]:t}}function $x(t,e,n){if(t??=new ge([],{}),t.segments.length===0&&t.hasChildren())return gc(t,e,n);let r=gY(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ge(t.segments.slice(0,r.pathIndex),{});return o.children[J]=new ge(t.segments.slice(r.pathIndex),t.children),gc(o,0,i)}else return r.match&&i.length===0?new ge(t.segments,{}):r.match&&!t.hasChildren()?m0(t,e,n):r.match?gc(t,0,i):m0(t,e,n)}function gc(t,e,n){if(n.length===0)return new ge(t.segments,{});{let r=mY(n),i={};if(Object.keys(r).some(o=>o!==J)&&t.children[J]&&t.numberOfChildren===1&&t.children[J].segments.length===0){let o=gc(t.children[J],e,n);return new ge(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=$x(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(t.segments,i)}}function gY(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(bc(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!Dx(u,c,s))return o;r+=2}else{if(!Dx(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function m0(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(bc(o)){let u=vY(o.outlets);return new ge(r,u)}if(i===0&&ih(n[0])){let u=t.segments[e];r.push(new To(u.path,Cx(n[0]))),i++;continue}let s=bc(o)?o.outlets[J]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ih(a)?(r.push(new To(s,Cx(a))),i+=2):(r.push(new To(s,{})),i++)}return new ge(r,{})}function vY(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=m0(new ge([],{}),0,r))}),e}function Cx(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Dx(t,e,n){return t==n.path&&Qn(e,n.parameters)}var vc="imperative",st=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(st||{}),an=class{constructor(e,n){this.id=e,this.url=n}},ra=class extends an{constructor(e,n,r="imperative",i=null){super(e,n),this.type=st.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jn=class extends an{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=st.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},sn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(sn||{}),sh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(sh||{}),li=class extends an{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=st.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},di=class extends an{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=st.NavigationSkipped}},wc=class extends an{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=st.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ah=class extends an{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=st.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},g0=class extends an{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=st.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},v0=class extends an{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=st.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_0=class extends an{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=st.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},y0=class extends an{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=st.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},b0=class{constructor(e){this.route=e,this.type=st.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},w0=class{constructor(e){this.route=e,this.type=st.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},E0=class{constructor(e){this.snapshot=e,this.type=st.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},S0=class{constructor(e){this.snapshot=e,this.type=st.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},I0=class{constructor(e){this.snapshot=e,this.type=st.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},C0=class{constructor(e){this.snapshot=e,this.type=st.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uh=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=st.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ec=class{},Sc=class{constructor(e){this.url=e}};var D0=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Mc,this.attachRef=null}},Mc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new D0,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ch=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=T0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=T0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=O0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return O0(e,this._root).map(n=>n.value)}};function T0(t,e){if(t===e.value)return e;for(let n of e.children){let r=T0(t,n);if(r)return r}return null}function O0(t,e){if(t===e.value)return[e];for(let n of e.children){let r=O0(t,n);if(r.length)return r.unshift(e),r}return[]}var Yt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Zs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var lh=class extends ch{constructor(e,n){super(e),this.snapshot=n,L0(this,e)}toString(){return this.snapshot.toString()}};function Wx(t){let e=_Y(t),n=new it([new To("",{})]),r=new it({}),i=new it({}),o=new it({}),s=new it(""),a=new Or(n,r,o,s,i,J,t,e.root);return a.snapshot=e.root,new lh(new Yt(a,[]),e)}function _Y(t){let e={},n={},r={},i="",o=new Ic([],e,r,i,n,J,t,null,{});return new dh("",new Yt(o,[]))}var Or=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(q(c=>c[Tc]))??k(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(q(e=>ta(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(q(e=>ta(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function j0(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:N(N({},e.params),t.params),data:N(N({},e.data),t.data),resolve:N(N(N(N({},t.data),e.data),i?.data),t._resolvedData)}:r={params:N({},t.params),data:N({},t.data),resolve:N(N({},t.data),t._resolvedData??{})},i&&Gx(i)&&(r.resolve[Tc]=i.title),r}var Ic=class{get title(){return this.data?.[Tc]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ta(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ta(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},dh=class extends ch{constructor(e,n){super(n),this.url=e,L0(this,n)}toString(){return zx(this._root)}};function L0(t,e){e.value._routerState=t,e.children.forEach(n=>L0(t,n))}function zx(t){let e=t.children.length>0?` { ${t.children.map(zx).join(", ")} } `:"";return`${t.value}${e}`}function c0(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Qn(e.params,n.params)||t.paramsSubject.next(n.params),G9(e.url,n.url)||t.urlSubject.next(n.url),Qn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function M0(t,e){let n=Qn(t.params,e.params)&&J9(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||M0(t.parent,e.parent))}function Gx(t){return typeof t.title=="string"||t.title===null}var q0=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=J,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=D(Mc),this.location=D(ai),this.changeDetector=D(Eo),this.environmentInjector=D(bt),this.inputBinder=D(gh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new A0(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Tn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yo]});let t=e;return t})(),A0=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Or?this.route:e===Mc?this.childContexts:this.parent.get(e,n)}},gh=new j(""),Tx=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Ss([i.queryParams,i.params,i.data]).pipe(_e(([s,a,u],c)=>(u=N(N(N({},s),a),u),c===0?k(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=KP(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function yY(t,e,n){let r=Cc(t,e._root,n?n._root:void 0);return new lh(r,e)}function Cc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=bY(t,e,n);return new Yt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Cc(t,a)),s}}let r=wY(e.value),i=e.children.map(o=>Cc(t,o));return new Yt(r,i)}}function bY(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Cc(t,r,i);return Cc(t,r)})}function wY(t){return new Or(new it(t.url),new it(t.params),new it(t.queryParams),new it(t.fragment),new it(t.data),t.outlet,t.component,t)}var Yx="ngNavigationCancelingError";function Kx(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=na(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Qx(!1,sn.Redirect,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Qx(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[Yx]=!0,r.cancellationCode=e,n&&(r.url=n),r}function EY(t){return Jx(t)&&na(t.url)}function Jx(t){return t&&t[Yx]}var SY=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["ng-component"]],standalone:!0,features:[oc],decls:1,vars:0,template:function(i,o){i&1&&qt(0,"router-outlet")},dependencies:[q0],encapsulation:2});let t=e;return t})();function IY(t,e){return t.providers&&!t._injector&&(t._injector=Ff(t.providers,e,`Route: ${t.path}`)),t._injector??e}function B0(t){let e=t.children&&t.children.map(B0),n=e?De(N({},t),{children:e}):N({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==J&&(n.component=SY),n}function Zn(t){return t.outlet||J}function CY(t,e){let n=t.filter(r=>Zn(r)===e);return n.push(...t.filter(r=>Zn(r)!==e)),n}function Ac(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var DY=(t,e,n,r)=>q(i=>(new P0(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),P0=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),c0(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Zs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Zs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new C0(o.value.snapshot))}),e.children.length&&this.forwardEvent(new S0(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(c0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),c0(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Ac(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},fh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ea=class{constructor(e,n){this.component=e,this.route=n}};function TY(t,e,n){let r=t._root,i=e?e._root:null;return pc(r,i,n,[r.value])}function OY(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function oa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!MM(t)?t:e.get(t):r}function pc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Zs(e);return t.children.forEach(s=>{MY(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>_c(a,n.getContext(s),i)),i}function MY(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=AY(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new fh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pc(t,e,a?a.children:null,r,i):pc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ea(a.outlet.component,s))}else s&&_c(e,a,i),i.canActivateChecks.push(new fh(r)),o.component?pc(t,null,a?a.children:null,r,i):pc(t,null,n,r,i);return i}function AY(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Oo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Oo(t.url,e.url)||!Qn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!M0(t,e)||!Qn(t.queryParams,e.queryParams);case"paramsChange":default:return!M0(t,e)}}function _c(t,e,n){let r=Zs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?_c(s,e.children.getContext(o),n):_c(s,null,n):_c(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ea(e.outlet.component,i)):n.canDeactivateChecks.push(new ea(null,i)):n.canDeactivateChecks.push(new ea(null,i))}function Pc(t){return typeof t=="function"}function PY(t){return typeof t=="boolean"}function xY(t){return t&&Pc(t.canLoad)}function RY(t){return t&&Pc(t.canActivate)}function NY(t){return t&&Pc(t.canActivateChild)}function kY(t){return t&&Pc(t.canDeactivate)}function FY(t){return t&&Pc(t.canMatch)}function Zx(t){return t instanceof _r||t?.name==="EmptyError"}var eh=Symbol("INITIAL_VALUE");function ia(){return _e(t=>Ss(t.map(e=>e.pipe(Ge(1),Od(eh)))).pipe(q(e=>{for(let n of e)if(n!==!0){if(n===eh)return eh;if(n===!1||n instanceof ci)return n}return!0}),Ue(e=>e!==eh),Ge(1)))}function jY(t,e){return xe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?k(De(N({},n),{guardsResult:!0})):LY(s,r,i,t).pipe(xe(a=>a&&PY(a)?qY(r,o,t,e):k(a)),q(a=>De(N({},n),{guardsResult:a})))})}function LY(t,e,n,r){return Te(t).pipe(xe(i=>$Y(i.component,i.route,n,e,r)),nn(i=>i!==!0,!0))}function qY(t,e,n,r){return Te(e).pipe(so(i=>Vn(UY(i.route.parent,r),BY(i.route,r),HY(t,i.path,n),VY(t,i.route,n))),nn(i=>i!==!0,!0))}function BY(t,e){return t!==null&&e&&e(new I0(t)),k(!0)}function UY(t,e){return t!==null&&e&&e(new E0(t)),k(!0)}function VY(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return k(!0);let i=r.map(o=>Ed(()=>{let s=Ac(e)??n,a=oa(o,s),u=RY(a)?a.canActivate(e,t):oi(s,()=>a(e,t));return fi(u).pipe(nn())}));return k(i).pipe(ia())}function HY(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>OY(s)).filter(s=>s!==null).map(s=>Ed(()=>{let a=s.guards.map(u=>{let c=Ac(s.node)??n,l=oa(u,c),d=NY(l)?l.canActivateChild(r,t):oi(c,()=>l(r,t));return fi(d).pipe(nn())});return k(a).pipe(ia())}));return k(o).pipe(ia())}function $Y(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return k(!0);let s=o.map(a=>{let u=Ac(e)??i,c=oa(a,u),l=kY(c)?c.canDeactivate(t,e,n,r):oi(u,()=>c(t,e,n,r));return fi(l).pipe(nn())});return k(s).pipe(ia())}function WY(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return k(!0);let o=i.map(s=>{let a=oa(s,t),u=xY(a)?a.canLoad(e,n):oi(t,()=>a(e,n));return fi(u)});return k(o).pipe(ia(),Xx(r))}function Xx(t){return A_(Fe(e=>{if(na(e))throw Kx(t,e)}),q(e=>e===!0))}function zY(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return k(!0);let o=i.map(s=>{let a=oa(s,t),u=FY(a)?a.canMatch(e,n):oi(t,()=>a(e,n));return fi(u)});return k(o).pipe(ia(),Xx(r))}var Dc=class{constructor(e){this.segmentGroup=e||null}},hh=class extends Error{constructor(e){super(),this.urlTree=e}};function Js(t){return Es(new Dc(t))}function GY(t){return Es(new B(4e3,!1))}function YY(t){return Es(Qx(!1,sn.GuardRejected))}var x0=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return k(r);if(i.numberOfChildren>1||!i.children[J])return GY(e.redirectTo);i=i.children[J]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new hh(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new ci(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ge(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},R0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KY(t,e,n,r,i){let o=U0(t,e,n);return o.matched?(r=IY(e,r),zY(r,e,n,i).pipe(q(s=>s===!0?o:N({},R0)))):k(o)}function U0(t,e,n){if(e.path==="**")return QY(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?N({},R0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||z9)(n,t,e);if(!i)return N({},R0);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?N(N({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function QY(t){return{matched:!0,parameters:t.length>0?xx(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Ox(t,e,n,r){return n.length>0&&XY(t,n,r)?{segmentGroup:new ge(e,ZY(r,new ge(n,t.children))),slicedSegments:[]}:n.length===0&&eK(t,n,r)?{segmentGroup:new ge(t.segments,JY(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ge(t.segments,t.children),slicedSegments:n}}function JY(t,e,n,r){let i={};for(let o of n)if(vh(t,e,o)&&!r[Zn(o)]){let s=new ge([],{});i[Zn(o)]=s}return N(N({},r),i)}function ZY(t,e){let n={};n[J]=e;for(let r of t)if(r.path===""&&Zn(r)!==J){let i=new ge([],{});n[Zn(r)]=i}return n}function XY(t,e,n){return n.some(r=>vh(t,e,r)&&Zn(r)!==J)}function eK(t,e,n){return n.some(r=>vh(t,e,r))}function vh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function tK(t,e,n,r){return Zn(t)!==r&&(r===J||!vh(e,n,t))?!1:U0(e,t,n).matched}function nK(t,e,n){return e.length===0&&!t.children[n]}var N0=class{};function rK(t,e,n,r,i,o,s="emptyOnly"){return new k0(t,e,n,r,i,s,o).recognize()}var iK=31,k0=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new x0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=Ox(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(q(n=>{let r=new Ic([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,{},J,this.rootComponentType,null,{}),i=new Yt(r,n),o=new dh("",i),s=dY(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,J).pipe(Kr(r=>{if(r instanceof hh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Dc?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=j0(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(q(o=>o instanceof Yt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Te(i).pipe(so(o=>{let s=r.children[o],a=CY(n,o);return this.processSegmentGroup(e,a,s,o)}),Ds((o,s)=>(o.push(...s),o)),Qr(null),U_(),xe(o=>{if(o===null)return Js(r);let s=eR(o);return oK(s),k(s)}))}processSegment(e,n,r,i,o,s){return Te(n).pipe(so(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Kr(u=>{if(u instanceof Dc)return k(null);throw u}))),nn(a=>!!a),Kr(a=>{if(Zx(a))return nK(r,i,o)?k(new N0):Js(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return tK(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Js(i):Js(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:l}=U0(n,i,o);if(!a)return Js(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iK&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(xe(h=>this.processSegment(e,r,n,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=KY(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(_e(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(_e(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,m=new Ic(l,h,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,aK(r),Zn(r),r.component??r._loadedComponent??null,r,uK(r)),{segmentGroup:g,slicedSegments:_}=Ox(n,l,d,u);if(_.length===0&&g.hasChildren())return this.processChildren(c,u,g).pipe(q(b=>b===null?null:new Yt(m,b)));if(u.length===0&&_.length===0)return k(new Yt(m,[]));let y=Zn(r)===o;return this.processSegment(c,u,g,_,y?J:o,!0).pipe(q(b=>new Yt(m,b instanceof Yt?[b]:[])))}))):Js(n)))}getChildConfig(e,n,r){return n.children?k({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?k({routes:n._loadedRoutes,injector:n._loadedInjector}):WY(e,n,r,this.urlSerializer).pipe(xe(i=>i?this.configLoader.loadChildren(e,n).pipe(Fe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):YY(n))):k({routes:[],injector:e})}};function oK(t){t.sort((e,n)=>e.value.outlet===J?-1:n.value.outlet===J?1:e.value.outlet.localeCompare(n.value.outlet))}function sK(t){let e=t.value.routeConfig;return e&&e.path===""}function eR(t){let e=[],n=new Set;for(let r of t){if(!sK(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=eR(r.children);e.push(new Yt(r.value,i))}return e.filter(r=>!n.has(r))}function aK(t){return t.data||{}}function uK(t){return t.resolve||{}}function cK(t,e,n,r,i,o){return xe(s=>rK(t,e,n,r,s.extractedUrl,i,o).pipe(q(({state:a,tree:u})=>De(N({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function lK(t,e){return xe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return k(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let c of tR(u))s.add(c);let a=0;return Te(s).pipe(so(u=>o.has(u)?dK(u,r,t,e):(u.data=j0(u,u.parent,t).resolve,k(void 0))),Fe(()=>a++),Cs(1),xe(u=>a===s.size?k(n):ot))})}function tR(t){let e=t.children.map(n=>tR(n)).flat();return[t,...e]}function dK(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Gx(i)&&(o[Tc]=i.title),fK(o,t,e,r).pipe(q(s=>(t._resolvedData=s,t.data=j0(t,t.parent,n).resolve,null)))}function fK(t,e,n,r){let i=f0(t);if(i.length===0)return k({});let o={};return Te(i).pipe(xe(s=>hK(t[s],e,n,r).pipe(nn(),Fe(a=>{o[s]=a}))),Cs(1),Nu(o),Kr(s=>Zx(s)?ot:Es(s)))}function hK(t,e,n,r){let i=Ac(e)??r,o=oa(t,i),s=o.resolve?o.resolve(e,n):oi(i,()=>o(e,n));return fi(s)}function l0(t){return _e(e=>{let n=t(e);return n?Te(n).pipe(q(()=>e)):k(e)})}var nR=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===J);return i}getResolvedTitleForRoute(r){return r.data[Tc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>D(pK),providedIn:"root"});let t=e;return t})(),pK=(()=>{let e=class e extends nR{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(O(i0))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xc=new j("",{providedIn:"root",factory:()=>({})}),ph=new j("ROUTES"),V0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=D(Lf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return k(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=fi(r.loadComponent()).pipe(q(rR),Fe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Is(()=>{this.componentLoaders.delete(r)})),o=new gs(i,()=>new me).pipe(ms());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return k({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=mK(i,this.compiler,r,this.onLoadEndListener).pipe(Is(()=>{this.childrenLoaders.delete(i)})),a=new gs(s,()=>new me).pipe(ms());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mK(t,e,n,r){return fi(t.loadChildren()).pipe(q(rR),xe(i=>i instanceof Yu||Array.isArray(i)?k(i):Te(e.compileModuleAsync(i))),q(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(ph,[],{optional:!0,self:!0}).flat()),{routes:s.map(B0),injector:o}}))}function gK(t){return t&&typeof t=="object"&&"default"in t}function rR(t){return gK(t)?t.default:t}var H0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>D(vK),providedIn:"root"});let t=e;return t})(),vK=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iR=new j(""),oR=new j("");function _K(t,e,n){let r=t.get(oR),i=t.get($e);return t.get(Z).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),yK(t))),{onViewTransitionCreated:u}=r;return u&&oi(t,()=>u({transition:a,from:e,to:n})),s})}function yK(t){return new Promise(e=>{Ob(e,{injector:t})})}var $0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new me,this.transitionAbortSubject=new me,this.configLoader=D(V0),this.environmentInjector=D(bt),this.urlSerializer=D(Oc),this.rootContexts=D(Mc),this.location=D(Ys),this.inputBindingEnabled=D(gh,{optional:!0})!==null,this.titleStrategy=D(nR),this.options=D(xc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=D(H0),this.createViewTransition=D(iR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>k(void 0),this.rootComponentType=null;let r=o=>this.events.next(new b0(o)),i=o=>this.events.next(new w0(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(De(N(N({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new it({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ue(s=>s.id!==0),q(s=>De(N({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),_e(s=>{this.currentTransition=s;let a=!1,u=!1;return k(s).pipe(Fe(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?De(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_e(c=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new di(c.id,this.urlSerializer.serialize(c.rawUrl),h,sh.IgnoredSameUrlNavigation)),c.resolve(null),ot}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return k(c).pipe(_e(h=>{let m=this.transitions?.getValue();return this.events.next(new ra(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions?.getValue()?ot:Promise.resolve(h)}),cK(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=De(N({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let m=new ah(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:m,source:g,restoredState:_,extras:y}=c,b=new ra(h,this.urlSerializer.serialize(m),g,_);this.events.next(b);let I=Wx(this.rootComponentType).snapshot;return this.currentTransition=s=De(N({},c),{targetSnapshot:I,urlAfterRedirects:m,extras:De(N({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,k(s)}else{let h="";return this.events.next(new di(c.id,this.urlSerializer.serialize(c.extractedUrl),h,sh.IgnoredByUrlHandlingStrategy)),c.resolve(null),ot}}),Fe(c=>{let l=new g0(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),q(c=>(this.currentTransition=s=De(N({},c),{guards:TY(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),jY(this.environmentInjector,c=>this.events.next(c)),Fe(c=>{if(s.guardsResult=c.guardsResult,na(c.guardsResult))throw Kx(this.urlSerializer,c.guardsResult);let l=new v0(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ue(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",sn.GuardRejected),!1)),l0(c=>{if(c.guards.canActivateChecks.length)return k(c).pipe(Fe(l=>{let d=new _0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),_e(l=>{let d=!1;return k(l).pipe(lK(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",sn.NoDataFromResolver)}}))}),Fe(l=>{let d=new y0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),l0(c=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Fe(m=>{d.component=m}),q(()=>{})));for(let m of d.children)h.push(...l(m));return h};return Ss(l(c.targetSnapshot.root)).pipe(Qr(null),Ge(1))}),l0(()=>this.afterPreactivation()),_e(()=>{let{currentSnapshot:c,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?Te(d).pipe(q(()=>s)):k(s)}),q(c=>{let l=yY(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=De(N({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Fe(()=>{this.events.next(new Ec)}),DY(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ge(1),Fe({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Ze(this.transitionAbortSubject.pipe(Fe(c=>{throw c}))),Is(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",sn.SupersededByNewNavigation),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Kr(c=>{if(u=!0,Jx(c))this.events.next(new li(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),EY(c)?this.events.next(new Sc(c.url)):s.resolve(!1);else{this.events.next(new wc(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return ot}))}))}cancelNavigationTransition(r,i,o){let s=new li(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bK(t){return t!==vc}var wK=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>D(EK),providedIn:"root"});let t=e;return t})(),F0=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},EK=(()=>{let e=class e extends F0{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ju(e)))(o||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>D(SK),providedIn:"root"});let t=e;return t})(),SK=(()=>{let e=class e extends sR{constructor(){super(...arguments),this.location=D(Ys),this.urlSerializer=D(Oc),this.options=D(xc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=D(H0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ci,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Wx(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ra)this.stateMemento=this.createStateMemento();else if(r instanceof di)this.rawUrlTree=i.initialUrl;else if(r instanceof ah){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Ec?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof li&&(r.code===sn.GuardRejected||r.code===sn.NoDataFromResolver)?this.restoreHistory(i):r instanceof wc?this.restoreHistory(i,!0):r instanceof Jn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=N(N({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=N(N({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ju(e)))(o||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(mc||{});function aR(t,e){t.events.pipe(Ue(n=>n instanceof Jn||n instanceof li||n instanceof wc||n instanceof di),q(n=>n instanceof Jn||n instanceof di?mc.COMPLETE:(n instanceof li?n.code===sn.Redirect||n.code===sn.SupersededByNewNavigation:!1)?mc.REDIRECTING:mc.FAILED),Ue(n=>n!==mc.REDIRECTING),Ge(1)).subscribe(()=>{e()})}function IK(t){throw t}var CK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},un=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=D(jf),this.stateManager=D(sR),this.options=D(xc,{optional:!0})||{},this.pendingTasks=D(qf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=D($0),this.urlSerializer=D(Oc),this.location=D(Ys),this.urlHandlingStrategy=D(H0),this._events=new me,this.errorHandler=this.options.errorHandler||IK,this.navigated=!1,this.routeReuseStrategy=D(wK),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=D(ph,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!D(gh,{optional:!0}),this.eventsSubscription=new Be,this.isNgZoneEnabled=D(Z)instanceof Z&&Z.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof li&&i.code!==sn.Redirect&&i.code!==sn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Jn)this.navigated=!0;else if(i instanceof Sc){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||bK(o.source)};this.scheduleNavigation(a,vc,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}OK(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=N({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(B0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a,d=null;switch(u){case"merge":d=N(N({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let m=o?o.snapshot:this.routerState.snapshot.root;h=Ux(m)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return Vx(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=na(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,vc,null,i)}navigate(r,i={skipLocationChange:!1}){return TK(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=N({},CK):i===!1?o=N({},DK):o=i,na(r))return Sx(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Sx(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((h,m)=>{u=h,c=m});let d=this.pendingTasks.add();return aR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TK(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function OK(t){return!(t instanceof Ec)&&!(t instanceof Sc)}var _h=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new me,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Jn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(this.urlTree,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:JA(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(He(un),He(Or),yf("tabindex"),He(Tf),He(Pt),He(Dr))},e.\u0275dir=Tn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Kn("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&So("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[zt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",ac],skipLocationChange:[zt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",ac],replaceUrl:[zt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",ac],routerLink:"routerLink"},standalone:!0,features:[xb,yo]});let t=e;return t})();var mh=class{};var MK=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ue(r=>r instanceof Jn),so(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Ff(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(u,s.children??s._loadedRoutes))}return Te(o).pipe(Yr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=k(null);let s=o.pipe(xe(a=>a===null?k(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Te([s,a]).pipe(Yr())}else return s})}};e.\u0275fac=function(i){return new(i||e)(O(un),O(Lf),O(bt),O(mh),O(V0))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uR=new j(""),AK=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ra?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Jn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof di&&r.code===sh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof uh&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new uh(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){sP()},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function PK(t){return t.routerState.root}function Rc(t,e){return{\u0275kind:t,\u0275providers:e}}function xK(){let t=D(Mt);return e=>{let n=t.get(ui);if(e!==n.components[0])return;let r=t.get(un),i=t.get(cR);t.get(W0)===1&&r.initialNavigation(),t.get(lR,null,te.Optional)?.setUpPreloading(),t.get(uR,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var cR=new j("",{factory:()=>new me}),W0=new j("",{providedIn:"root",factory:()=>1});function RK(){return Rc(2,[{provide:W0,useValue:0},{provide:Vf,multi:!0,deps:[Mt],useFactory:e=>{let n=e.get(ex,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(un),o=e.get(cR);aR(i,()=>{r(!0)}),e.get($0).afterPreactivation=()=>(r(!0),o.closed?k(void 0):o),i.initialNavigation()}))}}])}function NK(){return Rc(3,[{provide:Vf,multi:!0,useFactory:()=>{let e=D(un);return()=>{e.setUpLocationChangeListener()}}},{provide:W0,useValue:2}])}var lR=new j("");function kK(t){return Rc(0,[{provide:lR,useExisting:MK},{provide:mh,useExisting:t}])}function FK(){return Rc(8,[Tx,{provide:gh,useExisting:Tx}])}function jK(t){let e=[{provide:iR,useValue:_K},{provide:oR,useValue:N({skipNextTransition:!!t?.skipInitialTransition},t)}];return Rc(9,e)}var Mx=new j("ROUTER_FORROOT_GUARD"),LK=[Ys,{provide:Oc,useClass:yc},un,Mc,{provide:Or,useFactory:PK,deps:[un]},V0,[]],Nc=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[LK,[],{provide:ph,multi:!0,useValue:r},{provide:Mx,useFactory:VK,deps:[[un,new Xu,new TA]]},{provide:xc,useValue:i||{}},i?.useHash?BK():UK(),qK(),i?.preloadingStrategy?kK(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?HK(i):[],i?.bindToComponentInputs?FK().\u0275providers:[],i?.enableViewTransitions?jK().\u0275providers:[],$K()]}}static forChild(r){return{ngModule:e,providers:[{provide:ph,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(O(Mx,8))},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})();function qK(){return{provide:uR,useFactory:()=>{let t=D(ax),e=D(Z),n=D(xc),r=D($0),i=D(Oc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new AK(i,r,t,e,n)}}}function BK(){return{provide:Dr,useClass:nx}}function UK(){return{provide:Dr,useClass:Yb}}function VK(t){return"guarded"}function HK(t){return[t.initialNavigation==="disabled"?NK().\u0275providers:[],t.initialNavigation==="enabledBlocking"?RK().\u0275providers:[]]}var Ax=new j("");function $K(){return[{provide:Ax,useFactory:xK},{provide:qb,multi:!0,useExisting:Ax}]}var WK=[],dR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({imports:[Nc.forRoot(WK),Nc]});let t=e;return t})();var YK=new Map,KK={activated:!1,tokenObservers:[]},QK={initialized:!1,enabled:!1};function On(t){return YK.get(t)||Object.assign({},KK)}function gR(){return QK}var JK="https://content-firebaseappcheck.googleapis.com/v1";var ZK="exchangeDebugToken",fR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},dLe=24*60*60*1e3;var G0=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return A(this,null,function*(){this.stop();try{this.pending=new rt,this.pending.promise.catch(n=>{}),yield XK(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new rt,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function XK(t){return new Promise(e=>{setTimeout(e,t)})}var eQ={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},hi=new oO("appCheck","AppCheck",eQ);function vR(t){if(!On(t).activated)throw hi.create("use-before-activation",{appName:t.name})}function _R(r,i){return A(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(m){throw hi.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw hi.create("fetch-status-error",{httpStatus:u.status});let c;try{c=yield u.json()}catch(m){throw hi.create("fetch-parse-error",{originalErrorMessage:m?.message})}let l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw hi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(l[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function yR(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${JK}/projects/${n}/apps/${r}:${ZK}?key=${i}`,body:{debug_token:e}}}var tQ="firebase-app-check-database",nQ=1,Y0="firebase-app-check-store";var yh=null;function rQ(){return yh||(yh=new Promise((t,e)=>{try{let n=indexedDB.open(tQ,nQ);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(hi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Y0,{keyPath:"compositeKey"})}}}catch(n){e(hi.create("storage-open",{originalErrorMessage:n?.message}))}}),yh)}function iQ(t,e){return oQ(sQ(t),e)}function oQ(t,e){return A(this,null,function*(){let r=(yield rQ()).transaction(Y0,"readwrite"),o=r.objectStore(Y0).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var c;a(hi.create("storage-set",{originalErrorMessage:(c=u.target.error)===null||c===void 0?void 0:c.message}))}})})}function sQ(t){return`${t.options.appId}-${t.name}`}var K0=new ls("@firebase/app-check");function z0(t,e){return iO()?iQ(t,e).catch(n=>{K0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function bR(){return gR().enabled}function wR(){return A(this,null,function*(){let t=gR();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var aQ={error:"UNKNOWN_ERROR"};function uQ(t){return Jl.encodeString(JSON.stringify(t),!1)}function Q0(t,e=!1){return A(this,null,function*(){let n=t.app;vR(n);let r=On(n),i=r.token,o;if(i&&!Fc(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(Fc(u)?i=u:yield z0(n,void 0))}if(!e&&i&&Fc(i))return{token:i.token};let s=!1;if(bR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_R(yR(n,yield wR()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield z0(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield On(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?K0.warn(u.message):K0.error(u),o=u}let a;return i?o?Fc(i)?a={token:i.token,internalError:o}:a=pR(o):(a={token:i.token},r.token=i,yield z0(n,i)):a=pR(o),s&&fQ(n,a),a})}function cQ(t){return A(this,null,function*(){let e=t.app;vR(e);let{provider:n}=On(e);if(bR()){let r=yield wR(),{token:i}=yield _R(yR(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function lQ(t,e,n,r){let{app:i}=t,o=On(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Fc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),hR(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>hR(t))}function ER(t,e){let n=On(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function hR(t){let{app:e}=t,n=On(e),r=n.tokenRefresher;r||(r=dQ(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function dQ(t){let{app:e}=t;return new G0(()=>A(this,null,function*(){let n=On(e),r;if(n.token?r=yield Q0(t,!0):r=yield Q0(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=On(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},fR.RETRIAL_MIN_WAIT,fR.RETRIAL_MAX_WAIT)}function fQ(t,e){let n=On(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Fc(t){return t.expireTimeMillis-Date.now()>0}function pR(t){return{token:uQ(aQ),error:t}}var J0=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=On(this.app);for(let n of e)ER(this.app,n.next);return Promise.resolve()}};function hQ(t,e){return new J0(t,e)}function pQ(t){return{getToken:e=>Q0(t,e),getLimitedUseToken:()=>cQ(t),addTokenListener:e=>lQ(t,"INTERNAL",e),removeTokenListener:e=>ER(t.app,e)}}var mQ="@firebase/app-check",gQ="0.8.1";var vQ="app-check",mR="app-check-internal";function _Q(){Mu(new mr(vQ,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return hQ(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(mR).initialize()})),Mu(new mr(mR,t=>{let e=t.getProvider("app-check").getImmediate();return pQ(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),zr(mQ,gQ)}_Q();var yQ=["localhost","0.0.0.0","127.0.0.1"],SLe=typeof window<"u"&&yQ.includes(window.location.hostname);var Z0=new j("angularfire2.auth.use-emulator"),X0=new j("angularfire2.auth.settings"),ew=new j("angularfire2.auth.tenant-id"),tw=new j("angularfire2.auth.langugage-code"),nw=new j("angularfire2.auth.use-device-language"),rw=new j("angularfire.auth.persistence"),iw=(t,e,n,r,i,o,s,a)=>Zf(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let u=e.runOutsideAngular(()=>t.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,o&&u.useDeviceLanguage(),s)for(let[c,l]of Object.entries(s))u.settings[c]=l;return a&&u.setPersistence(a),u},[n,r,i,o,s,a]),jc=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,u,c,l,d,h,m){let g=new me,_=k(void 0).pipe(tn(s.outsideAngular),_e(()=>o.runOutsideAngular(()=>import("./chunk-A3THMFJU.js"))),q(()=>fc(n,o,r)),q(y=>iw(y,o,a,c,l,d,u,h)),Td({bufferSize:1,refCount:!1}));if(uc(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=k(null);else{_.pipe(nn()).subscribe();let y=_.pipe(_e(E=>E.getRedirectResult().then(S=>S,()=>null)),Tr,Td({bufferSize:1,refCount:!1})),b=_.pipe(_e(E=>new $(S=>({unsubscribe:o.runOutsideAngular(()=>E.onAuthStateChanged(C=>S.next(C),C=>S.error(C),()=>S.complete()))})))),I=_.pipe(_e(E=>new $(S=>({unsubscribe:o.runOutsideAngular(()=>E.onIdTokenChanged(C=>S.next(C),C=>S.error(C),()=>S.complete()))}))));this.authState=y.pipe(Md(b),bn(s.outsideAngular),tn(s.insideAngular)),this.user=y.pipe(Md(I),bn(s.outsideAngular),tn(s.insideAngular)),this.idToken=this.user.pipe(_e(E=>E?Te(E.getIdToken()):k(null))),this.idTokenResult=this.user.pipe(_e(E=>E?Te(E.getIdTokenResult()):k(null))),this.credential=oo(y,g,this.authState.pipe(Ue(E=>!E))).pipe(q(E=>E?.user?E:null),bn(s.outsideAngular),tn(s.insideAngular))}return wx(this,_,o,{spy:{apply:(y,b,I)=>{(y.startsWith("signIn")||y.startsWith("createUser"))&&I.then(E=>g.next(E))}}})}static \u0275fac=function(r){return new(r||t)(O(Ks),O(Qs,8),O(At),O(Z),O(Qf),O(Z0,8),O(X0,8),O(ew,8),O(tw,8),O(nw,8),O(rw,8),O(Co,8))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),IR=(()=>{class t{constructor(){It.registerVersion("angularfire",Do.full,"auth-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=se({type:t});static \u0275inj=oe({providers:[jc]})}return t})();var DR="@firebase/database",TR="1.0.2";var g1="";function v1(t){g1=t}var fw=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ze(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Zl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var hw=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return en(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var iN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new fw(e)}}catch{}return new hw},Ao=iN("localStorage"),pw=iN("sessionStorage");var ca=new ls("@firebase/database"),oN=function(){let t=1;return function(){return t++}}(),sN=function(t){let e=lO(t),n=new cO;n.update(e);let r=n.digest();return Jl.encodeByteArray(r)},al=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=al.apply(null,r):typeof r=="object"?e+=ze(r):e+=r,e+=" "}return e},Po=null,OR=!0,aN=function(t,e){M(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ca.logLevel=dO.VERBOSE,Po=ca.log.bind(ca),e&&pw.set("logging_enabled",!0)):typeof t=="function"?Po=t:(Po=null,pw.remove("logging_enabled"))},at=function(...t){if(OR===!0&&(OR=!1,Po===null&&pw.get("logging_enabled")===!0&&aN(!0)),Po){let e=al.apply(null,t);Po(e)}},ul=function(t){return function(...e){at(t,...e)}},mw=function(...t){let e="FIREBASE INTERNAL ERROR: "+al(...t);ca.error(e)},tr=function(...t){let e=`FIREBASE FATAL ERROR: ${al(...t)}`;throw ca.error(e),new Error(e)},wt=function(...t){let e="FIREBASE WARNING: "+al(...t);ca.warn(e)},bQ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},wQ=function(t){if(Bn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},vi="[MIN_NAME]",Mr="[MAX_NAME]",Ro=function(t,e){if(t===e)return 0;if(t===vi||e===Mr)return-1;if(e===vi||t===Mr)return 1;{let n=MR(t),r=MR(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},EQ=function(t,e){return t===e?0:t<e?-1:1},Lc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ze(e))},_1=function(t){if(typeof t!="object"||t===null)return ze(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ze(e[r]),n+=":",n+=_1(t[e[r]]);return n+="}",n},uN=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ut(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var cN=function(t){M(!Gh(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,u;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(u=n;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(u=e;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();let l=c.join(""),d="";for(u=0;u<64;u+=8){let h=parseInt(l.substr(u,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},SQ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},IQ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function CQ(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var DQ=new RegExp("^-?(0*)\\d{1,10}$"),TQ=-2147483648,OQ=2147483647,MR=function(t){if(DQ.test(t)){let e=Number(t);if(e>=TQ&&e<=OQ)return e}return null},_a=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},MQ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vc=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var gw=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var vw=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(e)}},Hc=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),wh="5",lN="v",dN="s",fN="r",hN="f",pN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mN="ls",gN="p",_w="ac",vN="websocket",_N="long_polling";var Eh=class{constructor(e,n,r,i,o=!1,s="",a=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ao.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ao.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function AQ(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function yN(t,e,n){M(typeof e=="string","typeof type must == string"),M(typeof n=="object","typeof params must == object");let r;if(e===vN)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===_N)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);AQ(t)&&(n.ns=t.namespace);let i=[];return ut(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var yw=class{constructor(){this.counters_={}}incrementCounter(e,n=1){en(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return tO(this.counters_)}};var ow={},sw={};function y1(t){let e=t.toString();return ow[e]||(ow[e]=new yw),ow[e]}function PQ(t,e){let n=t.toString();return sw[n]||(sw[n]=e()),sw[n]}var bw=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&_a(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var AR="start",xQ="close",RQ="pLPCommand",NQ="pRTLPCB",bN="id",wN="pw",EN="ser",kQ="cb",FQ="seg",jQ="ts",LQ="d",qQ="dframe",SN=1870,IN=30,BQ=SN-IN,UQ=25e3,VQ=3e4,Gc=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ul(e),this.stats_=y1(n),this.urlFn=u=>(this.appCheckToken&&(u[_w]=this.appCheckToken),yN(n,_N,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(VQ)),wQ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ww((...o)=>{let[s,a,u,c,l]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===AR)this.id=a,this.password=u;else if(s===xQ)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[AR]="t",r[EN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[kQ]=this.scriptTagHolder.uniqueCallbackIdentifier),r[lN]=wh,this.transportSessionId&&(r[dN]=this.transportSessionId),this.lastSessionId&&(r[mN]=this.lastSessionId),this.applicationId&&(r[gN]=this.applicationId),this.appCheckToken&&(r[_w]=this.appCheckToken),typeof location<"u"&&location.hostname&&pN.test(location.hostname)&&(r[fN]=hN);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Bn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!SQ()&&!IQ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=eO(n),i=uN(r,BQ);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Bn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[qQ]="t",r[bN]=e,r[wN]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=ze(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},ww=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Bn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=oN(),window[RQ+this.uniqueCallbackIdentifier]=e,window[NQ+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){at("frame writing exception"),a.stack&&at(a.stack),at(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||at("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[bN]=this.myID,e[wN]=this.myPW,e[EN]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+IN+r.length<=SN;){let s=this.pendingSegs.shift();r=r+"&"+FQ+i+"="+s.seg+"&"+jQ+i+"="+s.ts+"&"+LQ+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(UQ)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){Bn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{at("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var HQ=16384,$Q=45e3,Sh=null;typeof MozWebSocket<"u"?Sh=MozWebSocket:typeof WebSocket<"u"&&(Sh=WebSocket);var aa=(()=>{class t{constructor(n,r,i,o,s,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ul(this.connId),this.stats_=y1(r),this.connURL=t.connectionURL_(r,a,u,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[lN]=wh,!Bn()&&typeof location<"u"&&location.hostname&&pN.test(location.hostname)&&(a[fN]=hN),r&&(a[dN]=r),i&&(a[mN]=i),o&&(a[_w]=o),s&&(a[gN]=s),yN(n,vN,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ao.set("previous_websocket_failure",!0);try{let i;if(Bn()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${wh}/${g1}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Sh(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Sh!==null&&!t.forceDisallow_}static previouslyFailed(){return Ao.isInMemoryStorage||Ao.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ao.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Zl(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(M(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=ze(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=uN(r,HQ);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($Q))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),CN=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Gc,aa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=aa&&aa.isAvailable(),i=r&&!aa.previouslyFailed();if(n.webSocketOnly&&(r||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[aa];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),WQ=6e4,zQ=5e3,GQ=10*1024,YQ=100*1024,aw="t",PR="d",KQ="s",xR="r",QQ="e",RR="o",NR="a",kR="n",FR="p",JQ="h",Ew=class{constructor(e,n,r,i,o,s,a,u,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ul("c:"+this.id+":"),this.transportManager_=new CN(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Vc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>YQ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>GQ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(aw in e){let n=e[aw];n===NR?this.upgradeIfSecondaryHealthy_():n===xR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===RR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Lc("t",e),r=Lc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:FR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:NR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:kR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Lc("t",e),r=Lc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Lc(aw,e);if(PR in e){let r=e[PR];if(n===JQ){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===kR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===KQ?this.onConnectionShutdown_(r):n===xR?this.onReset_(r):n===QQ?mw("Server Error: "+r):n===RR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mw("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wh!==r&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Vc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(WQ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zQ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:FR,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ao.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Ih=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Ch=class{constructor(e){this.allowedEvents_=e,this.listeners_={},M(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){M(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Dh=class t extends Ch{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!__()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return M(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var jR=32,LR=768,he=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function fe(){return new he("")}function X(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function _i(t){return t.pieces_.length-t.pieceNum_}function Ce(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new he(t.pieces_,e)}function b1(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ZQ(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Yc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function DN(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new he(e,0)}function Re(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof he)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new he(n,0)}function ee(t){return t.pieceNum_>=t.pieces_.length}function xt(t,e){let n=X(t),r=X(e);if(n===null)return e;if(n===r)return xt(Ce(t),Ce(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function XQ(t,e){let n=Yc(t,0),r=Yc(e,0);for(let i=0;i<n.length&&i<r.length;i++){let o=Ro(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function w1(t,e){if(_i(t)!==_i(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function cn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(_i(t)>_i(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Sw=class{constructor(e,n){this.errorPrefix_=n,this.parts_=Yc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ou(this.parts_[r]);TN(this)}};function eJ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ou(e),TN(t)}function tJ(t){let e=t.parts_.pop();t.byteLength_-=Ou(e),t.parts_.length>0&&(t.byteLength_-=1)}function TN(t){if(t.byteLength_>LR)throw new Error(t.errorPrefix_+"has a key path longer than "+LR+" bytes ("+t.byteLength_+").");if(t.parts_.length>jR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jR+") or object contains a cycle "+Mo(t))}function Mo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Iw=class t extends Ch{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return M(e==="visible","Unknown event type: "+e),[this.visible_]}};var qc=1e3,nJ=60*5*1e3,qR=30*1e3,rJ=1.3,iJ=3e4,oJ="server_kill",BR=3,E1=(()=>{class t extends Ih{constructor(n,r,i,o,s,a,u,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=ul("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qc,this.maxReconnectDelay_=nJ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Bn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Iw.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Dh.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(ze(s)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new rt,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let u=a.d;a.s==="ok"?r.resolve(u):r.reject(u)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let u={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,u),this.connected_&&this.sendListen_(u)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,u=>{let c=u.d,l=u.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",u),l!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(l,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&en(n,"w")){let i=Wr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||aO(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qR)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=sO(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ze(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):mw("Unrecognized action received from server: "+ze(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=qc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>iJ&&(this.reconnectDelay_=qc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*rJ)}this.onConnectStatus_(!1)}establishConnection_(){return A(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,u=null,c=function(){u?u.close():(a=!0,i())},l=function(h){M(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(h)};this.realtime_={close:c,sendRequest:l};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,m]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=m&&m.token,u=new Ew(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{wt(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(oJ)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&wt(h),c())}}})}interrupt(n){at("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){at("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Xl(this.interruptReasons_)&&(this.reconnectDelay_=qc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>_1(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new he(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){at("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=BR&&(this.reconnectDelay_=qR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){at("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=BR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Bn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+g1.replace(/\./g,"-")]=1,__()?n["framework.cordova"]=1:rO()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Dh.getInstance().currentlyOnline();return Xl(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),ie=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var la=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new ie(vi,e),i=new ie(vi,n);return this.compare(r,i)!==0}minPost(){return ie.MIN}};var bh,Th=class extends la{static get __EMPTY_NODE(){return bh}static set __EMPTY_NODE(e){bh=e}compare(e,n){return Ro(e.name,n.name)}isDefinedOn(e){throw cs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ie.MIN}maxPost(){return new ie(Mr,bh)}makePost(e,n){return M(typeof e=="string","KeyIndex indexValue must always be a string."),new ie(e,bh)}toString(){return".key"}},er=new Th;var ua=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Mn=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??ln.EMPTY_NODE,this.right=s??ln.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ln.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return ln.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Cw=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Mn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},ln=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Mn.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Mn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ua(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ua(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ua(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ua(this.root_,null,this.comparator_,!0,e)}};ln.EMPTY_NODE=new Cw;function sJ(t,e){return Ro(t.name,e.name)}function S1(t,e){return Ro(t,e)}var Dw;function aJ(t){Dw=t}var ON=function(t){return typeof t=="number"?"number:"+cN(t):"string:"+t},MN=function(t){if(t.isLeafNode()){let e=t.val();M(typeof e=="string"||typeof e=="number"||typeof e=="object"&&en(e,".sv"),"Priority must be a string or number.")}else M(t===Dw||t.isEmpty(),"priority of unexpected type.");M(t===Dw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var UR,da=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),MN(this.priorityNode_)}static set __childrenNodeConstructor(n){UR=n}static get __childrenNodeConstructor(){return UR}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ee(n)?this:X(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=X(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(M(i!==".priority"||_i(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+ON(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=cN(this.value_):n+=this.value_,this.lazyHash_=sN(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(M(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return M(o>=0,"Unknown leaf type: "+r),M(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),AN,PN;function uJ(t){AN=t}function cJ(t){PN=t}var Tw=class extends la{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ro(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie(Mr,new da("[PRIORITY-POST]",PN))}makePost(e,n){let r=AN(e);return new ie(n,new da("[PRIORITY-POST]",r))}toString(){return".priority"}},Me=new Tw;var lJ=Math.log(2),Ow=class{constructor(e){let n=o=>parseInt(Math.log(o)/lJ,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Oh=function(t,e,n,r){t.sort(e);let i=function(u,c){let l=c-u,d,h;if(l===0)return null;if(l===1)return d=t[u],h=n?n(d):d,new Mn(h,d.node,Mn.BLACK,null,null);{let m=parseInt(l/2,10)+u,g=i(u,m),_=i(m+1,c);return d=t[m],h=n?n(d):d,new Mn(h,d.node,Mn.BLACK,g,_)}},o=function(u){let c=null,l=null,d=t.length,h=function(g,_){let y=d-g,b=d;d-=g;let I=i(y+1,b),E=t[y],S=n?n(E):E;m(new Mn(S,E.node,_,null,I))},m=function(g){c?(c.left=g,c=g):(l=g,c=g)};for(let g=0;g<u.count;++g){let _=u.nextBitIsOne(),y=Math.pow(2,u.count-(g+1));_?h(y,Mn.BLACK):(h(y,Mn.BLACK),h(y,Mn.RED))}return l},s=new Ow(t.length),a=o(s);return new ln(r||e,a)};var uw,sa={},fa=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return M(sa&&Me,"ChildrenNode.ts has not been loaded"),uw=uw||new t({".priority":sa},{".priority":Me}),uw}get(e){let n=Wr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ln?n:null}hasIndex(e){return en(this.indexSet_,e.toString())}addIndex(e,n){M(e!==er,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(ie.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Oh(r,e.getCompare()):a=sa;let u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;let l=Object.assign({},this.indexes_);return l[u]=a,new t(l,c)}addToIndexes(e,n){let r=Tu(this.indexes_,(i,o)=>{let s=Wr(this.indexSet_,o);if(M(s,"Missing index implementation for "+o),i===sa)if(s.isDefinedOn(e.node)){let a=[],u=n.getIterator(ie.Wrap),c=u.getNext();for(;c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),Oh(a,s.getCompare())}else return sa;else{let a=n.get(e.name),u=i;return a&&(u=u.remove(new ie(e.name,a))),u.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Tu(this.indexes_,i=>{if(i===sa)return i;{let o=n.get(e.name);return o?i.remove(new ie(e.name,o)):i}});return new t(r,this.indexSet_)}};var Bc,G=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&MN(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Bc||(Bc=new t(new ln(S1),null,fa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bc}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Bc:r}}getChild(n){let r=X(n);return r===null?this:this.getImmediateChild(r).getChild(Ce(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(M(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new ie(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Bc:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=X(n);if(i===null)return r;{M(X(n)!==".priority"||_i(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(Ce(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Me,(a,u)=>{r[a]=u.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let u in r)a[u]=r[u];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+ON(this.getPriority().val())+":"),this.forEachChild(Me,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":sN(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new ie(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new ie(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new ie(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,ie.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,ie.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===cl?-1:0}withIndex(n){if(n===er||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===er||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Me),o=r.getIterator(Me),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===er?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Mw=class extends G{constructor(){super(new ln(S1),G.EMPTY_NODE,fa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return G.EMPTY_NODE}isEmpty(){return!1}},cl=new Mw;Object.defineProperties(ie,{MIN:{value:new ie(vi,G.EMPTY_NODE)},MAX:{value:new ie(Mr,cl)}});Th.__EMPTY_NODE=G.EMPTY_NODE;da.__childrenNodeConstructor=G;aJ(cl);cJ(cl);var dJ=!0;function je(t,e=null){if(t===null)return G.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),M(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new da(n,je(e))}if(!(t instanceof Array)&&dJ){let n=[],r=!1;if(ut(t,(s,a)=>{if(s.substring(0,1)!=="."){let u=je(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new ie(s,u)))}}),n.length===0)return G.EMPTY_NODE;let o=Oh(n,sJ,s=>s.name,S1);if(r){let s=Oh(n,Me.getCompare());return new G(o,je(e),new fa({".priority":s},{".priority":Me}))}else return new G(o,je(e),fa.Default)}else{let n=G.EMPTY_NODE;return ut(t,(r,i)=>{if(en(t,r)&&r.substring(0,1)!=="."){let o=je(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(je(e))}}uJ(je);var Kc=class extends la{constructor(e){super(),this.indexPath_=e,M(!ee(e)&&X(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ro(e.name,n.name):o}makePost(e,n){let r=je(e),i=G.EMPTY_NODE.updateChild(this.indexPath_,r);return new ie(n,i)}maxPost(){let e=G.EMPTY_NODE.updateChild(this.indexPath_,cl);return new ie(Mr,e)}toString(){return Yc(this.indexPath_,0).join("/")}};var Aw=class extends la{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ro(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(e,n){let r=je(e);return new ie(n,r)}toString(){return".value"}},I1=new Aw;function xN(t){return{type:"value",snapshotNode:t}}function ha(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Qc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Jc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function fJ(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Zc=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){M(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Qc(n,a)):M(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ha(n,r)):s.trackChildChange(Jc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Me,(i,o)=>{n.hasChild(i)||r.trackChildChange(Qc(i,o))}),n.isLeafNode()||n.forEachChild(Me,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Jc(i,o,s))}else r.trackChildChange(ha(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?G.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Mh=class t{constructor(e){this.indexedFilter_=new Zc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new ie(n,r))||(r=G.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=G.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(G.EMPTY_NODE);let o=this;return n.forEachChild(Me,(s,a)=>{o.matches(new ie(s,a))||(i=i.updateImmediateChild(s,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Pw=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Mh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new ie(n,r))||(r=G.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=G.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=G.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(G.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,m)=>d(m,h)}else s=this.index_.getCompare();let a=e;M(a.numChildren()===this.limit_,"");let u=new ie(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);let m=h==null?1:s(h,u);if(l&&!r.isEmpty()&&m>=0)return o?.trackChildChange(Jc(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Qc(n,d));let _=a.updateImmediateChild(n,G.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(ha(h.name,h.node)),_.updateImmediateChild(h.name,h.node)):_}}else return r.isEmpty()?e:l&&s(c,u)>=0?(o!=null&&(o.trackChildChange(Qc(c.name,c.node)),o.trackChildChange(ha(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,G.EMPTY_NODE)):e}};var Xc=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vi}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Mr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Me}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function hJ(t){return t.loadsAllData()?new Zc(t.getIndex()):t.hasLimit()?new Pw(t):new Mh(t)}function pJ(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function mJ(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function xw(t,e,n){let r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function gJ(t,e,n){let r;return t.index_===er||n?r=xw(t,e,n):r=xw(t,e,Mr),r.startAfterSet_=!0,r}function Rw(t,e,n){let r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function vJ(t,e,n){let r;return t.index_===er||n?r=Rw(t,e,n):r=Rw(t,e,vi),r.endBeforeSet_=!0,r}function Yh(t,e){let n=t.copy();return n.index_=e,n}function VR(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Me?n="$priority":t.index_===I1?n="$value":t.index_===er?n="$key":(M(t.index_ instanceof Kc,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ze(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=ze(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ze(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ze(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ze(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function HR(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Me&&(e.i=t.index_.toString()),e}var Nw=class t extends Ih{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ul("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(M(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let u=VR(e._queryParams);this.restRequest_(o+".json",u,(c,l)=>{let d=l;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),Wr(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=VR(e._queryParams),r=e._path.toString(),i=new rt;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+uO(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=Zl(a.responseText)}catch{wt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,u)}else a.status!==401&&a.status!==404&&wt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var kw=class{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Ah(){return{value:null,children:new Map}}function ya(t,e,n){if(ee(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=X(e);t.children.has(r)||t.children.set(r,Ah());let i=t.children.get(r);e=Ce(e),ya(i,e,n)}}function Fw(t,e){if(ee(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(Me,(r,i)=>{ya(t,new he(r),i)}),Fw(t,e)}}else if(t.children.size>0){let n=X(e);return e=Ce(e),t.children.has(n)&&Fw(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function jw(t,e,n){t.value!==null?n(e,t.value):_J(t,(r,i)=>{let o=new he(e.toString()+"/"+r);jw(i,o,n)})}function _J(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Lw=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ut(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var $R=10*1e3,yJ=30*1e3,bJ=5*60*1e3,qw=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Lw(e);let r=$R+(yJ-$R)*Math.random();Vc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;ut(e,(i,o)=>{o>0&&en(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Vc(this.reportStats_.bind(this),Math.floor(Math.random()*2*bJ))}};var Xn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Xn||{});function C1(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function D1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function T1(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Bw=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Xn.ACK_USER_WRITE,this.source=C1()}operationForChild(e){if(ee(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new he(e));return new t(fe(),n,this.revert)}}else return M(X(this.path)===e,"operationForChild called for unrelated child."),new t(Ce(this.path),this.affectedTree,this.revert)}};var Ph=class t{constructor(e,n){this.source=e,this.path=n,this.type=Xn.LISTEN_COMPLETE}operationForChild(e){return ee(this.path)?new t(this.source,fe()):new t(this.source,Ce(this.path))}};var pa=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Xn.OVERWRITE}operationForChild(e){return ee(this.path)?new t(this.source,fe(),this.snap.getImmediateChild(e)):new t(this.source,Ce(this.path),this.snap)}};var el=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Xn.MERGE}operationForChild(e){if(ee(this.path)){let n=this.children.subtree(new he(e));return n.isEmpty()?null:n.value?new pa(this.source,fe(),n.value):new t(this.source,fe(),n)}else return M(X(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var nr=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ee(e))return this.isFullyInitialized()&&!this.filtered_;let n=X(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Uw=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function wJ(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(fJ(s.childName,s.snapshotNode))}),Uc(t,i,"child_removed",e,r,n),Uc(t,i,"child_added",e,r,n),Uc(t,i,"child_moved",o,r,n),Uc(t,i,"child_changed",e,r,n),Uc(t,i,"value",e,r,n),i}function Uc(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,u)=>SJ(t,a,u)),s.forEach(a=>{let u=EJ(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(u,t.query_))})})}function EJ(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function SJ(t,e,n){if(e.childName==null||n.childName==null)throw cs("Should only compare child_ events.");let r=new ie(e.childName,e.snapshotNode),i=new ie(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Kh(t,e){return{eventCache:t,serverCache:e}}function $c(t,e,n,r){return Kh(new nr(e,n,r),t.serverCache)}function RN(t,e,n,r){return Kh(t.eventCache,new nr(e,n,r))}function xh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function xo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var cw,IJ=()=>(cw||(cw=new ln(EQ)),cw),Rt=class t{constructor(e,n=IJ()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return ut(e,(r,i)=>{n=n.set(new he(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:fe(),value:this.value};if(ee(e))return null;{let r=X(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(Ce(e),n);return o!=null?{path:Re(new he(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ee(e))return this;{let n=X(e),r=this.children.get(n);return r!==null?r.subtree(Ce(e)):new t(null)}}set(e,n){if(ee(e))return new t(n,this.children);{let r=X(e),o=(this.children.get(r)||new t(null)).set(Ce(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(ee(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=X(e),r=this.children.get(n);if(r){let i=r.remove(Ce(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(ee(e))return this.value;{let n=X(e),r=this.children.get(n);return r?r.get(Ce(e)):null}}setTree(e,n){if(ee(e))return n;{let r=X(e),o=(this.children.get(r)||new t(null)).setTree(Ce(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(fe(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Re(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,fe(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(ee(e))return null;{let o=X(e),s=this.children.get(o);return s?s.findOnPath_(Ce(e),Re(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,fe(),n)}foreachOnPath_(e,n,r){if(ee(e))return this;{this.value&&r(n,this.value);let i=X(e),o=this.children.get(i);return o?o.foreachOnPath_(Ce(e),Re(n,i),r):new t(null)}}foreach(e){this.foreach_(fe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Re(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var An=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Rt(null))}};function Wc(t,e,n){if(ee(e))return new An(new Rt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=xt(i,e);return o=o.updateChild(s,n),new An(t.writeTree_.set(i,o))}else{let i=new Rt(n),o=t.writeTree_.setTree(e,i);return new An(o)}}}function Vw(t,e,n){let r=t;return ut(n,(i,o)=>{r=Wc(r,Re(e,i),o)}),r}function WR(t,e){if(ee(e))return An.empty();{let n=t.writeTree_.setTree(e,new Rt(null));return new An(n)}}function Hw(t,e){return No(t,e)!=null}function No(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(xt(n.path,e)):null}function zR(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Me,(r,i)=>{e.push(new ie(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ie(r,i.value))}),e}function mi(t,e){if(ee(e))return t;{let n=No(t,e);return n!=null?new An(new Rt(n)):new An(t.writeTree_.subtree(e))}}function $w(t){return t.writeTree_.isEmpty()}function ma(t,e){return NN(fe(),t.writeTree_,e)}function NN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(M(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=NN(Re(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Re(t,".priority"),r)),n}}function Qh(t,e){return LN(e,t)}function CJ(t,e,n,r,i){M(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Wc(t.visibleWrites,e,n)),t.lastWriteId=r}function DJ(t,e,n,r){M(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Vw(t.visibleWrites,e,n),t.lastWriteId=r}function TJ(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function OJ(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);M(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&MJ(a,r.path)?i=!1:cn(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return AJ(t),!0;if(r.snap)t.visibleWrites=WR(t.visibleWrites,r.path);else{let a=r.children;ut(a,u=>{t.visibleWrites=WR(t.visibleWrites,Re(r.path,u))})}return!0}else return!1}function MJ(t,e){if(t.snap)return cn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&cn(Re(t.path,n),e))return!0;return!1}function AJ(t){t.visibleWrites=kN(t.allWrites,PJ,fe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function PJ(t){return t.visible}function kN(t,e,n){let r=An.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)cn(n,s)?(a=xt(n,s),r=Wc(r,a,o.snap)):cn(s,n)&&(a=xt(s,n),r=Wc(r,fe(),o.snap.getChild(a)));else if(o.children){if(cn(n,s))a=xt(n,s),r=Vw(r,a,o.children);else if(cn(s,n))if(a=xt(s,n),ee(a))r=Vw(r,fe(),o.children);else{let u=Wr(o.children,X(a));if(u){let c=u.getChild(Ce(a));r=Wc(r,fe(),c)}}}else throw cs("WriteRecord should have .snap or .children")}}return r}function FN(t,e,n,r,i){if(!r&&!i){let o=No(t.visibleWrites,e);if(o!=null)return o;{let s=mi(t.visibleWrites,e);if($w(s))return n;if(n==null&&!Hw(s,fe()))return null;{let a=n||G.EMPTY_NODE;return ma(s,a)}}}else{let o=mi(t.visibleWrites,e);if(!i&&$w(o))return n;if(!i&&n==null&&!Hw(o,fe()))return null;{let s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(cn(c.path,e)||cn(e,c.path))},a=kN(t.allWrites,s,e),u=n||G.EMPTY_NODE;return ma(a,u)}}}function xJ(t,e,n){let r=G.EMPTY_NODE,i=No(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Me,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=mi(t.visibleWrites,e);return n.forEachChild(Me,(s,a)=>{let u=ma(mi(o,new he(s)),a);r=r.updateImmediateChild(s,u)}),zR(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=mi(t.visibleWrites,e);return zR(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function RJ(t,e,n,r,i){M(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Re(e,n);if(Hw(t.visibleWrites,o))return null;{let s=mi(t.visibleWrites,o);return $w(s)?i.getChild(n):ma(s,i.getChild(n))}}function NJ(t,e,n,r){let i=Re(e,n),o=No(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=mi(t.visibleWrites,i);return ma(s,r.getNode().getImmediateChild(n))}else return null}function kJ(t,e){return No(t.visibleWrites,e)}function FJ(t,e,n,r,i,o,s){let a,u=mi(t.visibleWrites,e),c=No(u,fe());if(c!=null)a=c;else if(n!=null)a=ma(u,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let l=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),m=h.getNext();for(;m&&l.length<i;)d(m,r)!==0&&l.push(m),m=h.getNext();return l}else return[]}function jJ(){return{visibleWrites:An.empty(),allWrites:[],lastWriteId:-1}}function Rh(t,e,n,r){return FN(t.writeTree,t.treePath,e,n,r)}function O1(t,e){return xJ(t.writeTree,t.treePath,e)}function GR(t,e,n,r){return RJ(t.writeTree,t.treePath,e,n,r)}function Nh(t,e){return kJ(t.writeTree,Re(t.treePath,e))}function LJ(t,e,n,r,i,o){return FJ(t.writeTree,t.treePath,e,n,r,i,o)}function M1(t,e,n){return NJ(t.writeTree,t.treePath,e,n)}function jN(t,e){return LN(Re(t.treePath,e),t.writeTree)}function LN(t,e){return{treePath:t,writeTree:e}}var Ww=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;M(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),M(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Jc(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Qc(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,ha(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Jc(r,e.snapshotNode,i.oldSnap));else throw cs("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var zw=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},qN=new zw,tl=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new nr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return M1(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:xo(this.viewCache_),o=LJ(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function qJ(t){return{filter:t}}function BJ(t,e){M(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),M(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function UJ(t,e,n,r,i){let o=new Ww,s,a;if(n.type===Xn.OVERWRITE){let c=n;c.source.fromUser?s=Gw(t,e,c.path,c.snap,r,i,o):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ee(c.path),s=kh(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===Xn.MERGE){let c=n;c.source.fromUser?s=HJ(t,e,c.path,c.children,r,i,o):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=Yw(t,e,c.path,c.children,r,i,a,o))}else if(n.type===Xn.ACK_USER_WRITE){let c=n;c.revert?s=zJ(t,e,c.path,r,i,o):s=$J(t,e,c.path,c.affectedTree,r,i,o)}else if(n.type===Xn.LISTEN_COMPLETE)s=WJ(t,e,n.path,r,o);else throw cs("Unknown operation type: "+n.type);let u=o.getChanges();return VJ(e,s,u),{viewCache:s,changes:u}}function VJ(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=xh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(xN(xh(e)))}}function BN(t,e,n,r,i,o){let s=e.eventCache;if(Nh(r,n)!=null)return e;{let a,u;if(ee(n))if(M(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=xo(e),l=c instanceof G?c:G.EMPTY_NODE,d=O1(r,l);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let c=Rh(r,xo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{let c=X(n);if(c===".priority"){M(_i(n)===1,"Can't have a priority with additional path components");let l=s.getNode();u=e.serverCache.getNode();let d=GR(r,n,l,u);d!=null?a=t.filter.updatePriority(l,d):a=s.getNode()}else{let l=Ce(n),d;if(s.isCompleteForChild(c)){u=e.serverCache.getNode();let h=GR(r,n,s.getNode(),u);h!=null?d=s.getNode().getImmediateChild(c).updateChild(l,h):d=s.getNode().getImmediateChild(c)}else d=M1(r,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,l,i,o):a=s.getNode()}}return $c(e,a,s.isFullyInitialized()||ee(n),t.filter.filtersNodes())}}function kh(t,e,n,r,i,o,s,a){let u=e.serverCache,c,l=s?t.filter:t.filter.getIndexedFilter();if(ee(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){let m=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),m,null)}else{let m=X(n);if(!u.isCompleteForPath(n)&&_i(n)>1)return e;let g=Ce(n),y=u.getNode().getImmediateChild(m).updateChild(g,r);m===".priority"?c=l.updatePriority(u.getNode(),y):c=l.updateChild(u.getNode(),m,y,g,qN,null)}let d=RN(e,c,u.isFullyInitialized()||ee(n),l.filtersNodes()),h=new tl(i,d,o);return BN(t,d,n,i,h,a)}function Gw(t,e,n,r,i,o,s){let a=e.eventCache,u,c,l=new tl(i,e,o);if(ee(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),u=$c(e,c,!0,t.filter.filtersNodes());else{let d=X(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),u=$c(e,c,a.isFullyInitialized(),a.isFiltered());else{let h=Ce(n),m=a.getNode().getImmediateChild(d),g;if(ee(h))g=r;else{let _=l.getCompleteChild(d);_!=null?b1(h)===".priority"&&_.getChild(DN(h)).isEmpty()?g=_:g=_.updateChild(h,r):g=G.EMPTY_NODE}if(m.equals(g))u=e;else{let _=t.filter.updateChild(a.getNode(),d,g,h,l,s);u=$c(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function YR(t,e){return t.eventCache.isCompleteForChild(e)}function HJ(t,e,n,r,i,o,s){let a=e;return r.foreach((u,c)=>{let l=Re(n,u);YR(e,X(l))&&(a=Gw(t,a,l,c,i,o,s))}),r.foreach((u,c)=>{let l=Re(n,u);YR(e,X(l))||(a=Gw(t,a,l,c,i,o,s))}),a}function KR(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Yw(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,c;ee(n)?c=r:c=new Rt(null).setTree(n,r);let l=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){let m=e.serverCache.getNode().getImmediateChild(d),g=KR(t,m,h);u=kh(t,u,new he(d),g,i,o,s,a)}}),c.children.inorderTraversal((d,h)=>{let m=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!l.hasChild(d)&&!m){let g=e.serverCache.getNode().getImmediateChild(d),_=KR(t,g,h);u=kh(t,u,new he(d),_,i,o,s,a)}}),u}function $J(t,e,n,r,i,o,s){if(Nh(i,n)!=null)return e;let a=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(ee(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return kh(t,e,n,u.getNode().getChild(n),i,o,a,s);if(ee(n)){let c=new Rt(null);return u.getNode().forEachChild(er,(l,d)=>{c=c.set(new he(l),d)}),Yw(t,e,n,c,i,o,a,s)}else return e}else{let c=new Rt(null);return r.foreach((l,d)=>{let h=Re(n,l);u.isCompleteForPath(h)&&(c=c.set(l,u.getNode().getChild(h)))}),Yw(t,e,n,c,i,o,a,s)}}function WJ(t,e,n,r,i){let o=e.serverCache,s=RN(e,o.getNode(),o.isFullyInitialized()||ee(n),o.isFiltered());return BN(t,s,n,r,qN,i)}function zJ(t,e,n,r,i,o){let s;if(Nh(r,n)!=null)return e;{let a=new tl(r,e,i),u=e.eventCache.getNode(),c;if(ee(n)||X(n)===".priority"){let l;if(e.serverCache.isFullyInitialized())l=Rh(r,xo(e));else{let d=e.serverCache.getNode();M(d instanceof G,"serverChildren would be complete if leaf node"),l=O1(r,d)}l=l,c=t.filter.updateFullNode(u,l,o)}else{let l=X(n),d=M1(r,l,e.serverCache);d==null&&e.serverCache.isCompleteForChild(l)&&(d=u.getImmediateChild(l)),d!=null?c=t.filter.updateChild(u,l,d,Ce(n),a,o):e.eventCache.getNode().hasChild(l)?c=t.filter.updateChild(u,l,G.EMPTY_NODE,Ce(n),a,o):c=u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Rh(r,xo(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||Nh(r,fe())!=null,$c(e,c,s,t.filter.filtersNodes())}}var Kw=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Zc(r.getIndex()),o=hJ(r);this.processor_=qJ(o);let s=n.serverCache,a=n.eventCache,u=i.updateFullNode(G.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(G.EMPTY_NODE,a.getNode(),null),l=new nr(u,s.isFullyInitialized(),i.filtersNodes()),d=new nr(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Kh(d,l),this.eventGenerator_=new Uw(this.query_)}get query(){return this.query_}};function GJ(t){return t.viewCache_.serverCache.getNode()}function YJ(t){return xh(t.viewCache_)}function KJ(t,e){let n=xo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ee(e)&&!n.getImmediateChild(X(e)).isEmpty())?n.getChild(e):null}function QR(t){return t.eventRegistrations_.length===0}function QJ(t,e){t.eventRegistrations_.push(e)}function JR(t,e,n){let r=[];if(n){M(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function ZR(t,e,n,r){e.type===Xn.MERGE&&e.source.queryId!==null&&(M(xo(t.viewCache_),"We should always have a full cache before handling merges"),M(xh(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=UJ(t.processor_,i,e,n,r);return BJ(t.processor_,o.viewCache),M(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,UN(t,o.changes,o.viewCache.eventCache.getNode(),null)}function JJ(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Me,(o,s)=>{r.push(ha(o,s))}),n.isFullyInitialized()&&r.push(xN(n.getNode())),UN(t,r,n.getNode(),e)}function UN(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return wJ(t.eventGenerator_,e,n,i)}var Fh,jh=class{constructor(){this.views=new Map}};function ZJ(t){M(!Fh,"__referenceConstructor has already been defined"),Fh=t}function XJ(){return M(Fh,"Reference.ts has not been loaded"),Fh}function eZ(t){return t.views.size===0}function A1(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return M(o!=null,"SyncTree gave us an op for an invalid query."),ZR(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(ZR(s,e,n,r));return o}}function VN(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Rh(n,i?r:null),u=!1;a?u=!0:r instanceof G?(a=O1(n,r),u=!1):(a=G.EMPTY_NODE,u=!1);let c=Kh(new nr(a,u,!1),new nr(r,i,!1));return new Kw(e,c)}return s}function tZ(t,e,n,r,i,o){let s=VN(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),QJ(s,n),JJ(s,n)}function nZ(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=yi(t);if(i==="default")for(let[u,c]of t.views.entries())s=s.concat(JR(c,n,r)),QR(c)&&(t.views.delete(u),c.query._queryParams.loadsAllData()||o.push(c.query));else{let u=t.views.get(i);u&&(s=s.concat(JR(u,n,r)),QR(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||o.push(u.query)))}return a&&!yi(t)&&o.push(new(XJ())(e._repo,e._path)),{removed:o,events:s}}function HN(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function gi(t,e){let n=null;for(let r of t.views.values())n=n||KJ(r,e);return n}function $N(t,e){if(e._queryParams.loadsAllData())return Jh(t);{let r=e._queryIdentifier;return t.views.get(r)}}function WN(t,e){return $N(t,e)!=null}function yi(t){return Jh(t)!=null}function Jh(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Lh;function rZ(t){M(!Lh,"__referenceConstructor has already been defined"),Lh=t}function iZ(){return M(Lh,"Reference.ts has not been loaded"),Lh}var oZ=1,qh=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Rt(null),this.pendingWriteTree_=jJ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function P1(t,e,n,r,i){return CJ(t.pendingWriteTree_,e,n,r,i),i?ba(t,new pa(C1(),e,n)):[]}function sZ(t,e,n,r){DJ(t.pendingWriteTree_,e,n,r);let i=Rt.fromObject(n);return ba(t,new el(C1(),e,i))}function pi(t,e,n=!1){let r=TJ(t.pendingWriteTree_,e);if(OJ(t.pendingWriteTree_,e)){let o=new Rt(null);return r.snap!=null?o=o.set(fe(),!0):ut(r.children,s=>{o=o.set(new he(s),!0)}),ba(t,new Bw(r.path,o,n))}else return[]}function ll(t,e,n){return ba(t,new pa(D1(),e,n))}function aZ(t,e,n){let r=Rt.fromObject(n);return ba(t,new el(D1(),e,r))}function uZ(t,e){return ba(t,new Ph(D1(),e))}function cZ(t,e,n){let r=x1(t,n);if(r){let i=R1(r),o=i.path,s=i.queryId,a=xt(o,e),u=new Ph(T1(s),a);return N1(t,o,u)}else return[]}function Bh(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||WN(s,e))){let u=nZ(s,e,n,r);eZ(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let c=u.removed;if(a=u.events,!i){let l=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(h,m)=>yi(m));if(l&&!d){let h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){let m=fZ(h);for(let g=0;g<m.length;++g){let _=m[g],y=_.query,b=KN(t,_);t.listenProvider_.startListening(zc(y),nl(t,y),b.hashFn,b.onComplete)}}}!d&&c.length>0&&!r&&(l?t.listenProvider_.stopListening(zc(e),null):c.forEach(h=>{let m=t.queryToTagMap.get(Xh(h));t.listenProvider_.stopListening(zc(h),m)}))}hZ(t,c)}return a}function zN(t,e,n,r){let i=x1(t,r);if(i!=null){let o=R1(i),s=o.path,a=o.queryId,u=xt(s,e),c=new pa(T1(a),u,n);return N1(t,s,c)}else return[]}function lZ(t,e,n,r){let i=x1(t,r);if(i){let o=R1(i),s=o.path,a=o.queryId,u=xt(s,e),c=Rt.fromObject(n),l=new el(T1(a),u,c);return N1(t,s,l)}else return[]}function Qw(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(h,m)=>{let g=xt(h,i);o=o||gi(m,g),s=s||yi(m)});let a=t.syncPointTree_.get(i);a?(s=s||yi(a),o=o||gi(a,fe())):(a=new jh,t.syncPointTree_=t.syncPointTree_.set(i,a));let u;o!=null?u=!0:(u=!1,o=G.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((m,g)=>{let _=gi(g,fe());_&&(o=o.updateImmediateChild(m,_))}));let c=WN(a,e);if(!c&&!e._queryParams.loadsAllData()){let h=Xh(e);M(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let m=pZ();t.queryToTagMap.set(h,m),t.tagToQueryMap.set(m,h)}let l=Qh(t.pendingWriteTree_,i),d=tZ(a,e,n,l,o,u);if(!c&&!s&&!r){let h=$N(a,e);d=d.concat(mZ(t,e,h))}return d}function Zh(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let u=xt(s,e),c=gi(a,u);if(c)return c});return FN(i,e,o,n,!0)}function dZ(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(c,l)=>{let d=xt(c,n);r=r||gi(l,d)});let i=t.syncPointTree_.get(n);i?r=r||gi(i,fe()):(i=new jh,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new nr(r,!0,!1):null,a=Qh(t.pendingWriteTree_,e._path),u=VN(i,e,a,o?s.getNode():G.EMPTY_NODE,o);return YJ(u)}function ba(t,e){return GN(e,t.syncPointTree_,null,Qh(t.pendingWriteTree_,fe()))}function GN(t,e,n,r){if(ee(t.path))return YN(t,e,n,r);{let i=e.get(fe());n==null&&i!=null&&(n=gi(i,fe()));let o=[],s=X(t.path),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){let c=n?n.getImmediateChild(s):null,l=jN(r,s);o=o.concat(GN(a,u,c,l))}return i&&(o=o.concat(A1(i,t,r,n))),o}}function YN(t,e,n,r){let i=e.get(fe());n==null&&i!=null&&(n=gi(i,fe()));let o=[];return e.children.inorderTraversal((s,a)=>{let u=n?n.getImmediateChild(s):null,c=jN(r,s),l=t.operationForChild(s);l&&(o=o.concat(YN(l,a,u,c)))}),i&&(o=o.concat(A1(i,t,r,n))),o}function KN(t,e){let n=e.query,r=nl(t,n);return{hashFn:()=>(GJ(e)||G.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?cZ(t,n._path,r):uZ(t,n._path);{let o=CQ(i,n);return Bh(t,n,null,o)}}}}function nl(t,e){let n=Xh(e);return t.queryToTagMap.get(n)}function Xh(t){return t._path.toString()+"$"+t._queryIdentifier}function x1(t,e){return t.tagToQueryMap.get(e)}function R1(t){let e=t.indexOf("$");return M(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new he(t.substr(0,e))}}function N1(t,e,n){let r=t.syncPointTree_.get(e);M(r,"Missing sync point for query tag that we're tracking");let i=Qh(t.pendingWriteTree_,e);return A1(r,n,i,null)}function fZ(t){return t.fold((e,n,r)=>{if(n&&yi(n))return[Jh(n)];{let i=[];return n&&(i=HN(n)),ut(r,(o,s)=>{i=i.concat(s)}),i}})}function zc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(iZ())(t._repo,t._path):t}function hZ(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Xh(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function pZ(){return oZ++}function mZ(t,e,n){let r=e._path,i=nl(t,e),o=KN(t,n),s=t.listenProvider_.startListening(zc(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)M(!yi(a.value),"If we're adding a query, it shouldn't be shadowed");else{let u=a.fold((c,l,d)=>{if(!ee(c)&&l&&yi(l))return[Jh(l).query];{let h=[];return l&&(h=h.concat(HN(l).map(m=>m.query))),ut(d,(m,g)=>{h=h.concat(g)}),h}});for(let c=0;c<u.length;++c){let l=u[c];t.listenProvider_.stopListening(zc(l),nl(t,l))}}return s}var Jw=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Zw=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Re(this.path_,e);return new t(this.syncTree_,n)}node(){return Zh(this.syncTree_,this.path_)}},gZ=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},XR=function(t,e,n){if(!t||typeof t!="object")return t;if(M(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return vZ(t[".sv"],e,n);if(typeof t[".sv"]=="object")return _Z(t[".sv"],e);M(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},vZ=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:M(!1,"Unexpected server value: "+t)}},_Z=function(t,e,n){t.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&M(!1,"Unexpected increment value: "+r);let i=e.node();if(M(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},QN=function(t,e,n,r){return F1(e,new Zw(n,t),r)},k1=function(t,e,n){return F1(t,new Jw(e),n)};function F1(t,e,n){let r=t.getPriority().val(),i=XR(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=XR(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new da(a,je(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new da(i))),s.forEachChild(Me,(a,u)=>{let c=F1(u,e.getImmediateChild(a),n);c!==u&&(o=o.updateImmediateChild(a,c))}),o}}var rl=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function ep(t,e){let n=e instanceof he?e:new he(e),r=t,i=X(n);for(;i!==null;){let o=Wr(r.node.children,i)||{children:{},childCount:0};r=new rl(i,r,o),n=Ce(n),i=X(n)}return r}function ko(t){return t.node.value}function j1(t,e){t.node.value=e,Xw(t)}function JN(t){return t.node.childCount>0}function yZ(t){return ko(t)===void 0&&!JN(t)}function tp(t,e){ut(t.node.children,(n,r)=>{e(new rl(n,t,r))})}function ZN(t,e,n,r){n&&!r&&e(t),tp(t,i=>{ZN(i,e,!0,r)}),n&&r&&e(t)}function bZ(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function dl(t){return new he(t.parent===null?t.name:dl(t.parent)+"/"+t.name)}function Xw(t){t.parent!==null&&wZ(t.parent,t.name,t)}function wZ(t,e,n){let r=yZ(n),i=en(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Xw(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Xw(t))}var EZ=/[\[\].#$\/\u0000-\u001F\u007F]/,SZ=/[\[\].#$\u0000-\u001F\u007F]/,lw=10*1024*1024,np=function(t){return typeof t=="string"&&t.length!==0&&!EZ.test(t)},XN=function(t){return typeof t=="string"&&t.length!==0&&!SZ.test(t)},IZ=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),XN(t)},il=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Gh(t)||t&&typeof t=="object"&&en(t,".sv")},rr=function(t,e,n,r){r&&e===void 0||fl(Ft(t,"value"),e,n)},fl=function(t,e,n){let r=n instanceof he?new Sw(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Mo(r));if(typeof e=="function")throw new Error(t+"contains a function "+Mo(r)+" with contents = "+e.toString());if(Gh(e))throw new Error(t+"contains "+e.toString()+" "+Mo(r));if(typeof e=="string"&&e.length>lw/3&&Ou(e)>lw)throw new Error(t+"contains a string greater than "+lw+" utf8 bytes "+Mo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(ut(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!np(s)))throw new Error(t+" contains an invalid key ("+s+") "+Mo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);eJ(r,s),fl(t,a,r),tJ(r)}),i&&o)throw new Error(t+' contains ".value" child '+Mo(r)+" in addition to actual children.")}},CZ=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let o=Yc(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!np(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(XQ);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&cn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},ek=function(t,e,n,r){if(r&&e===void 0)return;let i=Ft(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let o=[];ut(e,(s,a)=>{let u=new he(s);if(fl(i,a,Re(n,u)),b1(u)===".priority"&&!il(a))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(u)}),CZ(i,o)},L1=function(t,e,n){if(!(n&&e===void 0)){if(Gh(e))throw new Error(Ft(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!il(e))throw new Error(Ft(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},hl=function(t,e,n,r){if(!(r&&n===void 0)&&!np(n))throw new Error(Ft(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},wa=function(t,e,n,r){if(!(r&&n===void 0)&&!XN(n))throw new Error(Ft(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},DZ=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),wa(t,e,n,r)},Kt=function(t,e){if(X(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},tk=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!np(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!IZ(n))throw new Error(Ft(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var e1=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function rp(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!w1(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function nk(t,e,n){rp(t,n),rk(t,r=>w1(r,e))}function Qt(t,e,n){rp(t,n),rk(t,r=>cn(r,e)||cn(e,r))}function rk(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(TZ(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function TZ(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Po&&at("event: "+n.toString()),_a(r)}}}var ik="repo_interrupt",OZ=25,t1=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new e1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ah(),this.transactionQueueTree_=new rl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function MZ(t,e,n){if(t.stats_=y1(t.repoInfo_),t.forceRestClient_||MQ())t.server_=new Nw(t.repoInfo_,(r,i,o,s)=>{eN(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>tN(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ze(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new E1(t.repoInfo_,e,(r,i,o,s)=>{eN(t,r,i,o,s)},r=>{tN(t,r)},r=>{AZ(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=PQ(t.repoInfo_,()=>new qw(t.stats_,t.server_)),t.infoData_=new kw,t.infoSyncTree_=new qh({startListening:(r,i,o,s)=>{let a=[],u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=ll(t.infoSyncTree_,r._path,u),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),q1(t,"connected",!1),t.serverSyncTree_=new qh({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,u)=>{let c=s(a,u);Qt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function ok(t){let n=t.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function pl(t){return gZ({timestamp:ok(t)})}function eN(t,e,n,r,i){t.dataUpdateCount++;let o=new he(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let u=Tu(n,c=>je(c));s=lZ(t.serverSyncTree_,o,u,i)}else{let u=je(n);s=zN(t.serverSyncTree_,o,u,i)}else if(r){let u=Tu(n,c=>je(c));s=aZ(t.serverSyncTree_,o,u)}else{let u=je(n);s=ll(t.serverSyncTree_,o,u)}let a=o;s.length>0&&(a=ga(t,o)),Qt(t.eventQueue_,a,s)}function tN(t,e){q1(t,"connected",e),e===!1&&RZ(t)}function AZ(t,e){ut(e,(n,r)=>{q1(t,n,r)})}function q1(t,e,n){let r=new he("/.info/"+e),i=je(n);t.infoData_.updateSnapshot(r,i);let o=ll(t.infoSyncTree_,r,i);Qt(t.eventQueue_,r,o)}function ip(t){return t.nextWriteId_++}function PZ(t,e,n){let r=dZ(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=je(i).withIndex(e._queryParams.getIndex());Qw(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=ll(t.serverSyncTree_,e._path,o);else{let a=nl(t.serverSyncTree_,e);s=zN(t.serverSyncTree_,e._path,o,a)}return Qt(t.eventQueue_,e._path,s),Bh(t.serverSyncTree_,e,n,null,!0),o},i=>(Ea(t,"get for query "+ze(e)+" failed: "+i),Promise.reject(new Error(i))))}function B1(t,e,n,r,i){Ea(t,"set",{path:e.toString(),value:n,priority:r});let o=pl(t),s=je(n,r),a=Zh(t.serverSyncTree_,e),u=k1(s,a,o),c=ip(t),l=P1(t.serverSyncTree_,e,u,c,!0);rp(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),(h,m)=>{let g=h==="ok";g||wt("set at "+e+" failed: "+h);let _=pi(t.serverSyncTree_,c,!g);Qt(t.eventQueue_,e,_),bi(t,i,h,m)});let d=V1(t,e);ga(t,d),Qt(t.eventQueue_,d,[])}function xZ(t,e,n,r){Ea(t,"update",{path:e.toString(),value:n});let i=!0,o=pl(t),s={};if(ut(n,(a,u)=>{i=!1,s[a]=QN(Re(e,a),je(u),t.serverSyncTree_,o)}),i)at("update() called with empty data.  Don't do anything."),bi(t,r,"ok",void 0);else{let a=ip(t),u=sZ(t.serverSyncTree_,e,s,a);rp(t.eventQueue_,u),t.server_.merge(e.toString(),n,(c,l)=>{let d=c==="ok";d||wt("update at "+e+" failed: "+c);let h=pi(t.serverSyncTree_,a,!d),m=h.length>0?ga(t,e):e;Qt(t.eventQueue_,m,h),bi(t,r,c,l)}),ut(n,c=>{let l=V1(t,Re(e,c));ga(t,l)}),Qt(t.eventQueue_,e,[])}}function RZ(t){Ea(t,"onDisconnectEvents");let e=pl(t),n=Ah();jw(t.onDisconnect_,fe(),(i,o)=>{let s=QN(i,o,t.serverSyncTree_,e);ya(n,i,s)});let r=[];jw(n,fe(),(i,o)=>{r=r.concat(ll(t.serverSyncTree_,i,o));let s=V1(t,i);ga(t,s)}),t.onDisconnect_=Ah(),Qt(t.eventQueue_,fe(),r)}function NZ(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&Fw(t.onDisconnect_,e),bi(t,n,r,i)})}function nN(t,e,n,r){let i=je(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{o==="ok"&&ya(t.onDisconnect_,e,i),bi(t,r,o,s)})}function kZ(t,e,n,r,i){let o=je(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{s==="ok"&&ya(t.onDisconnect_,e,o),bi(t,i,s,a)})}function FZ(t,e,n,r){if(Xl(n)){at("onDisconnect().update() called with empty data.  Don't do anything."),bi(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{i==="ok"&&ut(n,(s,a)=>{let u=je(a);ya(t.onDisconnect_,Re(e,s),u)}),bi(t,r,i,o)})}function jZ(t,e,n){let r;X(e._path)===".info"?r=Qw(t.infoSyncTree_,e,n):r=Qw(t.serverSyncTree_,e,n),nk(t.eventQueue_,e._path,r)}function n1(t,e,n){let r;X(e._path)===".info"?r=Bh(t.infoSyncTree_,e,n):r=Bh(t.serverSyncTree_,e,n),nk(t.eventQueue_,e._path,r)}function sk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ik)}function LZ(t){t.persistentConnection_&&t.persistentConnection_.resume(ik)}function Ea(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),at(n,...e)}function bi(t,e,n,r){e&&_a(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function qZ(t,e,n,r,i,o){Ea(t,"transaction on "+e);let s={path:e,update:n,onComplete:r,status:null,order:oN(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=U1(t,e,void 0);s.currentInputSnapshot=a;let u=s.update(a.val());if(u===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{fl("transaction failed: Data returned ",u,s.path),s.status=0;let c=ep(t.transactionQueueTree_,e),l=ko(c)||[];l.push(s),j1(c,l);let d;typeof u=="object"&&u!==null&&en(u,".priority")?(d=Wr(u,".priority"),M(il(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Zh(t.serverSyncTree_,e)||G.EMPTY_NODE).getPriority().val();let h=pl(t),m=je(u,d),g=k1(m,a,h);s.currentOutputSnapshotRaw=m,s.currentOutputSnapshotResolved=g,s.currentWriteId=ip(t);let _=P1(t.serverSyncTree_,e,g,s.currentWriteId,s.applyLocally);Qt(t.eventQueue_,e,_),op(t,t.transactionQueueTree_)}}function U1(t,e,n){return Zh(t.serverSyncTree_,e,n)||G.EMPTY_NODE}function op(t,e=t.transactionQueueTree_){if(e||sp(t,e),ko(e)){let n=uk(t,e);M(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&BZ(t,dl(e),n)}else JN(e)&&tp(e,n=>{op(t,n)})}function BZ(t,e,n){let r=n.map(c=>c.currentWriteId),i=U1(t,e,r),o=i,s=i.hash();for(let c=0;c<n.length;c++){let l=n[c];M(l.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;let d=xt(e,l.path);o=o.updateChild(d,l.currentOutputSnapshotRaw)}let a=o.val(!0),u=e;t.server_.put(u.toString(),a,c=>{Ea(t,"transaction put response",{path:u.toString(),status:c});let l=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(pi(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();sp(t,ep(t.transactionQueueTree_,e)),op(t,t.transactionQueueTree_),Qt(t.eventQueue_,e,l);for(let h=0;h<d.length;h++)_a(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{wt("transaction at "+u.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ga(t,e)}},s)}function ga(t,e){let n=ak(t,e),r=dl(n),i=uk(t,n);return UZ(t,i,r),r}function UZ(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let u=e[a],c=xt(n,u.path),l=!1,d;if(M(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)l=!0,d=u.abortReason,i=i.concat(pi(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=OZ)l=!0,d="maxretry",i=i.concat(pi(t.serverSyncTree_,u.currentWriteId,!0));else{let h=U1(t,u.path,s);u.currentInputSnapshot=h;let m=e[a].update(h.val());if(m!==void 0){fl("transaction failed: Data returned ",m,u.path);let g=je(m);typeof m=="object"&&m!=null&&en(m,".priority")||(g=g.updatePriority(h.getPriority()));let y=u.currentWriteId,b=pl(t),I=k1(g,h,b);u.currentOutputSnapshotRaw=g,u.currentOutputSnapshotResolved=I,u.currentWriteId=ip(t),s.splice(s.indexOf(y),1),i=i.concat(P1(t.serverSyncTree_,u.path,I,u.currentWriteId,u.applyLocally)),i=i.concat(pi(t.serverSyncTree_,y,!0))}else l=!0,d="nodata",i=i.concat(pi(t.serverSyncTree_,u.currentWriteId,!0))}Qt(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}sp(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)_a(r[a]);op(t,t.transactionQueueTree_)}function ak(t,e){let n,r=t.transactionQueueTree_;for(n=X(e);n!==null&&ko(r)===void 0;)r=ep(r,n),e=Ce(e),n=X(e);return r}function uk(t,e){let n=[];return ck(t,e,n),n.sort((r,i)=>r.order-i.order),n}function ck(t,e,n){let r=ko(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);tp(e,i=>{ck(t,i,n)})}function sp(t,e){let n=ko(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,j1(e,n.length>0?n:void 0)}tp(e,r=>{sp(t,r)})}function V1(t,e){let n=dl(ak(t,e)),r=ep(t.transactionQueueTree_,e);return bZ(r,i=>{dw(t,i)}),dw(t,r),ZN(r,i=>{dw(t,i)}),n}function dw(t,e){let n=ko(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(M(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(M(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(pi(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?j1(e,void 0):n.length=o+1,Qt(t.eventQueue_,dl(e),i);for(let s=0;s<r.length;s++)_a(r[s])}}function VZ(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function HZ(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):wt(`Invalid query segment '${n}' in query '${t}'`)}return e}var r1=function(t,e){let n=$Z(t),r=n.namespace;n.domain==="firebase.com"&&tr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&tr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||bQ();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Eh(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new he(n.pathString)}},$Z=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",u=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let l=t.indexOf("/");l===-1&&(l=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=VZ(t.substring(l,d)));let h=HZ(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",u=parseInt(e.substring(c+1),10)):c=e.length;let m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{let g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var rN="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",WZ=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=rN.charAt(n%64),n=Math.floor(n/64);M(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=rN.charAt(e[i]);return M(s.length===20,"nextPushId: Length should be 20."),s}}();var Uh=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ze(this.snapshot.exportVal())}},Vh=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var ol=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Hh=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new rt;return NZ(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Kt("OnDisconnect.remove",this._path);let e=new rt;return nN(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Kt("OnDisconnect.set",this._path),rr("OnDisconnect.set",e,this._path,!1);let n=new rt;return nN(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Kt("OnDisconnect.setWithPriority",this._path),rr("OnDisconnect.setWithPriority",e,this._path,!1),L1("OnDisconnect.setWithPriority",n,!1);let r=new rt;return kZ(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Kt("OnDisconnect.update",this._path),ek("OnDisconnect.update",e,this._path,!1);let n=new rt;return FZ(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var Nt=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ee(this._path)?null:b1(this._path)}get ref(){return new Jt(this._repo,this._path)}get _queryIdentifier(){let e=HR(this._queryParams),n=_1(e);return n==="{}"?"default":n}get _queryObject(){return HR(this._queryParams)}isEqual(e){if(e=St(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=w1(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+ZQ(this._path)}};function ap(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ei(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===er){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==vi)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Mr)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Me){if(e!=null&&!il(e)||n!=null&&!il(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(M(t.getIndex()instanceof Kc||t.getIndex()===I1,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function up(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Jt=class t extends Nt{constructor(e,n){super(e,n,new Xc,!1)}get parent(){let e=DN(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},va=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new he(e),r=wi(this.ref,e);return new t(this._node.getChild(n),r,Me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,wi(this.ref,r),Me)))}hasChild(e){let n=new he(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function H1(t,e){return t=St(t),t._checkNotDeleted("ref"),e!==void 0?wi(t._root,e):t._root}function $1(t,e){t=St(t),t._checkNotDeleted("refFromURL");let n=r1(e,t._repo.repoInfo_.nodeAdmin);tk("refFromURL",n);let r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&tr("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),H1(t,n.path.toString())}function wi(t,e){return t=St(t),X(t._path)===null?DZ("child","path",e,!1):wa("child","path",e,!1),new Jt(t._repo,Re(t._path,e))}function lk(t,e){t=St(t),Kt("push",t._path),rr("push",e,t._path,!0);let n=ok(t._repo),r=WZ(n),i=wi(t,r),o=wi(t,r),s;return e!=null?s=cp(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function dk(t){return Kt("remove",t._path),cp(t,null)}function cp(t,e){t=St(t),Kt("set",t._path),rr("set",e,t._path,!1);let n=new rt;return B1(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function fk(t,e){t=St(t),Kt("setPriority",t._path),L1("setPriority",e,!1);let n=new rt;return B1(t._repo,Re(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function hk(t,e,n){if(Kt("setWithPriority",t._path),rr("setWithPriority",e,t._path,!1),L1("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let r=new rt;return B1(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function pk(t,e){ek("update",e,t._path,!1);let n=new rt;return xZ(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function mk(t){t=St(t);let e=new ol(()=>{}),n=new sl(e);return PZ(t._repo,t,n).then(r=>new va(r,new Jt(t._repo,t._path),t._queryParams.getIndex()))}var sl=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Uh("value",this,new va(e.snapshotNode,new Jt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Vh(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},$h=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Vh(this,e,n):null}createEvent(e,n){M(e.childName!=null,"Child events should have a childName.");let r=wi(new Jt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Uh(e.type,this,new va(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function ml(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let u=n,c=(l,d)=>{n1(t._repo,t,a),u(l,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new ol(n,o||void 0),a=e==="value"?new sl(s):new $h(e,s);return jZ(t._repo,t,a),()=>n1(t._repo,t,a)}function lp(t,e,n,r){return ml(t,"value",e,n,r)}function W1(t,e,n,r){return ml(t,"child_added",e,n,r)}function z1(t,e,n,r){return ml(t,"child_changed",e,n,r)}function G1(t,e,n,r){return ml(t,"child_moved",e,n,r)}function Y1(t,e,n,r){return ml(t,"child_removed",e,n,r)}function K1(t,e,n){let r=null,i=n?new ol(n):null;e==="value"?r=new sl(i):e&&(r=new $h(e,i)),n1(t._repo,t,r)}var Zt=class{},Wh=class extends Zt{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){rr("endAt",this._value,e._path,!0);let n=Rw(e._queryParams,this._value,this._key);if(up(n),Ei(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Nt(e._repo,e._path,n,e._orderByCalled)}};function gk(t,e){return hl("endAt","key",e,!0),new Wh(t,e)}var i1=class extends Zt{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){rr("endBefore",this._value,e._path,!1);let n=vJ(e._queryParams,this._value,this._key);if(up(n),Ei(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Nt(e._repo,e._path,n,e._orderByCalled)}};function vk(t,e){return hl("endBefore","key",e,!0),new i1(t,e)}var zh=class extends Zt{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){rr("startAt",this._value,e._path,!0);let n=xw(e._queryParams,this._value,this._key);if(up(n),Ei(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Nt(e._repo,e._path,n,e._orderByCalled)}};function _k(t=null,e){return hl("startAt","key",e,!0),new zh(t,e)}var o1=class extends Zt{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){rr("startAfter",this._value,e._path,!1);let n=gJ(e._queryParams,this._value,this._key);if(up(n),Ei(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Nt(e._repo,e._path,n,e._orderByCalled)}};function yk(t,e){return hl("startAfter","key",e,!0),new o1(t,e)}var s1=class extends Zt{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Nt(e._repo,e._path,pJ(e._queryParams,this._limit),e._orderByCalled)}};function bk(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new s1(t)}var a1=class extends Zt{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Nt(e._repo,e._path,mJ(e._queryParams,this._limit),e._orderByCalled)}};function wk(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new a1(t)}var u1=class extends Zt{constructor(e){super(),this._path=e}_apply(e){ap(e,"orderByChild");let n=new he(this._path);if(ee(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new Kc(n),i=Yh(e._queryParams,r);return Ei(i),new Nt(e._repo,e._path,i,!0)}};function Ek(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return wa("orderByChild","path",t,!1),new u1(t)}var c1=class extends Zt{_apply(e){ap(e,"orderByKey");let n=Yh(e._queryParams,er);return Ei(n),new Nt(e._repo,e._path,n,!0)}};function Sk(){return new c1}var l1=class extends Zt{_apply(e){ap(e,"orderByPriority");let n=Yh(e._queryParams,Me);return Ei(n),new Nt(e._repo,e._path,n,!0)}};function Ik(){return new l1}var d1=class extends Zt{_apply(e){ap(e,"orderByValue");let n=Yh(e._queryParams,I1);return Ei(n),new Nt(e._repo,e._path,n,!0)}};function Ck(){return new d1}var f1=class extends Zt{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(rr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Wh(this._value,this._key)._apply(new zh(this._value,this._key)._apply(e))}};function Dk(t,e){return hl("equalTo","key",e,!0),new f1(t,e)}function dn(t,...e){let n=St(t);for(let r of e)n=r._apply(n);return n}ZJ(Jt);rZ(Jt);var zZ="FIREBASE_DATABASE_EMULATOR_HOST",h1={},GZ=!1;function YZ(t,e,n,r){t.repoInfo_=new Eh(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Q1(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||tr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=r1(o,i),a=s.repoInfo,u,c;typeof process<"u"&&process.env&&(c=process.env[zZ]),c?(u=!0,o=`http://${c}?ns=${a.namespace}`,s=r1(o,i),a=s.repoInfo):u=!s.repoInfo.secure;let l=i&&u?new Hc(Hc.OWNER):new vw(t.name,t.options,e);tk("Invalid Firebase Database URL",s),ee(s.path)||tr("Database URL must point to the root of a Firebase Database (not including a child path).");let d=QZ(a,t,l,new gw(t.name,n));return new p1(d,t)}function KZ(t,e){let n=h1[e];(!n||n[t.key]!==t)&&tr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),sk(t),delete n[t.key]}function QZ(t,e,n,r){let i=h1[e.name];i||(i={},h1[e.name]=i);let o=i[t.toURLString()];return o&&tr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new t1(t,GZ,n,r),i[t.toURLString()]=o,o}var p1=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(MZ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jt(this._repo,fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(KZ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&tr("Cannot call "+e+" on a deleted database.")}};function Tk(){CN.IS_TRANSPORT_INITIALIZED&&wt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ok(){Tk(),Gc.forceDisallow()}function Mk(){Tk(),aa.forceDisallow(),Gc.forceAllow()}function Ak(t,e,n,r={}){t=St(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&tr("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&tr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Hc(Hc.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:nO(r.mockUserToken,t.app.options.projectId);o=new Hc(s)}YZ(i,e,n,o)}function Pk(t){t=St(t),t._checkNotDeleted("goOffline"),sk(t._repo)}function xk(t){t=St(t),t._checkNotDeleted("goOnline"),LZ(t._repo)}function Rk(t,e){aN(t,e)}function JZ(t){v1(fO),Mu(new mr("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Q1(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),zr(DR,TR,t),zr(DR,TR,"esm2017")}var ZZ={".sv":"timestamp"};function Nk(){return ZZ}function kk(t){return{".sv":{increment:t}}}var m1=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function Fk(t,e,n){var r;if(t=St(t),Kt("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let i=(r=n?.applyLocally)!==null&&r!==void 0?r:!0,o=new rt,s=(u,c,l)=>{let d=null;u?o.reject(u):(d=new va(l,new Jt(t._repo,t._path),Me),o.resolve(new m1(c,d)))},a=lp(t,()=>{});return qZ(t._repo,t._path,e,s,a,i),o.promise}E1.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};E1.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};JZ();var XZ="@firebase/database-compat",eX="1.0.2";var tX=new ls("@firebase/database-compat"),jk=function(t){let e="FIREBASE WARNING: "+t;tX.warn(e)};var nX=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Ft(t,e)+"must be a boolean.")},rX=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ft(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var J1=class{constructor(e){this._delegate=e}cancel(e){U("OnDisconnect.cancel",0,1,arguments.length),Je("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){U("OnDisconnect.remove",0,1,arguments.length),Je("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){U("OnDisconnect.set",1,2,arguments.length),Je("OnDisconnect.set","onComplete",n,!0);let r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){U("OnDisconnect.setWithPriority",2,3,arguments.length),Je("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if(U("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,jk("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Je("OnDisconnect.update","onComplete",n,!0);let r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}};var Z1=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return U("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Fo=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return U("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return U("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return U("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return U("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return U("DataSnapshot.child",0,1,arguments.length),e=String(e),wa("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return U("DataSnapshot.hasChild",1,1,arguments.length),wa("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return U("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return U("DataSnapshot.forEach",1,1,arguments.length),Je("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return U("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return U("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return U("DataSnapshot.ref",0,0,arguments.length),new Ar(this._database,this._delegate.ref)}get ref(){return this.getRef()}},dp=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;U("Query.on",2,4,arguments.length),Je("Query.on","callback",n,!1);let s=t.getCancelAndContextArgs_("Query.on",r,i),a=(c,l)=>{n.call(s.context,new Fo(this.database,c),l)};a.userCallback=n,a.context=s.context;let u=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(e){case"value":return lp(this._delegate,a,u),n;case"child_added":return W1(this._delegate,a,u),n;case"child_removed":return Y1(this._delegate,a,u),n;case"child_changed":return z1(this._delegate,a,u),n;case"child_moved":return G1(this._delegate,a,u),n;default:throw new Error(Ft("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(U("Query.off",0,3,arguments.length),rX("Query.off",e,!0),Je("Query.off","callback",n,!0),y_("Query.off","context",r,!0),n){let i=()=>{};i.userCallback=n,i.context=r,K1(this._delegate,e,i)}else K1(this._delegate,e)}get(){return mk(this._delegate).then(e=>new Fo(this.database,e))}once(e,n,r,i){U("Query.once",1,4,arguments.length),Je("Query.once","callback",n,!0);let o=t.getCancelAndContextArgs_("Query.once",r,i),s=new rt,a=(c,l)=>{let d=new Fo(this.database,c);n&&n.call(o.context,d,l),s.resolve(d)};a.userCallback=n,a.context=o.context;let u=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(e){case"value":lp(this._delegate,a,u,{onlyOnce:!0});break;case"child_added":W1(this._delegate,a,u,{onlyOnce:!0});break;case"child_removed":Y1(this._delegate,a,u,{onlyOnce:!0});break;case"child_changed":z1(this._delegate,a,u,{onlyOnce:!0});break;case"child_moved":G1(this._delegate,a,u,{onlyOnce:!0});break;default:throw new Error(Ft("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return U("Query.limitToFirst",1,1,arguments.length),new t(this.database,dn(this._delegate,bk(e)))}limitToLast(e){return U("Query.limitToLast",1,1,arguments.length),new t(this.database,dn(this._delegate,wk(e)))}orderByChild(e){return U("Query.orderByChild",1,1,arguments.length),new t(this.database,dn(this._delegate,Ek(e)))}orderByKey(){return U("Query.orderByKey",0,0,arguments.length),new t(this.database,dn(this._delegate,Sk()))}orderByPriority(){return U("Query.orderByPriority",0,0,arguments.length),new t(this.database,dn(this._delegate,Ik()))}orderByValue(){return U("Query.orderByValue",0,0,arguments.length),new t(this.database,dn(this._delegate,Ck()))}startAt(e=null,n){return U("Query.startAt",0,2,arguments.length),new t(this.database,dn(this._delegate,_k(e,n)))}startAfter(e=null,n){return U("Query.startAfter",0,2,arguments.length),new t(this.database,dn(this._delegate,yk(e,n)))}endAt(e=null,n){return U("Query.endAt",0,2,arguments.length),new t(this.database,dn(this._delegate,gk(e,n)))}endBefore(e=null,n){return U("Query.endBefore",0,2,arguments.length),new t(this.database,dn(this._delegate,vk(e,n)))}equalTo(e,n){return U("Query.equalTo",1,2,arguments.length),new t(this.database,dn(this._delegate,Dk(e,n)))}toString(){return U("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return U("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(U("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){let i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Je(e,"cancel",i.cancel,!0),i.context=r,y_(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Ft(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new Ar(this.database,new Jt(this._delegate._repo,this._delegate._path))}},Ar=class t extends dp{constructor(e,n){super(e,new Nt(n._repo,n._path,new Xc,!1)),this.database=e,this._delegate=n}getKey(){return U("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return U("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,wi(this._delegate,e))}getParent(){U("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return U("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){U("Reference.set",1,2,arguments.length),Je("Reference.set","onComplete",n,!0);let r=cp(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(U("Reference.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,jk("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Kt("Reference.update",this._delegate._path),Je("Reference.update","onComplete",n,!0);let r=pk(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){U("Reference.setWithPriority",2,3,arguments.length),Je("Reference.setWithPriority","onComplete",r,!0);let i=hk(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){U("Reference.remove",0,1,arguments.length),Je("Reference.remove","onComplete",e,!0);let n=dk(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){U("Reference.transaction",1,3,arguments.length),Je("Reference.transaction","transactionUpdate",e,!1),Je("Reference.transaction","onComplete",n,!0),nX("Reference.transaction","applyLocally",r,!0);let i=Fk(this._delegate,e,{applyLocally:r}).then(o=>new Z1(o.committed,new Fo(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){U("Reference.setPriority",1,2,arguments.length),Je("Reference.setPriority","onComplete",n,!0);let r=fk(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){U("Reference.push",0,2,arguments.length),Je("Reference.push","onComplete",n,!0);let r=lk(this._delegate,e),i=r.then(s=>new t(this.database,s));n&&i.then(()=>n(null),s=>n(s));let o=new t(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return Kt("Reference.onDisconnect",this._delegate._path),new J1(new Hh(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var jo=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Ok,forceLongPolling:Mk}}useEmulator(e,n,r={}){Ak(this._delegate,e,n,r)}ref(e){if(U("database.ref",0,1,arguments.length),e instanceof Ar){let n=$1(this._delegate,e.toString());return new Ar(this,n)}else{let n=H1(this._delegate,e);return new Ar(this,n)}}refFromURL(e){U("database.refFromURL",1,1,arguments.length);let r=$1(this._delegate,e);return new Ar(this,r)}goOffline(){return U("database.goOffline",0,0,arguments.length),Pk(this._delegate)}goOnline(){return U("database.goOnline",0,0,arguments.length),xk(this._delegate)}};jo.ServerValue={TIMESTAMP:Nk(),increment:t=>kk(t)};function iX({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){v1(n);let a=new b_("database-standalone"),u=new ed("auth-internal",a);u.setComponent(new mr("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new ed("app-check-internal",a),c.setComponent(new mr("app-check-internal",()=>i,"PRIVATE"))),{instance:new jo(Q1(t,u,c,e,s),t),namespace:o}}var oX=Object.freeze({__proto__:null,initStandalone:iX});var sX=jo.ServerValue;function aX(t){t.INTERNAL.registerComponent(new mr("database-compat",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new jo(i,r)},"PUBLIC").setServiceProps({Reference:Ar,Query:dp,Database:jo,DataSnapshot:Fo,enableLogging:Rk,INTERNAL:oX,ServerValue:sX}).setMultipleInstances(!0)),t.registerVersion(XZ,eX)}aX(It);function gl(t,e,n="on",r=Gr){return new $(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),n==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),n==="on"?{unsubscribe(){o!=null&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(q(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),ku())}function uX(t){return typeof t=="string"}function cX(t){return typeof t.exportVal=="function"}function Vk(t){return t==null}function Hk(t){return typeof t.set=="function"}function Lk(t,e){return Hk(e)?e:t.ref(e)}function $k(t,e){if(uX(t))return e.stringCase();if(Hk(t))return e.firebaseCase();if(cX(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function Wk(t){return(Vk(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function zk(t,e,n){e=Wk(e);let r=e.map(i=>gl(t,i,"on",n));return oo(...r)}function lX(t,e,n){let r=zk(t,e).pipe(Ds((i,o)=>[...i,o],[]));return fX(t,r,n)}function dX(t,e){return gl(t,"value","on",e).pipe(q(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}function fX(t,e,n){return dX(t,n).pipe(ao(e),q(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(u=>u.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),H_(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),q(i=>i.actions))}function qk(t,e){return function(r,i){return $k(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function hX(t){return function(n){return n?$k(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function pX(t,e,n){return gl(t,"value","once",n).pipe(_e(r=>{let i=[k(r)];return e.forEach(o=>i.push(gl(t,o,"on",n))),oo(...i).pipe(Ds(gX,[]))}),Cd())}function Gk(t,e){let n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function mX(t,e){if(Vk(e))return 0;{let n=Gk(t,e);return n===-1?t.length:n+1}}function gX(t,e){let{payload:n,prevKey:r,key:i}=e,o=Gk(t,i),s=mX(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(u=>{let c={payload:u,type:"value",prevKey:a,key:u.key};return a=u.key,t=[...t,c],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(u=>u.payload.key!==n.key),t.splice(s,0,e));else{if(r==null)return[e,...t];t=t.slice(),t.splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){let a=t.splice(o,1)[0];return t=t.slice(),t.splice(s,0,a),t}return t;default:return t}}function Bk(t,e,n){return e=Wk(e),pX(t,e,n)}function vX(t,e){let n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:qk(r,"update"),set:qk(r,"set"),push:i=>r.push(i),remove:hX(r),snapshotChanges(i){return Bk(t,i,n).pipe(Tr)},stateChanges(i){return zk(t,i,n).pipe(Tr)},auditTrail(i){return lX(t,i,n).pipe(Tr)},valueChanges(i,o){return Bk(t,i,n).pipe(q(a=>a.map(u=>o&&o.idField?De(N({},u.payload.val()),{[o.idField]:u.key}):u.payload.val())),Tr)}}}function Uk(t,e){return function(){return gl(t,"value","on",e)}}function _X(t,e){return{query:t,snapshotChanges(){return Uk(t,e.schedulers.outsideAngular)().pipe(Tr)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return Uk(t,e.schedulers.outsideAngular)().pipe(Tr,q(r=>r.payload.exists()?r.payload.val():null))}}}var yX=new j("angularfire2.realtimeDatabaseURL"),bX=new j("angularfire2.database.use-emulator"),X1=(()=>{class t{schedulers;database;constructor(n,r,i,o,s,a,u,c,l,d,h,m,g,_,y){this.schedulers=a;let b=u,I=fc(n,s,r);c&&iw(I,s,l,h,m,g,d,_),this.database=Zf(`${I.name}.database.${i}`,"AngularFireDatabase",I.name,()=>{let E=s.runOutsideAngular(()=>I.database(i||void 0));return b&&E.useEmulator(...b),E},[b])}list(n,r){let i=this.schedulers.ngZone.runOutsideAngular(()=>Lk(this.database,n)),o=i;return r&&(o=r(i)),vX(o,this)}object(n){let r=this.schedulers.ngZone.runOutsideAngular(()=>Lk(this.database,n));return _X(r,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||t)(O(Ks),O(Qs,8),O(yX,8),O(At),O(Z),O(Qf),O(bX,8),O(jc,8),O(Z0,8),O(X0,8),O(ew,8),O(tw,8),O(nw,8),O(rw,8),O(Co,8))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),Yk=(()=>{class t{constructor(){It.registerVersion("angularfire",Do.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=se({type:t});static \u0275inj=oe({providers:[X1]})}return t})();var Kk=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},EX=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Qk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|c>>6,m=c&63;u||(m=64,s||(h=64)),r.push(n[l],n[d],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Kk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw Error();let h=o<<2|a>>4;if(r.push(h),c!==64){let m=a<<4&240|c>>2;if(r.push(m),d!==64){let g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},SX=function(t){let e=Kk(t);return Qk.encodeByteArray(e,!0)},nE=function(t){return SX(t).replace(/\./g,"")},Jk=function(t){try{return Qk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function Xk(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tF(){return typeof indexedDB=="object"}function nF(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var IX="FirebaseError",Lo=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IX,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pr.prototype.create)}},Pr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?CX(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Lo(i,a,r)}};function CX(t,e){return t.replace(DX,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var DX=/\{\$([^}]+)}/g;function fp(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rF(t,e){let n=new tE(t,e);return n.subscribe.bind(n)}var tE=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TX(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=eE),i.error===void 0&&(i.error=eE),i.complete===void 0&&(i.complete=eE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function TX(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eE(){}var hqe=4*60*60*1e3;function vl(t){return t&&t._delegate?t._delegate:t}var xr=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var OX=[],Ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ae||{}),MX={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},AX=Ae.INFO,PX={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},xX=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=PX[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Sa=class{constructor(e){this.name=e,this._logLevel=AX,this._logHandler=xX,this._userLogHandler=null,OX.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MX[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}};var RX=(t,e)=>e.some(n=>t instanceof n),iF,oF;function NX(){return iF||(iF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kX(){return oF||(oF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var sF=new WeakMap,iE=new WeakMap,aF=new WeakMap,rE=new WeakMap,sE=new WeakMap;function FX(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ir(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&sF.set(n,t)}).catch(()=>{}),sE.set(e,t),e}function jX(t){if(iE.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});iE.set(t,e)}var oE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return iE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uF(t){oE=t(oE)}function LX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(hp(this),e,...n);return aF.set(r,e.sort?e.sort():[e]),ir(r)}:kX().includes(t)?function(...e){return t.apply(hp(this),e),ir(sF.get(this))}:function(...e){return ir(t.apply(hp(this),e))}}function qX(t){return typeof t=="function"?LX(t):(t instanceof IDBTransaction&&jX(t),RX(t,NX())?new Proxy(t,oE):t)}function ir(t){if(t instanceof IDBRequest)return FX(t);if(rE.has(t))return rE.get(t);let e=qX(t);return e!==t&&(rE.set(t,e),sE.set(e,t)),e}var hp=t=>sE.get(t);function lF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=ir(s);return r&&s.addEventListener("upgradeneeded",u=>{r(ir(s.result),u.oldVersion,u.newVersion,ir(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}var BX=["get","getKey","getAll","getAllKeys","count"],UX=["put","add","delete","clear"],aE=new Map;function cF(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(aE.get(e))return aE.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=UX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BX.includes(n)))return;let o=function(s,...a){return A(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&u.done]))[0]})};return aE.set(e,o),o}uF(t=>De(N({},t),{get:(e,n,r)=>cF(e,n)||t.get(e,n,r),has:(e,n)=>!!cF(e,n)||t.has(e,n)}));var cE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HX(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function HX(t){let e=t.getComponent();return e?.type==="VERSION"}var lE="@firebase/app",dF="0.7.29";var hE=new Sa("@firebase/app"),$X="@firebase/app-compat",WX="@firebase/analytics-compat",zX="@firebase/analytics",GX="@firebase/app-check-compat",YX="@firebase/app-check",KX="@firebase/auth",QX="@firebase/auth-compat",JX="@firebase/database",ZX="@firebase/database-compat",XX="@firebase/functions",eee="@firebase/functions-compat",tee="@firebase/installations",nee="@firebase/installations-compat",ree="@firebase/messaging",iee="@firebase/messaging-compat",oee="@firebase/performance",see="@firebase/performance-compat",aee="@firebase/remote-config",uee="@firebase/remote-config-compat",cee="@firebase/storage",lee="@firebase/storage-compat",dee="@firebase/firestore",fee="@firebase/firestore-compat",hee="firebase",pee="9.9.1";var mee={[lE]:"fire-core",[$X]:"fire-core-compat",[zX]:"fire-analytics",[WX]:"fire-analytics-compat",[YX]:"fire-app-check",[GX]:"fire-app-check-compat",[KX]:"fire-auth",[QX]:"fire-auth-compat",[JX]:"fire-rtdb",[ZX]:"fire-rtdb-compat",[XX]:"fire-fn",[eee]:"fire-fn-compat",[tee]:"fire-iid",[nee]:"fire-iid-compat",[ree]:"fire-fcm",[iee]:"fire-fcm-compat",[oee]:"fire-perf",[see]:"fire-perf-compat",[aee]:"fire-rc",[uee]:"fire-rc-compat",[cee]:"fire-gcs",[lee]:"fire-gcs-compat",[dee]:"fire-fst",[fee]:"fire-fst-compat","fire-js":"fire-js",[hee]:"fire-js-all"};var gee=new Map,fF=new Map;function vee(t,e){try{t.container.addComponent(e)}catch(n){hE.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ca(t){let e=t.name;if(fF.has(e))return hE.debug(`There were multiple attempts to register component ${e}.`),!1;fF.set(e,t);for(let n of gee.values())vee(n,t);return!0}var _ee={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},pE=new Pr("app","Firebase",_ee);var mE=pee;function Ia(t,e,n){var r;let i=(r=mee[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hE.warn(a.join(" "));return}Ca(new xr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var yee="firebase-heartbeat-database",bee=1,_l="firebase-heartbeat-store",uE=null;function gF(){return uE||(uE=lF(yee,bee,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_l)}}}).catch(t=>{throw pE.create("storage-open",{originalErrorMessage:t.message})})),uE}function wee(t){return A(this,null,function*(){var e;try{return(yield gF()).transaction(_l).objectStore(_l).get(vF(t))}catch(n){throw pE.create("storage-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message})}})}function hF(t,e){return A(this,null,function*(){var n;try{let i=(yield gF()).transaction(_l,"readwrite");return yield i.objectStore(_l).put(e,vF(t)),i.done}catch(r){throw pE.create("storage-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message})}})}function vF(t){return`${t.name}!${t.options.appId}`}var Eee=1024,See=30*24*60*60*1e3,dE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new fE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return A(this,null,function*(){let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pF();if(this._heartbeatsCache===null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{let o=new Date(i.date).valueOf();return Date.now()-o<=See}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return A(this,null,function*(){if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";let e=pF(),{heartbeatsToSend:n,unsentEntries:r}=Iee(this._heartbeatsCache.heartbeats),i=nE(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i})}};function pF(){return new Date().toISOString().substring(0,10)}function Iee(t,e=Eee){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),mF(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var fE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return A(this,null,function*(){return tF()?nF().then(()=>!0).catch(()=>!1):!1})}read(){return A(this,null,function*(){return(yield this._canUseIndexedDBPromise)?(yield wee(this.app))||{heartbeats:[]}:{heartbeats:[]}})}overwrite(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return hF(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return hF(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function mF(t){return nE(JSON.stringify({version:2,heartbeats:t})).length}function Cee(t){Ca(new xr("platform-logger",e=>new cE(e),"PRIVATE")),Ca(new xr("heartbeat",e=>new dE(e),"PRIVATE")),Ia(lE,dF,t),Ia(lE,dF,"esm2017"),Ia("fire-js","")}Cee("");function IF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var CF=IF,DF=new Pr("auth","Firebase",IF());var _F=new Sa("@firebase/auth");function mp(t,...e){_F.logLevel<=Ae.ERROR&&_F.error(`Auth (${mE}): ${t}`,...e)}function gp(t,...e){throw OE(t,...e)}function TF(t,...e){return OE(t,...e)}function Dee(t,e,n){let r=Object.assign(Object.assign({},CF()),{[e]:n});return new Pr("auth","Firebase",r).create(e,{appName:t.name})}function OE(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DF.create(t,...e)}function ve(t,e,...n){if(!t)throw OE(e,...n)}function Rr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw mp(e),new Error(e)}function vp(t,e){t||Rr(e)}var yF=new Map;function qo(t){vp(t instanceof Function,"Expected a class definition");let e=yF.get(t);return e?(vp(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yF.set(t,e),e)}function Tee(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(qo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Oee(){return bF()==="http:"||bF()==="https:"}function bF(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Mee(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Oee()||Xk()||"connection"in navigator)?navigator.onLine:!0}function Aee(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Bo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,vp(n>e,"Short delay should be less than long delay!"),this.isMobile=Zk()||eF()}get(){return Mee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Pee(t,e){vp(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var _p=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var xee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};var Ree=new Bo(3e4,6e4);function Nee(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ME(o,s,a,u){return A(this,arguments,function*(t,e,n,r,i={}){return OF(t,i,()=>A(this,null,function*(){let c={},l={};r&&(e==="GET"?l=r:c={body:JSON.stringify(r)});let d=fp(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),_p.fetch()(MF(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},c))}))})}function OF(t,e,n){return A(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},xee),e);try{let i=new yE(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw pp(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw pp(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw pp(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw pp(t,"user-disabled",s);let l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Dee(t,l,c);gp(t,l)}}catch(i){if(i instanceof Lo)throw i;gp(t,"network-request-failed")}})}function kee(o,s,a,u){return A(this,arguments,function*(t,e,n,r,i={}){let c=yield ME(t,e,n,r,i);return"mfaPendingCredential"in c&&gp(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function MF(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Pee(t.config,i):`${t.config.apiScheme}://${i}`}var yE=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(TF(this.auth,"network-request-failed")),Ree.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function pp(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=TF(t,e,r);return i.customData._tokenResponse=n,i}function Fee(t,e){return A(this,null,function*(){return ME(t,"POST","/v1/accounts:delete",e)})}function jee(t,e){return A(this,null,function*(){return ME(t,"POST","/v1/accounts:lookup",e)})}function yl(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function AF(t,e=!1){return A(this,null,function*(){let n=vl(t),r=yield n.getIdToken(e),i=PF(r);ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:yl(gE(i.auth_time)),issuedAtTime:yl(gE(i.iat)),expirationTime:yl(gE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function gE(t){return Number(t)*1e3}function PF(t){var e;let[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return mp("JWT malformed, contained fewer than 3 sections"),null;try{let o=Jk(r);return o?JSON.parse(o):(mp("Failed to decode base64 JWT payload"),null)}catch(o){return mp("Caught error parsing JWT payload as JSON",(e=o)===null||e===void 0?void 0:e.toString()),null}}function Lee(t){let e=PF(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function bE(t,e,n=!1){return A(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Lo&&qee(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function qee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var wE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>A(this,null,function*(){yield this.iteration()}),n)}iteration(){return A(this,null,function*(){var e;try{yield this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var yp=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function bp(t){return A(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield bE(t,jee(n,{idToken:r}));ve(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Uee(o.providerUserInfo):[],a=Bee(t.providerData,s),u=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!a?.length,l=u?c:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new yp(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function xF(t){return A(this,null,function*(){let e=vl(t);yield bp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Bee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Uee(t){return t.map(e=>{var{providerId:n}=e,r=Kl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Vee(t,e){return A(this,null,function*(){let n=yield OF(t,{},()=>A(this,null,function*(){let r=fp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=MF(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_p.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}var wp=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lee(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return A(this,null,function*(){return ve(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return A(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Vee(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ve(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Rr("not implemented")}};function Si(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ep=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Kl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yp(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return A(this,null,function*(){let n=yield bE(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return AF(this,e)}reload(){return xF(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return A(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield bp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return A(this,null,function*(){let e=yield this.getIdToken();return yield bE(this,Fee(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,I=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:E,emailVerified:S,isAnonymous:C,providerData:R,stsTokenManager:Y}=n;ve(E&&Y,e,"internal-error");let Ee=wp.fromJSON(this.name,Y);ve(typeof E=="string",e,"internal-error"),Si(d,e.name),Si(h,e.name),ve(typeof S=="boolean",e,"internal-error"),ve(typeof C=="boolean",e,"internal-error"),Si(m,e.name),Si(g,e.name),Si(_,e.name),Si(y,e.name),Si(b,e.name),Si(I,e.name);let pe=new t({uid:E,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:C,photoURL:g,phoneNumber:m,tenantId:_,stsTokenManager:Ee,createdAt:b,lastLoginAt:I});return R&&Array.isArray(R)&&(pe.providerData=R.map(Se=>Object.assign({},Se))),y&&(pe._redirectEventId=y),pe}static _fromIdTokenResponse(e,n,r=!1){return A(this,null,function*(){let i=new wp;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bp(o),o})}};var Hee=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return A(this,null,function*(){return!0})}_set(n,r){return A(this,null,function*(){this.storage[n]=r})}_get(n){return A(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return A(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),EE=Hee;function vE(t,e,n){return`firebase:${t}:${e}:${n}`}var Sp=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=vE(this.userKey,i.apiKey,o),this.fullPersistenceKey=vE("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return A(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ep._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return A(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return A(this,null,function*(){if(!n.length)return new t(qo(EE),e,r);let i=(yield Promise.all(n.map(c=>A(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),o=i[0]||qo(EE),s=vE(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let l=yield c._get(s);if(l){let d=Ep._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}let u=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(c=>A(this,null,function*(){if(c!==o)try{yield c._remove(s)}catch{}}))),new t(o,e,r))})}};function wF(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gee(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($ee(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kee(e))return"Blackberry";if(Qee(e))return"Webos";if(Wee(e))return"Safari";if((e.includes("chrome/")||zee(e))&&!e.includes("edge/"))return"Chrome";if(Yee(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function $ee(t=Pn()){return/firefox\//i.test(t)}function Wee(t=Pn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zee(t=Pn()){return/crios\//i.test(t)}function Gee(t=Pn()){return/iemobile/i.test(t)}function Yee(t=Pn()){return/android/i.test(t)}function Kee(t=Pn()){return/blackberry/i.test(t)}function Qee(t=Pn()){return/webos/i.test(t)}function RF(t,e=[]){let n;switch(t){case"Browser":n=wF(Pn());break;case"Worker":n=`${wF(Pn())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mE}/${r}`}var SE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return A(this,null,function*(){var n;if(this.auth.currentUser===e)return;let r=[];try{for(let i of this.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(let o of r)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}})}};var IE=class{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ip(this),this.idTokenSubscription=new Ip(this),this.beforeStateQueue=new SE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DF,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qo(n)),this._initializationPromise=this.queue(()=>A(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Sp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return A(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return A(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return A(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return A(this,null,function*(){var n;try{yield bp(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Aee()}_delete(){return A(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return A(this,null,function*(){let n=e?vl(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return A(this,null,function*(){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>A(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return A(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>A(this,null,function*(){yield this.assertedPersistence.setPersistence(qo(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return A(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return A(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&qo(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=yield Sp.create(this,[qo(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return A(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>A(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return A(this,null,function*(){if(e===this.currentUser)return this.queue(()=>A(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){return A(this,null,function*(){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return A(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();return r&&(n["X-Firebase-Client"]=r),n})}};function Jee(t){return vl(t)}var Ip=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=rF(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Cp=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,n){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}};function _E(t,e){return A(this,null,function*(){return kee(t,"POST","/v1/accounts:signInWithIdp",Nee(t,e))})}var Zee="http://localhost",Dp=class t extends Cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gp("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Kl(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return _E(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,_E(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,_E(e,n)}buildRequest(){let e={requestUri:Zee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fp(n)}return e}};var CE=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var DE=class extends CE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var AE=(()=>{class t extends DE{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Dp._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function Xee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Gqe=Xee("rcb"),Yqe=new Bo(3e4,6e4);var Kqe=new Bo(2e3,1e4);var Qqe=10*60*1e3;var Jqe=new Bo(3e4,6e4);var Zqe=new Bo(5e3,15e3);var EF="@firebase/auth",SF="0.20.5";var TE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return A(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ete(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function tte(t){Ca(new xr("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:o,authDomain:s}=r.options;return((a,u)=>{ve(o&&!o.includes(":"),"invalid-api-key",{appName:a.name}),ve(!s?.includes(":"),"argument-error",{appName:a.name});let c={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RF(t)},l=new IE(a,u,c);return Tee(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ca(new xr("auth-internal",e=>{let n=Jee(e.getProvider("auth").getImmediate());return(r=>new TE(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ia(EF,SF,ete(t)),Ia(EF,SF,"esm2017")}tte("Browser");var Da=(()=>{let e=class e{constructor(r){this.db=r}save(r){this.db.object("/users/"+r.uid).update({name:r.displayName,email:r.email})}get(r){return this.db.object("/users/"+r)}};e.\u0275fac=function(i){return new(i||e)(O(X1))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fn=(()=>{let e=class e{constructor(r,i,o){this.afAuth=r,this.route=i,this.userService=o,this.user$=r.authState}login(){let r=this.route.snapshot.queryParamMap.get("returnUrl")||"/";localStorage.setItem("returnUrl",r),this.afAuth.signInWithRedirect(new AE)}logout(){this.afAuth.signOut()}get appUser$(){return this.user$.pipe(_e(r=>r?this.userService.get(r.uid).valueChanges():k(null)))}};e.\u0275fac=function(i){return new(i||e)(O(jc),O(Or),O(Da))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ke="top",gt="bottom",ct="right",et="left",Tp="auto",Ii=[Ke,gt,ct,et],Nr="start",Uo="end",kF="clippingParents",Op="viewport",Ta="popper",FF="reference",PE=Ii.reduce(function(t,e){return t.concat([e+"-"+Nr,e+"-"+Uo])},[]),Mp=[].concat(Ii,[Tp]).reduce(function(t,e){return t.concat([e,e+"-"+Nr,e+"-"+Uo])},[]),rte="beforeRead",ite="read",ote="afterRead",ste="beforeMain",ate="main",ute="afterMain",cte="beforeWrite",lte="write",dte="afterWrite",jF=[rte,ite,ote,ste,ate,ute,cte,lte,dte];function lt(t){return t?(t.nodeName||"").toLowerCase():null}function Ne(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function hn(t){var e=Ne(t).Element;return t instanceof e||t instanceof Element}function tt(t){var e=Ne(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Oa(t){if(typeof ShadowRoot>"u")return!1;var e=Ne(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function fte(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!tt(o)||!lt(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function hte(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(u,c){return u[c]="",u},{});!tt(i)||!lt(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}}var LF={name:"applyStyles",enabled:!0,phase:"write",fn:fte,effect:hte,requires:["computeStyles"]};function dt(t){return t.split("-")[0]}var xn=Math.max,Vo=Math.min,kr=Math.round;function Ma(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function wl(){return!/^((?!chrome|android).)*safari/i.test(Ma())}function pn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&tt(t)&&(i=t.offsetWidth>0&&kr(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&kr(r.height)/t.offsetHeight||1);var s=hn(t)?Ne(t):window,a=s.visualViewport,u=!wl()&&n,c=(r.left+(u&&a?a.offsetLeft:0))/i,l=(r.top+(u&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:l,right:c+d,bottom:l+h,left:c,x:c,y:l}}function Ho(t){var e=pn(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function El(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Oa(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function kt(t){return Ne(t).getComputedStyle(t)}function xE(t){return["table","td","th"].indexOf(lt(t))>=0}function vt(t){return((hn(t)?t.ownerDocument:t.document)||window.document).documentElement}function Fr(t){return lt(t)==="html"?t:t.assignedSlot||t.parentNode||(Oa(t)?t.host:null)||vt(t)}function qF(t){return!tt(t)||kt(t).position==="fixed"?null:t.offsetParent}function pte(t){var e=/firefox/i.test(Ma()),n=/Trident/i.test(Ma());if(n&&tt(t)){var r=kt(t);if(r.position==="fixed")return null}var i=Fr(t);for(Oa(i)&&(i=i.host);tt(i)&&["html","body"].indexOf(lt(i))<0;){var o=kt(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Rn(t){for(var e=Ne(t),n=qF(t);n&&xE(n)&&kt(n).position==="static";)n=qF(n);return n&&(lt(n)==="html"||lt(n)==="body"&&kt(n).position==="static")?e:n||pte(t)||e}function $o(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Wo(t,e,n){return xn(t,Vo(e,n))}function BF(t,e,n){var r=Wo(t,e,n);return r>n?n:r}function Sl(){return{top:0,right:0,bottom:0,left:0}}function Il(t){return Object.assign({},Sl(),t)}function Cl(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var mte=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Il(typeof e!="number"?e:Cl(e,Ii))};function gte(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=dt(n.placement),u=$o(a),c=[et,ct].indexOf(a)>=0,l=c?"height":"width";if(!(!o||!s)){var d=mte(i.padding,n),h=Ho(o),m=u==="y"?Ke:et,g=u==="y"?gt:ct,_=n.rects.reference[l]+n.rects.reference[u]-s[u]-n.rects.popper[l],y=s[u]-n.rects.reference[u],b=Rn(o),I=b?u==="y"?b.clientHeight||0:b.clientWidth||0:0,E=_/2-y/2,S=d[m],C=I-h[l]-d[g],R=I/2-h[l]/2+E,Y=Wo(S,R,C),Ee=u;n.modifiersData[r]=(e={},e[Ee]=Y,e.centerOffset=Y-R,e)}}function vte(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||El(e.elements.popper,i)&&(e.elements.arrow=i))}var RE={name:"arrow",enabled:!0,phase:"main",fn:gte,effect:vte,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mn(t){return t.split("-")[1]}var _te={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yte(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:kr(n*i)/i||0,y:kr(r*i)/i||0}}function UF(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,u=t.gpuAcceleration,c=t.adaptive,l=t.roundOffsets,d=t.isFixed,h=s.x,m=h===void 0?0:h,g=s.y,_=g===void 0?0:g,y=typeof l=="function"?l({x:m,y:_}):{x:m,y:_};m=y.x,_=y.y;var b=s.hasOwnProperty("x"),I=s.hasOwnProperty("y"),E=et,S=Ke,C=window;if(c){var R=Rn(n),Y="clientHeight",Ee="clientWidth";if(R===Ne(n)&&(R=vt(n),kt(R).position!=="static"&&a==="absolute"&&(Y="scrollHeight",Ee="scrollWidth")),R=R,i===Ke||(i===et||i===ct)&&o===Uo){S=gt;var pe=d&&R===C&&C.visualViewport?C.visualViewport.height:R[Y];_-=pe-r.height,_*=u?1:-1}if(i===et||(i===Ke||i===gt)&&o===Uo){E=ct;var Se=d&&R===C&&C.visualViewport?C.visualViewport.width:R[Ee];m-=Se-r.width,m*=u?1:-1}}var Le=Object.assign({position:a},c&&_te),Qe=l===!0?yte({x:m,y:_},Ne(n)):{x:m,y:_};if(m=Qe.x,_=Qe.y,u){var We;return Object.assign({},Le,(We={},We[S]=I?"0":"",We[E]=b?"0":"",We.transform=(C.devicePixelRatio||1)<=1?"translate("+m+"px, "+_+"px)":"translate3d("+m+"px, "+_+"px, 0)",We))}return Object.assign({},Le,(e={},e[S]=I?_+"px":"",e[E]=b?m+"px":"",e.transform="",e))}function bte(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,u=a===void 0?!0:a,c={placement:dt(e.placement),variation:mn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,UF(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,UF(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var VF={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bte,data:{}};var Ap={passive:!0};function wte(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,u=Ne(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(l){l.addEventListener("scroll",n.update,Ap)}),a&&u.addEventListener("resize",n.update,Ap),function(){o&&c.forEach(function(l){l.removeEventListener("scroll",n.update,Ap)}),a&&u.removeEventListener("resize",n.update,Ap)}}var HF={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wte,data:{}};var Ete={left:"right",right:"left",bottom:"top",top:"bottom"};function Aa(t){return t.replace(/left|right|bottom|top/g,function(e){return Ete[e]})}var Ste={start:"end",end:"start"};function Pp(t){return t.replace(/start|end/g,function(e){return Ste[e]})}function zo(t){var e=Ne(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Go(t){return pn(vt(t)).left+zo(t).scrollLeft}function NE(t,e){var n=Ne(t),r=vt(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,u=0;if(i){o=i.width,s=i.height;var c=wl();(c||!c&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:a+Go(t),y:u}}function kE(t){var e,n=vt(t),r=zo(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=xn(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=xn(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Go(t),u=-r.scrollTop;return kt(i||n).direction==="rtl"&&(a+=xn(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:u}}function Yo(t){var e=kt(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function xp(t){return["html","body","#document"].indexOf(lt(t))>=0?t.ownerDocument.body:tt(t)&&Yo(t)?t:xp(Fr(t))}function Ci(t,e){var n;e===void 0&&(e=[]);var r=xp(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Ne(r),s=i?[o].concat(o.visualViewport||[],Yo(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Ci(Fr(s)))}function Pa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Ite(t,e){var n=pn(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function $F(t,e,n){return e===Op?Pa(NE(t,n)):hn(e)?Ite(e,n):Pa(kE(vt(t)))}function Cte(t){var e=Ci(Fr(t)),n=["absolute","fixed"].indexOf(kt(t).position)>=0,r=n&&tt(t)?Rn(t):t;return hn(r)?e.filter(function(i){return hn(i)&&El(i,r)&&lt(i)!=="body"}):[]}function FE(t,e,n,r){var i=e==="clippingParents"?Cte(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(u,c){var l=$F(t,c,r);return u.top=xn(l.top,u.top),u.right=Vo(l.right,u.right),u.bottom=Vo(l.bottom,u.bottom),u.left=xn(l.left,u.left),u},$F(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Dl(t){var e=t.reference,n=t.element,r=t.placement,i=r?dt(r):null,o=r?mn(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,u;switch(i){case Ke:u={x:s,y:e.y-n.height};break;case gt:u={x:s,y:e.y+e.height};break;case ct:u={x:e.x+e.width,y:a};break;case et:u={x:e.x-n.width,y:a};break;default:u={x:e.x,y:e.y}}var c=i?$o(i):null;if(c!=null){var l=c==="y"?"height":"width";switch(o){case Nr:u[c]=u[c]-(e[l]/2-n[l]/2);break;case Uo:u[c]=u[c]+(e[l]/2-n[l]/2);break;default:}}return u}function Di(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,u=a===void 0?kF:a,c=n.rootBoundary,l=c===void 0?Op:c,d=n.elementContext,h=d===void 0?Ta:d,m=n.altBoundary,g=m===void 0?!1:m,_=n.padding,y=_===void 0?0:_,b=Il(typeof y!="number"?y:Cl(y,Ii)),I=h===Ta?FF:Ta,E=t.rects.popper,S=t.elements[g?I:h],C=FE(hn(S)?S:S.contextElement||vt(t.elements.popper),u,l,s),R=pn(t.elements.reference),Y=Dl({reference:R,element:E,strategy:"absolute",placement:i}),Ee=Pa(Object.assign({},E,Y)),pe=h===Ta?Ee:R,Se={top:C.top-pe.top+b.top,bottom:pe.bottom-C.bottom+b.bottom,left:C.left-pe.left+b.left,right:pe.right-C.right+b.right},Le=t.modifiersData.offset;if(h===Ta&&Le){var Qe=Le[i];Object.keys(Se).forEach(function(We){var Ln=[ct,gt].indexOf(We)>=0?1:-1,qn=[Ke,gt].indexOf(We)>=0?"y":"x";Se[We]+=Qe[qn]*Ln})}return Se}function jE(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?Mp:u,l=mn(r),d=l?a?PE:PE.filter(function(g){return mn(g)===l}):Ii,h=d.filter(function(g){return c.indexOf(g)>=0});h.length===0&&(h=d);var m=h.reduce(function(g,_){return g[_]=Di(t,{placement:_,boundary:i,rootBoundary:o,padding:s})[dt(_)],g},{});return Object.keys(m).sort(function(g,_){return m[g]-m[_]})}function Dte(t){if(dt(t)===Tp)return[];var e=Aa(t);return[Pp(t),e,Pp(e)]}function Tte(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,u=n.fallbackPlacements,c=n.padding,l=n.boundary,d=n.rootBoundary,h=n.altBoundary,m=n.flipVariations,g=m===void 0?!0:m,_=n.allowedAutoPlacements,y=e.options.placement,b=dt(y),I=b===y,E=u||(I||!g?[Aa(y)]:Dte(y)),S=[y].concat(E).reduce(function(us,$r){return us.concat(dt($r)===Tp?jE(e,{placement:$r,boundary:l,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:_}):$r)},[]),C=e.rects.reference,R=e.rects.popper,Y=new Map,Ee=!0,pe=S[0],Se=0;Se<S.length;Se++){var Le=S[Se],Qe=dt(Le),We=mn(Le)===Nr,Ln=[Ke,gt].indexOf(Qe)>=0,qn=Ln?"width":"height",ft=Di(e,{placement:Le,boundary:l,rootBoundary:d,altBoundary:h,padding:c}),ce=Ln?We?ct:et:We?gt:Ke;C[qn]>R[qn]&&(ce=Aa(ce));var Pe=Aa(ce),qe=[];if(o&&qe.push(ft[Qe]<=0),a&&qe.push(ft[ce]<=0,ft[Pe]<=0),qe.every(function(us){return us})){pe=Le,Ee=!1;break}Y.set(Le,qe)}if(Ee)for(var Xt=g?3:1,as=function($r){var Du=S.find(function(Gl){var eo=Y.get(Gl);if(eo)return eo.slice(0,$r).every(function(m_){return m_})});if(Du)return pe=Du,"break"},Xi=Xt;Xi>0;Xi--){var zl=as(Xi);if(zl==="break")break}e.placement!==pe&&(e.modifiersData[r]._skip=!0,e.placement=pe,e.reset=!0)}}var LE={name:"flip",enabled:!0,phase:"main",fn:Tte,requiresIfExists:["offset"],data:{_skip:!1}};function Ote(t,e,n){var r=dt(t),i=[et,Ke].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[et,ct].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Mte(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Mp.reduce(function(l,d){return l[d]=Ote(d,e.rects,o),l},{}),a=s[e.placement],u=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}var qE={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Mte};function Ate(t){var e=t.state,n=t.name;e.modifiersData[n]=Dl({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var WF={name:"popperOffsets",enabled:!0,phase:"read",fn:Ate,data:{}};function BE(t){return t==="x"?"y":"x"}function Pte(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,d=n.padding,h=n.tether,m=h===void 0?!0:h,g=n.tetherOffset,_=g===void 0?0:g,y=Di(e,{boundary:u,rootBoundary:c,padding:d,altBoundary:l}),b=dt(e.placement),I=mn(e.placement),E=!I,S=$o(b),C=BE(S),R=e.modifiersData.popperOffsets,Y=e.rects.reference,Ee=e.rects.popper,pe=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,Se=typeof pe=="number"?{mainAxis:pe,altAxis:pe}:Object.assign({mainAxis:0,altAxis:0},pe),Le=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Qe={x:0,y:0};if(R){if(o){var We,Ln=S==="y"?Ke:et,qn=S==="y"?gt:ct,ft=S==="y"?"height":"width",ce=R[S],Pe=ce+y[Ln],qe=ce-y[qn],Xt=m?-Ee[ft]/2:0,as=I===Nr?Y[ft]:Ee[ft],Xi=I===Nr?-Ee[ft]:-Y[ft],zl=e.elements.arrow,us=m&&zl?Ho(zl):{width:0,height:0},$r=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Sl(),Du=$r[Ln],Gl=$r[qn],eo=Wo(0,Y[ft],us[ft]),m_=E?Y[ft]/2-Xt-eo-Du-Se.mainAxis:as-eo-Du-Se.mainAxis,Vz=E?-Y[ft]/2+Xt+eo+Gl+Se.mainAxis:Xi+eo+Gl+Se.mainAxis,g_=e.elements.arrow&&Rn(e.elements.arrow),Hz=g_?S==="y"?g_.clientTop||0:g_.clientLeft||0:0,UT=(We=Le?.[S])!=null?We:0,$z=ce+m_-UT-Hz,Wz=ce+Vz-UT,VT=Wo(m?Vo(Pe,$z):Pe,ce,m?xn(qe,Wz):qe);R[S]=VT,Qe[S]=VT-ce}if(a){var HT,zz=S==="x"?Ke:et,Gz=S==="x"?gt:ct,to=R[C],Yl=C==="y"?"height":"width",$T=to+y[zz],WT=to-y[Gz],v_=[Ke,et].indexOf(b)!==-1,zT=(HT=Le?.[C])!=null?HT:0,GT=v_?$T:to-Y[Yl]-Ee[Yl]-zT+Se.altAxis,YT=v_?to+Y[Yl]+Ee[Yl]-zT-Se.altAxis:WT,KT=m&&v_?BF(GT,to,YT):Wo(m?GT:$T,to,m?YT:WT);R[C]=KT,Qe[C]=KT-to}e.modifiersData[r]=Qe}}var UE={name:"preventOverflow",enabled:!0,phase:"main",fn:Pte,requiresIfExists:["offset"]};function VE(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function HE(t){return t===Ne(t)||!tt(t)?zo(t):VE(t)}function xte(t){var e=t.getBoundingClientRect(),n=kr(e.width)/t.offsetWidth||1,r=kr(e.height)/t.offsetHeight||1;return n!==1||r!==1}function $E(t,e,n){n===void 0&&(n=!1);var r=tt(e),i=tt(e)&&xte(e),o=vt(e),s=pn(t,i,n),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((lt(e)!=="body"||Yo(o))&&(a=HE(e)),tt(e)?(u=pn(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=Go(o))),{x:s.left+a.scrollLeft-u.x,y:s.top+a.scrollTop-u.y,width:s.width,height:s.height}}function Rte(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var u=e.get(a);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function WE(t){var e=Rte(t);return jF.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function zE(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function GE(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var zF={placement:"bottom",modifiers:[],strategy:"absolute"};function GF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function YF(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?zF:i;return function(a,u,c){c===void 0&&(c=o);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},zF,o),modifiersData:{},elements:{reference:a,popper:u},attributes:{},styles:{}},d=[],h=!1,m={state:l,setOptions:function(b){var I=typeof b=="function"?b(l.options):b;_(),l.options=Object.assign({},o,l.options,I),l.scrollParents={reference:hn(a)?Ci(a):a.contextElement?Ci(a.contextElement):[],popper:Ci(u)};var E=WE(GE([].concat(r,l.options.modifiers)));return l.orderedModifiers=E.filter(function(S){return S.enabled}),g(),m.update()},forceUpdate:function(){if(!h){var b=l.elements,I=b.reference,E=b.popper;if(GF(I,E)){l.rects={reference:$E(I,Rn(E),l.options.strategy==="fixed"),popper:Ho(E)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(Se){return l.modifiersData[Se.name]=Object.assign({},Se.data)});for(var S=0;S<l.orderedModifiers.length;S++){if(l.reset===!0){l.reset=!1,S=-1;continue}var C=l.orderedModifiers[S],R=C.fn,Y=C.options,Ee=Y===void 0?{}:Y,pe=C.name;typeof R=="function"&&(l=R({state:l,options:Ee,name:pe,instance:m})||l)}}}},update:zE(function(){return new Promise(function(y){m.forceUpdate(),y(l)})}),destroy:function(){_(),h=!0}};if(!GF(a,u))return m;m.setOptions(c).then(function(y){!h&&c.onFirstUpdate&&c.onFirstUpdate(y)});function g(){l.orderedModifiers.forEach(function(y){var b=y.name,I=y.options,E=I===void 0?{}:I,S=y.effect;if(typeof S=="function"){var C=S({state:l,name:b,instance:m,options:E}),R=function(){};d.push(C||R)}})}function _(){d.forEach(function(y){return y()}),d=[]}return m}}var Nte=[HF,WF,VF,LF],YE=YF({defaultModifiers:Nte});var kte=["*"];var Fte=["dialog"];var ZF={animation:!0,transitionTimerDelayMs:5},jte=(()=>{let e=class e{constructor(){this.animation=ZF.animation}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Lte(t){let{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t),r=parseFloat(e),i=parseFloat(n);return(r+i)*1e3}function XF(t){return typeof t=="string"}function KE(t){return t!=null}function qte(t){return t&&t.then}function Bte(t,e){return!e||typeof t.closest>"u"?null:t.closest(e)}function ej(t){return(t||document.body).getBoundingClientRect()}function Ute(t){return e=>new $(n=>{let r=s=>t.run(()=>n.next(s)),i=s=>t.run(()=>n.error(s)),o=()=>t.run(()=>n.complete());return e.subscribe({next:r,error:i,complete:o})})}function tj(t=document){let e=t?.activeElement;return e?e.shadowRoot?tj(e.shadowRoot):e:null}var Vte=()=>{},{transitionTimerDelayMs:Hte}=ZF,Rp=new Map,Ko=(t,e,n,r)=>{let i=r.context||{},o=Rp.get(e);if(o)switch(r.runningTransition){case"continue":return ot;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),Rp.delete(e)}let s=n(e,r.animation,i)||Vte;if(!r.animation||window.getComputedStyle(e).transitionProperty==="none")return t.run(()=>s()),k(void 0).pipe(Ute(t));let a=new me,u=new me,c=a.pipe(B_(!0));Rp.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});let l=Lte(e);return t.runOutsideAngular(()=>{let d=pt(e,"transitionend").pipe(Ze(c),Ue(({target:m})=>m===e)),h=xu(l+Hte).pipe(Ze(c));Id(h,d,u).pipe(Ze(c)).subscribe(()=>{Rp.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var nj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})();var rj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})();var ij=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})(),oj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})();var Nn=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(Nn||{});var Np=(t,e)=>e?e.some(n=>n.contains(t)):!1,KF=(t,e)=>!e||Bte(t,e)!=null,$te=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})(),Wte=t=>$te?()=>setTimeout(()=>t(),100):t;function zte(t,e,n,r,i,o,s,a){n&&t.runOutsideAngular(Wte(()=>{let u=h=>{let m=h.target;return h.button===2||Np(m,s)?!1:n==="inside"?Np(m,o)&&KF(m,a):n==="outside"?!Np(m,o):KF(m,a)||!Np(m,o)},c=pt(e,"keydown").pipe(Ze(i),Ue(h=>h.which===Nn.Escape),Fe(h=>h.preventDefault())),l=pt(e,"mousedown").pipe(q(u),Ze(i)),d=pt(e,"mouseup").pipe(ao(l),Ue(([h,m])=>m),q_(0),Ze(i));Id([c.pipe(q(h=>0)),d.pipe(q(h=>1))]).subscribe(h=>t.run(()=>r(h)))}))}var sj=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function aj(t){let e=Array.from(t.querySelectorAll(sj)).filter(n=>n.tabIndex!==-1);return[e[0],e[e.length-1]]}var Gte=(t,e,n,r=!1)=>{t.runOutsideAngular(()=>{let i=pt(e,"focusin").pipe(Ze(n),q(o=>o.target));pt(e,"keydown").pipe(Ze(n),Ue(o=>o.which===Nn.Tab),ao(i)).subscribe(([o,s])=>{let[a,u]=aj(e);(s===a||s===e)&&o.shiftKey&&(u.focus(),o.preventDefault()),s===u&&!o.shiftKey&&(a.focus(),o.preventDefault())}),r&&pt(e,"click").pipe(Ze(n),ao(i),q(o=>o[1])).subscribe(o=>o.focus())})},Yte=(()=>{let e=class e{constructor(){this._element=D($e).documentElement}isRTL(){return(this._element.getAttribute("dir")||"").toLowerCase()==="rtl"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kte=/\s+/,Qte=/  +/gi,Jte={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]};function Zte(t,e){let[n,r]=Jte[t];return e&&r||n}var Xte=/^left/,ene=/^right/,tne=/^start/,nne=/^end/;function rne(t,e){let[n,r]=e.split("-"),i=n.replace(Xte,"start").replace(ene,"end"),o=[i];if(r){let s=r;(n==="left"||n==="right")&&(s=s.replace(tne,"top").replace(nne,"bottom")),o.push(`${i}-${s}`)}return t&&(o=o.map(s=>`${t}-${s}`)),o.join(" ")}function QF({placement:t,baseClass:e},n){let r=Array.isArray(t)?t:t.split(Kte),i=["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"],o=r.findIndex(c=>c==="auto");o>=0&&i.forEach(function(c){r.find(l=>l.search("^"+c)!==-1)==null&&r.splice(o++,1,c)});let s=r.map(c=>Zte(c,n.isRTL()));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:c}){let l=new RegExp(e+"(-[a-z]+)*","gi"),d=c.elements.popper,h=c.placement,m=d.className;m=m.replace(l,""),m+=` ${rne(e,h)}`,m=m.trim().replace(Qte," "),d.className=m}},LE,UE,RE,{enabled:!0,name:"flip",options:{fallbackPlacements:s}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function JF(t){return t}function ine(){let t=D(Yte),e=null;return{createPopper(n){if(!e){let i=(n.updatePopperOptions||JF)(QF(n,t));e=YE(n.hostElement,n.targetElement,i)}},update(){e&&e.update()},setOptions(n){if(e){let i=(n.updatePopperOptions||JF)(QF(n,t));e.setOptions(i)}},destroy(){e&&(e.destroy(),e=null)}}}function one(t){return e=>(e.modifiers.push(qE,{name:"offset",options:{offset:()=>t}}),e)}var uWe=new Date(1882,10,12),cWe=new Date(2174,10,25);var lWe=1e3*60*60*24;var XE=1080,sne=24*XE,ane=12*XE+793,dWe=29*sne+ane,fWe=11*XE+204;var uj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})(),une=(()=>{let e=class e{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=r=>r,this.container=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cne=(()=>{let e=class e{constructor(){this._disabled=!1,this.nativeElement=D(Pt).nativeElement,this.tabindex=0}set disabled(r){this._disabled=r===""||r===!0}get disabled(){return this._disabled}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Tn({type:e,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(i,o){i&2&&(Nb("tabIndex",o.disabled?-1:o.tabindex),Ir("disabled",o.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0});let t=e;return t})();var eS=(()=>{let e=class e{constructor(){this.dropdown=D(Fp),this.nativeElement=D(Pt).nativeElement}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Tn({type:e,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(i,o,s){if(i&1&&ic(s,cne,4),i&2){let a;zs(a=Gs())&&(o.menuItems=a)}},hostVars:4,hostBindings:function(i,o){i&1&&Kn("keydown.ArrowUp",function(a){return o.dropdown.onKeyDown(a)})("keydown.ArrowDown",function(a){return o.dropdown.onKeyDown(a)})("keydown.Home",function(a){return o.dropdown.onKeyDown(a)})("keydown.End",function(a){return o.dropdown.onKeyDown(a)})("keydown.Enter",function(a){return o.dropdown.onKeyDown(a)})("keydown.Space",function(a){return o.dropdown.onKeyDown(a)})("keydown.Tab",function(a){return o.dropdown.onKeyDown(a)})("keydown.Shift.Tab",function(a){return o.dropdown.onKeyDown(a)}),i&2&&Ir("dropdown-menu",!0)("show",o.dropdown.isOpen())},standalone:!0});let t=e;return t})(),QE=(()=>{let e=class e{constructor(){this.dropdown=D(Fp),this.nativeElement=D(Pt).nativeElement}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Tn({type:e,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(i,o){i&2&&(So("aria-expanded",o.dropdown.isOpen()),Ir("show",o.dropdown.isOpen()))},standalone:!0});let t=e;return t})(),cj=(()=>{let e=class e extends QE{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ju(e)))(o||e)}})(),e.\u0275dir=Tn({type:e,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(i,o){i&1&&Kn("click",function(){return o.dropdown.toggle()})("keydown.ArrowUp",function(a){return o.dropdown.onKeyDown(a)})("keydown.ArrowDown",function(a){return o.dropdown.onKeyDown(a)})("keydown.Home",function(a){return o.dropdown.onKeyDown(a)})("keydown.End",function(a){return o.dropdown.onKeyDown(a)})("keydown.Tab",function(a){return o.dropdown.onKeyDown(a)})("keydown.Shift.Tab",function(a){return o.dropdown.onKeyDown(a)}),i&2&&(So("aria-expanded",o.dropdown.isOpen()),Ir("show",o.dropdown.isOpen()))},standalone:!0,features:[qP([{provide:QE,useExisting:uf(()=>e)}]),Pb]});let t=e;return t})(),Fp=(()=>{let e=class e{constructor(){this._changeDetector=D(Eo),this._config=D(une),this._document=D($e),this._ngZone=D(Z),this._nativeElement=D(Pt).nativeElement,this._destroyCloseHandlers$=new me,this._bodyContainer=null,this._positioning=ine(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new Ye}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe(Ge(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(r){if(r.container&&this._open&&this._applyContainer(this.container),r.placement&&!r.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:this.container==="body"}),this._applyPlacementClasses()),r.dropdownClass){let{currentValue:i,previousValue:o}=r.dropdownClass;this._applyCustomDropdownClass(i,o)}r.autoClose&&this._open&&(this.autoClose=r.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),this.display==="dynamic"&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:this.container==="body",updatePopperOptions:r=>this.popperOptions(one([0,2])(r))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),zte(this._ngZone,this._document,this.autoClose,r=>{this.close(),r===0&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(r){let i=r.which,o=this._getMenuElements(),s=-1,a=null,u=this._isEventFromToggle(r);if(!u&&o.length&&o.forEach((c,l)=>{c.contains(r.target)&&(a=c),c===tj(this._document)&&(s=l)}),i===Nn.Space||i===Nn.Enter){a&&(this.autoClose===!0||this.autoClose==="inside")&&pt(a,"click").pipe(Ge(1)).subscribe(()=>this.close());return}if(i===Nn.Tab){if(r.target&&this.isOpen()&&this.autoClose)if(this._anchor.nativeElement===r.target){this.container==="body"&&!r.shiftKey?(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")):r.shiftKey&&this.close();return}else if(this.container==="body"){let c=this._menu.nativeElement.querySelectorAll(sj);r.shiftKey&&r.target===c[0]?(this._anchor.nativeElement.focus(),r.preventDefault()):!r.shiftKey&&r.target===c[c.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else pt(r.target,"focusout").pipe(Ge(1)).subscribe(({relatedTarget:c})=>{this._nativeElement.contains(c)||this.close()});return}if(u||a){if(this.open(),o.length){switch(i){case Nn.ArrowDown:s=Math.min(s+1,o.length-1);break;case Nn.ArrowUp:if(this._isDropup()&&s===-1){s=o.length-1;break}s=Math.max(s-1,0);break;case Nn.Home:s=0;break;case Nn.End:s=o.length-1;break}o[s].focus()}r.preventDefault()}}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(r){return this._anchor.nativeElement.contains(r.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:r})=>!r).map(({nativeElement:r})=>r):[]}_positionMenu(){let r=this._menu;this.isOpen()&&r&&(this.display==="dynamic"?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(r){return Array.isArray(r)?r[0]:r.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(r=null){if(this._resetContainer(),r==="body"){let i=this._menu.nativeElement,o=this._bodyContainer=this._bodyContainer||this._document.createElement("div");o.style.position="absolute",i.style.position="static",o.style.zIndex="1055",o.appendChild(i),this._document.body.appendChild(o)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(r,i){let o=this.container==="body"?this._bodyContainer:this._nativeElement;o&&(i&&o.classList.remove(i),r&&o.classList.add(r))}_applyPlacementClasses(r){if(this._menu){r||(r=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),this.display==="static"?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");let i=r.search("^top")!==-1?"dropup":"dropdown";this._nativeElement.classList.add(i),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(i))}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Tn({type:e,selectors:[["","ngbDropdown",""]],contentQueries:function(i,o,s){if(i&1&&(ic(s,eS,5),ic(s,QE,5)),i&2){let a;zs(a=Gs())&&(o._menu=a.first),zs(a=Gs())&&(o._anchor=a.first)}},hostVars:2,hostBindings:function(i,o){i&2&&Ir("show",o.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[zt.None,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[yo]});let t=e;return t})();var lj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})(),lne=(()=>{let e=class e{constructor(){this._ngbConfig=D(jte),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(r){this._animation=r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xa=class{constructor(e,n,r){this.nodes=e,this.viewRef=n,this.componentRef=r}};var dne=(()=>{let e=class e{constructor(){this._document=D($e)}hide(){let r=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:s,paddingRight:a}=o;if(r>0){let u=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${u+r}px`}return o.overflow="hidden",()=>{r>0&&(o.paddingRight=a),o.overflow=s}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fne=(()=>{let e=class e{constructor(){this._nativeElement=D(Pt).nativeElement,this._zone=D(Z)}ngOnInit(){this._zone.onStable.asObservable().pipe(Ge(1)).subscribe(()=>{Ko(this._zone,this._nativeElement,(r,i)=>{i&&ej(r),r.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ko(this._zone,this._nativeElement,({classList:r})=>r.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,o){i&2&&(Af("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),Ir("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[oc],decls:0,vars:0,template:function(i,o){},encapsulation:2});let t=e;return t})(),kp=class{update(e){}close(e){}dismiss(e){}},hne=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],pne=["animation","backdropClass"],JE=class{_applyWindowOptions(e,n){hne.forEach(r=>{KE(n[r])&&(e[r]=n[r])})}_applyBackdropOptions(e,n){pne.forEach(r=>{KE(n[r])&&(e[r]=n[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ze(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ze(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,r,i){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new me,this._dismissed=new me,this._hidden=new me,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let n=this._beforeDismiss();qte(n)?n.then(r=>{r!==!1&&this._dismiss(e)},()=>{}):n!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():k(void 0);e.subscribe(()=>{let{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ru(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},ZE=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(ZE||{}),mne=(()=>{let e=class e{constructor(){this._document=D($e),this._elRef=D(Pt),this._zone=D(Z),this._closed$=new me,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ye,this.shown=new me,this.hidden=new me}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":XF(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(r){this.dismissEvent.emit(r)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ge(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:r}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=Ko(this._zone,r,()=>r.classList.remove("show"),i),s=Ko(this._zone,this._dialogEl.nativeElement,()=>{},i),a=Ru(o,s);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let r={animation:this.animation,runningTransition:"continue"},i=Ko(this._zone,this._elRef.nativeElement,(s,a)=>{a&&ej(s),s.classList.add("show")},r),o=Ko(this._zone,this._dialogEl.nativeElement,()=>{},r);Ru(i,o).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:r}=this._elRef;this._zone.runOutsideAngular(()=>{pt(r,"keydown").pipe(Ze(this._closed$),Ue(o=>o.which===Nn.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(ZE.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;pt(this._dialogEl.nativeElement,"mousedown").pipe(Ze(this._closed$),Fe(()=>i=!1),_e(()=>pt(r,"mouseup").pipe(Ze(this._closed$),Ge(1))),Ue(({target:o})=>r===o)).subscribe(()=>{i=!0}),pt(r,"click").pipe(Ze(this._closed$)).subscribe(({target:o})=>{r===o&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(ZE.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:r}=this._elRef;if(!r.contains(document.activeElement)){let i=r.querySelector("[ngbAutofocus]"),o=aj(r)[0];(i||o||r).focus()}}_restoreFocus(){let r=this._document.body,i=this._elWithFocus,o;i&&i.focus&&r.contains(i)?o=i:o=r,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Ko(this._zone,this._elRef.nativeElement,({classList:r})=>(r.add("modal-static"),()=>r.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,o){if(i&1&&jP(Fte,7),i&2){let s;zs(s=Gs())&&(o._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,o){i&2&&(So("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),Af("modal d-block"+(o.windowClass?" "+o.windowClass:"")),Ir("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[oc],ngContentSelectors:kte,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,o){i&1&&(PP(),K(0,"div",0,1)(2,"div",2),xP(3),H()()),i&2&&Af("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let t=e;return t})(),gne=(()=>{let e=class e{constructor(){this._applicationRef=D(ui),this._injector=D(Mt),this._environmentInjector=D(bt),this._document=D($e),this._scrollBar=D(dne),this._activeWindowCmptHasChanged=new me,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Ye;let r=D(Z);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];Gte(r,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let r=this._scrollBarRestoreFn;r&&(this._scrollBarRestoreFn=null,r())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(r,i,o){let s=o.container instanceof HTMLElement?o.container:KE(o.container)?this._document.querySelector(o.container):this._document.body;if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new kp;r=o.injector||r;let u=r.get(bt,null)||this._environmentInjector,c=this._getContentRef(r,u,i,a,o),l=o.backdrop!==!1?this._attachBackdrop(s):void 0,d=this._attachWindowComponent(s,c.nodes),h=new JE(d,c,l,o.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(Ge(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=m=>{h.close(m)},a.dismiss=m=>{h.dismiss(m)},a.update=m=>{h.update(m)},h.update(o),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(r){this._modalRefs.forEach(i=>i.dismiss(r))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(r){let i=$f(fne,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),r.appendChild(i.location.nativeElement),i}_attachWindowComponent(r,i){let o=$f(mne,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),r.appendChild(o.location.nativeElement),o}_getContentRef(r,i,o,s,a){return o?o instanceof ti?this._createFromTemplateRef(o,s):XF(o)?this._createFromString(o):this._createFromComponent(r,i,o,s,a):new xa([])}_createFromTemplateRef(r,i){let o={$implicit:i,close(a){i.close(a)},dismiss(a){i.dismiss(a)}},s=r.createEmbeddedView(o);return this._applicationRef.attachView(s),new xa([s.rootNodes],s)}_createFromString(r){let i=this._document.createTextNode(`${r}`);return new xa([[i]])}_createFromComponent(r,i,o,s,a){let u=Mt.create({providers:[{provide:kp,useValue:s}],parent:r}),c=$f(o,{environmentInjector:i,elementInjector:u}),l=c.location.nativeElement;return a.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new xa([[l]],c.hostView,c)}_setAriaHidden(r){let i=r.parentElement;i&&r!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==r&&o.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((r,i)=>{r?i.setAttribute("aria-hidden",r):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(r){let i=()=>{let o=this._modalRefs.indexOf(r);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(r),this._activeInstances.emit(this._modalRefs),r.result.then(i,i)}_registerWindowCmpt(r){this._windowCmpts.push(r),this._activeWindowCmptHasChanged.next(),r.onDestroy(()=>{let i=this._windowCmpts.indexOf(r);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vne=(()=>{let e=class e{constructor(){this._injector=D(Mt),this._modalStack=D(gne),this._config=D(lne)}open(r,i={}){let o=N(De(N({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,r,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(r){this._modalStack.dismissAll(r)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({providers:[vne]});let t=e;return t})();var fj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})();var hj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})();var pj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})();var mj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})();var gj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})();var vj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})();var _j=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})();var yj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})();var bj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})();var hWe=new j("live announcer delay",{providedIn:"root",factory:()=>100});var wj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})();var Ej=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let t=e;return t})(),_ne=[nj,rj,ij,oj,uj,lj,dj,fj,Ej,hj,pj,mj,gj,vj,_j,yj,bj,wj],Sj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({imports:[_ne,nj,rj,ij,oj,uj,lj,dj,fj,Ej,hj,pj,mj,gj,vj,_j,yj,bj,wj]});let t=e;return t})();function bne(t,e){t&1&&(K(0,"li",7)(1,"a",11),ae(2,"login"),H()())}function wne(t,e){t&1&&(Pf(0),K(1,"li")(2,"a",18),ae(3,"Manage Orders"),H()(),K(4,"li")(5,"a",19),ae(6,"Manage products"),H()(),xf())}function Ene(t,e){if(t&1){let n=Rb();K(0,"li",12)(1,"a",13),ae(2),H(),K(3,"ul",14)(4,"li")(5,"a",15),ae(6,"My Orders"),H()(),tc(7,wne,7,0,"ng-container",16),K(8,"li")(9,"a",17),Kn("click",function(){Xy(n);let i=Rf();return eb(i.logout())}),ae(10,"Log Out "),H()()()()}if(t&2){let n=Rf();ec(2),kf(" ",n.appUser.name," "),ec(5),nc("ngIf",n.appUser.isAdmin)}}var Ij=(()=>{let e=class e{constructor(r){this.auth=r,r.appUser$.subscribe(i=>i=i)}logout(){this.auth.logout()}};e.\u0275fac=function(i){return new(i||e)(He(fn))},e.\u0275cmp=ye({type:e,selectors:[["bs-navbar"]],decls:14,vars:2,consts:[["aria-label","Fourth navbar example",1,"navbar","navbar-expand-md","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarsExample04","aria-controls","navbarsExample04","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExample04",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-md-0"],[1,"nav-item"],["routerLink","/shopping-cart",1,"nav-link"],["anonymousUser",""],["ngbDropdown","","class","nav-item dropdown",4,"ngIf","ngIfElse"],["routerLink","/login",1,"nav-link"],["ngbDropdown","",1,"nav-item","dropdown"],["ngbDropdownToggle","","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["ngbDropdownMenu","",1,"dropdown-menu","ngbDropdownMenu"],["routerLink","my-orders",1,"dropdown-item"],[4,"ngIf"],[1,"dropdown-item",3,"click"],["routerLink","admin-orders",1,"dropdown-item"],["routerLink","admin-products",1,"dropdown-item"]],template:function(i,o){if(i&1&&(K(0,"nav",0)(1,"div",1)(2,"a",2),ae(3,"O"),H(),K(4,"button",3),qt(5,"span",4),H(),K(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),ae(10,"Shopping Cart"),H()(),tc(11,bne,3,0,"ng-template",null,9,Fb)(13,Ene,11,2,"li",10),H()()()()),i&2){let s=kb(12);ec(13),nc("ngIf",o.appUser)("ngIfElse",s)}},dependencies:[ix,_h,Fp,cj,eS],styles:[".dropdown-toggle[_ngcontent-%COMP%]{cursor:pointer}"]});let t=e;return t})();var Cj=(()=>{let e=class e{constructor(r,i,o){this.auth=r,this.userService=o,r.user$.subscribe(s=>{if(s){o.save(s);let a=JSON.parse(localStorage.getItem("returnUrl")||"{}");i.navigateByUrl(a)}})}};e.\u0275fac=function(i){return new(i||e)(He(fn),He(un),He(Da))},e.\u0275cmp=ye({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(i,o){i&1&&(qt(0,"bs-navbar"),K(1,"div",0),qt(2,"router-outlet"),H())},dependencies:[q0,Ij]});let t=e;return t})();var Dj={production:!1,firebase:{apiKey:"AIzaSyAeSCtmAB-gu0Fl6ONWHTv8F8V_x4maWKc",authDomain:"oshop-7bf44.firebaseapp.com",projectId:"oshop-7bf44",storageBucket:"oshop-7bf44.appspot.com",messagingSenderId:"463931923844",appId:"1:463931923844:web:c0a0c69c77a691388351d1",measurementId:"G-MBW8VHVGP1"}};var Tj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-home"]],decls:2,vars:0,template:function(i,o){i&1&&(K(0,"p"),ae(1,"home works!"),H())}});let t=e;return t})();var Oj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-products"]],decls:2,vars:0,template:function(i,o){i&1&&(K(0,"p"),ae(1,"products works!"),H())}});let t=e;return t})();var Mj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-shopping-cart"]],decls:2,vars:0,template:function(i,o){i&1&&(K(0,"p"),ae(1,"shopping-cart works!"),H())}});let t=e;return t})();var Aj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-check-out"]],decls:2,vars:0,template:function(i,o){i&1&&(K(0,"p"),ae(1,"check-out works!"),H())}});let t=e;return t})();var Pj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-order-success"]],decls:2,vars:0,template:function(i,o){i&1&&(K(0,"p"),ae(1,"order-success works!"),H())}});let t=e;return t})();var xj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-my-orders"]],decls:2,vars:0,template:function(i,o){i&1&&(K(0,"p"),ae(1,"my-orders works!"),H())}});let t=e;return t})();var Rj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-admin-products"]],decls:2,vars:0,consts:[["routerLink","admin-product-new",1,"btn","btn-primary"]],template:function(i,o){i&1&&(K(0,"a",0),ae(1,"New Product"),H())},dependencies:[_h]});let t=e;return t})();var Nj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-admin-orders"]],decls:2,vars:0,template:function(i,o){i&1&&(K(0,"p"),ae(1,"admin-orders works!"),H())}});let t=e;return t})();var kj=(()=>{let e=class e{constructor(r){this.auth=r}login(){this.auth.login()}};e.\u0275fac=function(i){return new(i||e)(He(fn))},e.\u0275cmp=ye({type:e,selectors:[["app-login"]],decls:2,vars:0,consts:[[1,"btn","btn-primary",3,"click"]],template:function(i,o){i&1&&(K(0,"button",0),Kn("click",function(){return o.login()}),ae(1,"Login with Google"),H())}});let t=e;return t})();var T9e=Kz(qz());var Zi=(()=>{let e=class e{constructor(r,i){this.auth=r,this.router=i}canActivate(r,i){return this.auth.user$.map(o=>o?!0:(this.router.navigate(["/login"],{queryParams:{returnUrl:i.url}}),!1))}};e.\u0275fac=function(i){return new(i||e)(O(fn),O(un))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var p_=(()=>{let e=class e{constructor(r){this.auth=r}canActivate(){return this.auth.appUser$.map(r=>r.isAdmin)}};e.\u0275fac=function(i){return new(i||e)(O(fn))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();var Bz=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ye({type:e,selectors:[["app-product-form"]],decls:23,vars:0,consts:[[1,"form-group"],["for","title"],["id","title","type","text",1,"form-control"],["for","price"],[1,"input-group"],[1,"input-group-addon"],["id","price","type","number",1,"form-control"],["for","category"],["id","category",1,"form-control"],["value",""],["for","imageUrl"],["id","imageUrl","type","text",1,"form-control"],[1,"btn","btn-primary"]],template:function(i,o){i&1&&(K(0,"form")(1,"div",0)(2,"label",1),ae(3,"Title"),H(),qt(4,"input",2),H(),K(5,"div",0)(6,"label",3),ae(7,"Price"),H(),K(8,"div",4)(9,"span",5),ae(10,"$"),H(),qt(11,"input",6),H()(),K(12,"div",0)(13,"label",7),ae(14,"Category"),H(),K(15,"select",8),qt(16,"option",9),H()(),K(17,"div",0)(18,"label",10),ae(19,"Image URL"),H(),qt(20,"input",11),H(),K(21,"button",12),ae(22,"Save"),H()())}});let t=e;return t})();var Uz=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=se({type:e,bootstrap:[Cj]}),e.\u0275inj=oe({providers:[fn,Zi,Da,p_],imports:[vx,dR,Ex.initializeApp(Dj.firebase),IR,Yk,Nc.forRoot([{path:"",component:Tj},{path:"products",component:Oj},{path:"shopping-cart",component:Mj},{path:"check-out",component:Aj,canActivate:[Zi]},{path:"order-success",component:Pj,canActivate:[Zi]},{path:"login",component:kj},{path:"admin-products",component:Rj,canActivate:[Zi]},{path:"admin-products-new",component:Bz,canActivate:[Zi]},{path:"admin-orders",component:Nj,canActivate:[Zi,p_]},{path:"my-orders",component:xj,canActivate:[Zi,p_]}]),Sj]});let t=e;return t})();gx().bootstrapModule(Uz).catch(t=>console.error(t));
